YUI.add("pp-carousel",function(B){B.namespace("YUI2");var A=B.YUI2;A.util.Event.throwErrors=true;(function(){var R;A.widget.Carousel=function(q,p){A.log("Component creation",R);A.widget.Carousel.superclass.constructor.call(this,q,p);};var V=A.widget.Carousel,f=A.util.Dom,d=A.util.Event,n=A.lang,G=B.PhotoPreview.getDocument?B.PhotoPreview.getDocument():document;if(B.PhotoPreview.getDocument){f.get=function(p){return n.isString(p)?G.getElementById(p):p;};}R="Carousel";var U={},I="afterScroll",g="allItemsRemoved",c="beforeHide",L="beforePageChange",i="beforeScroll",Z="beforeShow",D="blur",Y="focus",b="hide",T="itemAdded",m="itemRemoved",S="itemReplaced",E="itemSelected",N="loadItems",h="pageChange",K="render",W="show",a="startAutoPlay",o="stopAutoPlay",M="uiUpdate";function J(p,q){var r;for(r in q){if(q.hasOwnProperty(r)){f.setStyle(p,r,q[r]);}}}function X(q,p){var r=G.createElement(q);p=p||{};if(p.className){f.addClass(r,p.className);}if(p.styles){J(r,p.styles);}if(p.parent){p.parent.appendChild(r);}if(p.id){r.setAttribute("id",p.id);}if(p.content){if(p.content.nodeName){r.appendChild(p.content);}else{r.innerHTML=p.content;}}return r;}function e(r,q,p){var t;if(!r){return 0;}function s(w,v){var x;if(v=="marginRight"&&A.env.ua.webkit){x=parseInt(f.getStyle(w,"marginLeft"),10);}else{x=parseInt(f.getStyle(w,v),10);}return n.isNumber(x)?x:0;}function u(w,v){var x;if(v=="marginRight"&&A.env.ua.webkit){x=parseFloat(f.getStyle(w,"marginLeft"));}else{x=parseFloat(f.getStyle(w,v));}return n.isNumber(x)?x:0;}if(typeof p=="undefined"){p="int";}switch(q){case"height":t=r.offsetHeight;if(t>0){t+=s(r,"marginTop")+s(r,"marginBottom");}else{t=u(r,"height")+s(r,"marginTop")+s(r,"marginBottom")+s(r,"borderTopWidth")+s(r,"borderBottomWidth")+s(r,"paddingTop")+s(r,"paddingBottom");}break;case"width":t=r.offsetWidth;if(t>0){t+=s(r,"marginLeft")+s(r,"marginRight");}else{t=u(r,"width")+s(r,"marginLeft")+s(r,"marginRight")+s(r,"borderLeftWidth")+s(r,"borderRightWidth")+s(r,"paddingLeft")+s(r,"paddingRight");}break;default:if(p=="int"){t=s(r,q);}else{if(p=="float"){t=u(r,q);}else{t=f.getStyle(r,q);}}break;}return t;}function Q(u){var s=this,v,r,q=0,t=s.get("firstVisible"),p=false;if(s._itemsTable.numItems===0){return 0;}r=s._itemsTable.items[t]||s._itemsTable.loading[t];if(n.isUndefined(r)){return 0;}v=f.get(r.id);if(typeof u=="undefined"){p=s.get("isVertical");}else{p=u=="height";}if(this._itemAttrCache[u]){return this._itemAttrCache[u];}if(p){q=e(v,"height");}else{q=e(v,"width");}this._itemAttrCache[u]=q;return q;}function P(){var q=this,r,p;r=q.get("isVertical");p=Q.call(q,r?"height":"width");return(p*q.get("revealAmount")/100);}function k(p){return{};}function F(q){var p=this.get("numVisible");return Math.floor(q/p)*p;}function j(r){var q=0,p=0;q=Q.call(this);p=q*r;return p;}function l(v,r){var z=this,AA=z.CLASSES,q,x=z._firstItem,s=z.get("isCircular"),w=z.get("numItems"),y=z.get("numVisible"),u=r,t=x+y-1,p;if(u>=0&&u<w){if(!n.isUndefined(z._itemsTable.items[u])){q=f.get(z._itemsTable.items[u].id);if(q){f.removeClass(q,AA.SELECTED_ITEM);}}}if(n.isNumber(v)){v=parseInt(v,10);v=n.isNumber(v)?v:0;}else{v=x;}if(n.isUndefined(z._itemsTable.items[v])){p=F.call(z,v);z.scrollTo(p);}if(!n.isUndefined(z._itemsTable.items[v])){q=f.get(z._itemsTable.items[v].id);if(q){f.addClass(q,AA.SELECTED_ITEM);}}if(v<x||v>t){p=F.call(z,v);z.scrollTo(p);}}function O(p,q){switch(q){case"height":return e(p,"marginTop")+e(p,"marginBottom")+e(p,"paddingTop")+e(p,"paddingBottom")+e(p,"borderTopWidth")+e(p,"borderBottomWidth");case"width":return e(p,"marginLeft")+e(p,"marginRight")+e(p,"paddingLeft")+e(p,"paddingRight")+e(p,"borderLeftWidth")+e(p,"borderRightWidth");default:break;}return e(p,q);}function C(q){var p=this;if(!n.isObject(q)){return;}switch(q.ev){case T:p._syncUiForItemAdd(q);break;case m:p._syncUiForItemRemove(q);break;case S:p._syncUiForItemReplace(q);break;case N:p._syncUiForLazyLoading(q);break;}p.fireEvent(M);}function H(s,q){var u=this,t=u.get("currentPage"),r,p=u.get("numVisible");r=parseInt(u._firstItem/p,10);if(r!=t){u.setAttributeConfig("currentPage",{value:r});u.fireEvent(h,r);}if(u.get("selectOnScroll")){if(u.get("selectedItem")!=u._selectedItem){u.set("selectedItem",u._selectedItem);}}clearTimeout(u._autoPlayTimer);delete u._autoPlayTimer;if(u.isAutoPlayOn()){u.startAutoPlay();}u.fireEvent(I,{first:u._firstItem,last:q},u);}V.getById=function(p){return U[p]?U[p].object:false;};A.extend(V,A.util.Element,{_rows:null,_cols:null,_animObj:null,_carouselEl:null,_clipEl:null,_firstItem:0,_hasFocus:false,_hasRendered:false,_isAnimationInProgress:false,_isAutoPlayInProgress:false,_itemsTable:null,_pages:null,_recomputeSize:true,_itemAttrCache:{},CLASSES:{CAROUSEL:"yui-carousel",CAROUSEL_EL:"yui-carousel-element",CONTAINER:"yui-carousel-container",CONTENT:"yui-carousel-content",HORIZONTAL:"yui-carousel-horizontal",ITEM_LOADING:"yui-carousel-item-loading",MIN_WIDTH:"yui-carousel-min-width",SELECTED_ITEM:"yui-carousel-item-selected",VERTICAL:"yui-carousel-vertical",MULTI_ROW:"yui-carousel-multi-row",ROW:"yui-carousel-row",VERTICAL_CONTAINER:"yui-carousel-vertical-container",VISIBLE:"yui-carousel-visible"},CONFIG:{FIRST_VISIBLE:0,HORZ_MIN_WIDTH:180,VERT_MIN_WIDTH:115,NUM_VISIBLE:3},STRINGS:{ITEM_LOADING_CONTENT:"Loading"},addItem:function(w,q){var v=this,s,r,p,x=0,u,t=v.get("numItems");if(!w){return false;}if(n.isString(w)||w.nodeName){r=w.nodeName?w.innerHTML:w;}else{if(n.isObject(w)){r=w.content;}else{A.log("Invalid argument to addItem","error",R);return false;}}s=w.className||"";p=w.id?w.id:f.generateId();if(n.isUndefined(q)){v._itemsTable.items.push({item:r,className:s,id:p});u=v._itemsTable.items.length-1;}else{if(q<0||q>t){A.log("Index out of bounds","error",R);return false;}if(!v._itemsTable.items[q]){v._itemsTable.items[q]=undefined;x=1;}v._itemsTable.items.splice(q,x,{item:r,className:s,id:p});}v._itemsTable.numItems++;if(t<v._itemsTable.items.length){v.set("numItems",v._itemsTable.items.length);}v.fireEvent(T,{pos:q,ev:T,newPos:u});
return true;},addItems:function(p){var q,s,r=true;if(!n.isArray(p)){return false;}for(q=0,s=p.length;q<s;q++){if(this.addItem(p[q][0],p[q][1])===false){r=false;}}return r;},blur:function(){this._carouselEl.blur();this.fireEvent(D);},clearItems:function(){var p=this,q=p.get("numItems");while(q>0){if(!p.removeItem(0)){A.log("Item could not be removed - missing?","warn",R);}if(p._itemsTable.numItems===0){p.set("numItems",0);break;}q--;}p.fireEvent(g);},focus:function(){var y=this,t,u,v,s,x,z,q,r,p;if(!y._hasRendered){return;}if(y.isAnimating()){return;}p=y.get("selectedItem");z=y.get("numVisible");q=y.get("selectOnScroll");r=(p>=0)?y.getItem(p):null;t=y.get("firstVisible");x=t+z-1;v=(p<t||p>x);u=(r&&r.id)?f.get(r.id):null;s=y._itemsTable;if(!q&&v){u=(s&&s.items&&s.items[t])?f.get(s.items[t].id):null;}if(u){try{u.focus();}catch(w){}}y.fireEvent(Y);},hide:function(){var p=this;if(p.fireEvent(c)!==false){p.removeClass(p.CLASSES.VISIBLE);p.fireEvent(b);}},init:function(s,q){var t=this,p=s,u=false,r;if(!s){A.log(s+" is neither an HTML element, nor a string","error",R);return;}t._hasRendered=false;t._itemAttrCache={};t._itemsTable={loading:{},numItems:0,items:[],size:0};A.log("Component initialization",R);if(n.isString(s)){s=f.get(s);}else{if(!s.nodeName){A.log(s+" is neither an HTML element, nor a string","error",R);return;}}V.superclass.init.call(t,s,q);r=t.get("selectedItem");if(r>0){t.set("firstVisible",F.call(t,r));}if(s){if(!s.id){s.setAttribute("id",f.generateId());}u=t._parseCarousel(s);if(!u){t._createCarousel(p);}}else{s=t._createCarousel(p);}p=s.id;t.initEvents();if(u){t._parseCarouselItems();}if(r>0){l.call(t,r,0);}if(!q||typeof q.isVertical=="undefined"){t.set("isVertical",false);}U[p]={object:t};t._loadItems(Math.min(t.get("firstVisible")+t.get("numVisible"),t.get("numItems"))-1);},initAttributes:function(p){var q=this;p=p||{};V.superclass.initAttributes.call(q,p);q.setAttributeConfig("carouselEl",{validator:n.isString,value:p.carouselEl||"OL"});q.setAttributeConfig("carouselItemEl",{validator:n.isString,value:p.carouselItemEl||"LI"});q.setAttributeConfig("currentPage",{readOnly:true,value:0});q.setAttributeConfig("firstVisible",{method:q._setFirstVisible,validator:q._validateFirstVisible,value:p.firstVisible||q.CONFIG.FIRST_VISIBLE});q.setAttributeConfig("selectOnScroll",{validator:n.isBoolean,value:p.selectOnScroll||true});q.setAttributeConfig("numVisible",{setter:q._numVisibleSetter,method:q._setNumVisible,validator:q._validateNumVisible,value:p.numVisible||q.CONFIG.NUM_VISIBLE});q.setAttributeConfig("numItems",{method:q._setNumItems,validator:q._validateNumItems,value:q._itemsTable.numItems});q.setAttributeConfig("scrollIncrement",{validator:q._validateScrollIncrement,value:p.scrollIncrement||1});q.setAttributeConfig("selectedItem",{setter:q._selectedItemSetter,method:q._setSelectedItem,validator:n.isNumber,value:-1});q.setAttributeConfig("revealAmount",{method:q._setRevealAmount,validator:q._validateRevealAmount,value:p.revealAmount||0});q.setAttributeConfig("isCircular",{validator:n.isBoolean,value:p.isCircular||false});q.setAttributeConfig("isVertical",{method:q._setOrientation,validator:n.isBoolean,value:p.isVertical||false});q.setAttributeConfig("animation",{validator:q._validateAnimation,value:p.animation||{speed:0,effect:null}});q.setAttributeConfig("autoPlay",{validator:n.isNumber,value:p.autoPlay||0});q.setAttributeConfig("autoPlayInterval",{validator:n.isNumber,value:p.autoPlayInterval||0});q.setAttributeConfig("numPages",{readOnly:true,getter:q._getNumPages});q.setAttributeConfig("lastVisible",{readOnly:true,getter:q._getLastVisible});q.setAttributeConfig("partialThumb",{value:false});},initEvents:function(){var r=this,q=r.CLASSES,p;r.on("keydown",r._keyboardEventHandler);r.on(T,C);r.on(m,C);r.on(S,C);r.on(E,function(){if(r._hasFocus){r.focus();}});r.on(N,C);r.on(g,function(s){r.scrollTo(0);});r.on(K,function(s){if(r.get("selectedItem")===null||r.get("selectedItem")<=0){r.set("selectedItem",r.get("firstVisible"));}r._setClipContainerSize();r.show();});r.on("selectedItemChange",function(s){l.call(r,s.newValue,s.prevValue);if(s.newValue>=0){r._updateTabIndex(r.getElementForItem(s.newValue));}r.fireEvent(E,s.newValue);});r.on("firstVisibleChange",function(s){if(!r.get("selectOnScroll")){if(s.newValue>=0){r._updateTabIndex(r.getElementForItem(s.newValue));}}});r.on("click",function(s){if(r.isAutoPlayOn()){r.stopAutoPlay();}r._itemClickHandler(s);});},isAnimating:function(){return this._isAnimationInProgress;},isAutoPlayOn:function(){return this._isAutoPlayInProgress;},getElementForItem:function(p){var q=this;if(p<0||p>=q.get("numItems")){A.log("Index out of bounds","error",R);return null;}if(q._itemsTable.items[p]){return f.get(q._itemsTable.items[p].id);}return null;},getElementForItems:function(){var r=this,q=[],p;for(p=0;p<r._itemsTable.numItems;p++){q.push(r.getElementForItem(p));}return q;},getItem:function(p){var q=this;if(p<0||p>=q.get("numItems")){A.log("Index out of bounds","error",R);return null;}if(q._itemsTable.numItems>p){if(!n.isUndefined(q._itemsTable.items[p])){return q._itemsTable.items[p];}}return null;},getItems:function(){return this._itemsTable.items;},getLoadingItems:function(){return this._itemsTable.loading;},getRows:function(){return this._rows;},getCols:function(){return this._cols;},getItemPositionById:function(u){var s=this,t=s.get("numItems"),q=0,p=s._itemsTable.items,r;while(q<t){r=p[q]||{};if(r.id==u){return q;}q++;}return -1;},getVisibleItems:function(){var s=this,p=s.get("firstVisible"),t=p+s.get("numVisible"),q=[];while(p<t){q.push(s.getElementForItem(p));p++;}return q;},removeItem:function(q){var s=this,r,p=s.get("numItems");if(q<0||q>=p){A.log("Index out of bounds","error",R);return false;}r=s._itemsTable.items.splice(q,1);if(r&&r.length==1){s._itemsTable.numItems--;s.set("numItems",p-1);s.fireEvent(m,{item:r[0],pos:q,ev:m});return true;}return false;},replaceItem:function(q,p){},replaceItems:function(p){var q,s,r=true;if(!n.isArray(p)){return false;
}for(q=0,s=p.length;q<s;q++){if(this.replaceItem(p[q][0],p[q][1])===false){r=false;}}return r;},render:function(q){var s=this,p=s.CLASSES,r=s._rows;s.addClass(p.CAROUSEL);if(!s._clipEl){s._clipEl=s._createCarouselClip();s._clipEl.appendChild(s._carouselEl);}if(q){s.appendChild(s._clipEl);s.appendTo(q);}else{if(!f.inDocument(s.get("element"))){A.log("Nothing to render. The container should be "+"within the document if appendTo is not "+"specified","error",R);return false;}s.appendChild(s._clipEl);}if(r){f.addClass(s._clipEl,p.MULTI_ROW);}if(s.get("isVertical")){s.addClass(p.VERTICAL);}else{s.addClass(p.HORIZONTAL);}if(s.get("numItems")<1){A.log("No items in the Carousel to render","warn",R);return false;}s._refreshUi();return true;},scrollBackward:function(){var p=this;p.scrollTo(p._firstItem-p.get("scrollIncrement"));},scrollForward:function(){var p=this;p.scrollTo(p._firstItem+p.get("scrollIncrement"));},scrollPageBackward:function(){var r=this,s=r.get("isVertical"),q=r._cols,p=r._firstItem-r.get("numVisible");if(p<0){if(q){p=r._firstItem-q;}}if(r.get("selectOnScroll")){r._selectedItem=r._getSelectedItem(p);}r.scrollTo(p);},scrollPageForward:function(){var q=this,p=q._firstItem+q.get("numVisible");if(p>q.get("numItems")){p=0;}if(q.get("selectOnScroll")){q._selectedItem=q._getSelectedItem(p);}q.scrollTo(p);},scrollTo:function(AJ,AG){var AF=this,s,AH,x,z,AA,AK,AL,AM,AB,y,t,AD,q,u,r,v,AC,w,AN,AI=AF._itemsTable,AE=AI.items,p=AI.loading;if(n.isUndefined(AJ)||AJ==AF._firstItem||AF.isAnimating()){return;}AH=AF.get("animation");x=AF.get("isCircular");z=AF.get("isVertical");y=AF._cols;t=AF._rows;AM=AF._firstItem;AD=AF.get("numItems");q=AF.get("numVisible");r=AF.get("currentPage");AN=function(){if(AF.isAutoPlayOn()){AF.stopAutoPlay();}};if(AJ<0){if(x){AJ=AD+AJ;}else{AN.call(AF);return;}}else{if(AD>0&&AJ>AD-1){if(AF.get("isCircular")){AJ=AD-AJ;}else{AN.call(AF);return;}}}if(isNaN(AJ)){return;}AL=(AF._firstItem>AJ)?"backward":"forward";AC=AM+q;AC=(AC>AD-1)?AD-1:AC;v=AF.fireEvent(i,{dir:AL,first:AM,last:AC});if(v===false){return;}AF.fireEvent(L,{page:r});AB=AJ+q-1;AF._loadItems(AB>AD-1?AD-1:AB);AK=0-AJ;if(t){if(z){AK=parseInt(AK/y,10);}else{AK=parseInt(AK/t,10);}}w=0;while(AK<0&&w<AJ+q-1&&w<AD){if(!AE[w]&&!p[w]){AK++;}w+=t?t:1;}AF._firstItem=AJ;AF.set("firstVisible",AJ);A.log("Scrolling to "+AJ+" delta = "+AK,R);AC=AJ+q;AC=(AC>AD-1)?AD-1:AC;u=j.call(AF,AK);A.log("Scroll offset = "+u,R);s=AH.speed>0;u*=(G.body.getAttribute("dir")=="rtl")?-1:1;if(s){AF._animateAndSetCarouselOffset(u,AJ,AC,AG);}else{AF._setCarouselOffset(u);H.call(AF,AJ,AC);}},getPageForItem:function(p){return Math.ceil((p+1)/parseInt(this.get("numVisible"),10));},getFirstVisibleOnPage:function(p){return(p-1)*this.get("numVisible");},selectPreviousItem:function(){var r=this,q=0,p=r.get("selectedItem");if(p==this._firstItem){q=p-r.get("numVisible");r._selectedItem=r._getSelectedItem(p-1);r.scrollTo(q);}else{q=r.get("selectedItem")-r.get("scrollIncrement");r.set("selectedItem",r._getSelectedItem(q));}},selectNextItem:function(){var q=this,p=0;p=q.get("selectedItem")+q.get("scrollIncrement");q.set("selectedItem",q._getSelectedItem(p));},show:function(){var q=this,p=q.CLASSES;if(q.fireEvent(Z)!==false){q.addClass(p.VISIBLE);q.fireEvent(W);}},startAutoPlay:function(){var p=this,q;if(n.isUndefined(p._autoPlayTimer)){q=p.get("autoPlayInterval");if(q<=0){return;}p._isAutoPlayInProgress=true;p.fireEvent(a);p._autoPlayTimer=setTimeout(function(){p._autoScroll();},q);}},stopAutoPlay:function(){var p=this;if(!n.isUndefined(p._autoPlayTimer)){clearTimeout(p._autoPlayTimer);delete p._autoPlayTimer;p._isAutoPlayInProgress=false;p.fireEvent(o);}},toString:function(){return R+(this.get?" (#"+this.get("id")+")":"");},_animateAndSetCarouselOffset:function(v,t,r){var u=this,s=u.get("animation"),p=null,q={node:B.one(u._carouselEl),from:{},to:{},duration:s.speed,easing:s.effect};if(u.get("isVertical")){q.to.top=v;}else{q.to.left=v;}p=new B.Anim(q);u._isAnimationInProgress=true;p.on("end",u._animationCompleteHandler,u,{item:t,last:r});p.run();},_animationCompleteHandler:function(q,r){this._isAnimationInProgress=false;H.call(this,r.item,r.last);},_autoScroll:function(){var q=this,r=q._firstItem,p;if(r>=q.get("numItems")-1){if(q.get("isCircular")){p=0;}else{q.stopAutoPlay();}}else{p=r+q.get("numVisible");}q._selectedItem=q._getSelectedItem(p);q.scrollTo.call(q,p);},_createCarousel:function(q){var s=this,p=s.CLASSES,r=f.get(q);if(!r){r=X("DIV",{className:p.CAROUSEL,id:q});}if(!s._carouselEl){s._carouselEl=X(s.get("carouselEl"),{className:p.CAROUSEL_EL});}return r;},_createCarouselClip:function(){return X("DIV",{className:this.CLASSES.CONTENT});},_createCarouselItem:function(s){var p,r=this,q=k.call(r,s.pos);return X(r.get("carouselItemEl"),{className:s.className,styles:s.styles,content:s.content,id:s.id});},_getValidIndex:function(r){var u=this,p=u.get("isCircular"),s=u.get("numItems"),t=u.get("numVisible"),q=s-1;if(r<0){r=p?Math.ceil(s/t)*t+r:0;}else{if(r>q){r=p?0:q;}}return r;},_getSelectedItem:function(t){var s=this,p=s.get("isCircular"),r=s.get("numItems"),q=r-1;if(t<0){if(p){t=r+t;}else{t=s.get("selectedItem");}}else{if(t>q){if(p){t=t-r;}else{t=s.get("selectedItem");}}}return t;},_itemClickHandler:function(t){var w=this,u=w.get("carouselItemEl"),q=w.get("element"),r,s,v=d.getTarget(t),p=v.tagName.toUpperCase();if(p==="INPUT"||p==="SELECT"||p==="TEXTAREA"){return;}while(v&&v!=q&&v.id!=w._carouselEl){r=v.nodeName;if(r.toUpperCase()==u){break;}v=v.parentNode;}if((s=w.getItemPositionById(v.id))>=0){A.log("Setting selection to "+s,R);w.set("selectedItem",w._getSelectedItem(s));w.focus();}},_keyboardEventHandler:function(r){var t=this,q=d.getCharCode(r),s=d.getTarget(r),p=false;if(t.isAnimating()||s.tagName.toUpperCase()==="SELECT"){return;}switch(q){case 37:case 38:t.selectPreviousItem();p=true;break;case 39:case 40:t.selectNextItem();p=true;break;case 33:t.scrollPageBackward();p=true;break;case 34:t.scrollPageForward();p=true;break;}if(p){if(t.isAutoPlayOn()){t.stopAutoPlay();
}d.preventDefault(r);}},_loadItems:function(u){var w=this,s=w.get("numItems"),x=w.get("numVisible"),v=w.get("revealAmount"),r=w._itemsTable.items.length,q=w.get("lastVisible");if(r>u&&u+1>=x){r=u%x||u==q?u-u%x:u-x+1;}if(v&&u<s-1){u++;}if(u>=r){var p=w.getItem(r);var t=w.getItem(u);if(!p||!t||f.hasClass(f.get(t.id),w.CLASSES.ITEM_LOADING)||f.hasClass(f.get(p.id),w.CLASSES.ITEM_LOADING)){w.fireEvent(N,{ev:N,first:r,last:u,num:u-r+1});}}},_parseCarousel:function(r){var u=this,v,p,q,t,s;p=u.CLASSES;q=u.get("carouselEl");t=false;for(v=r.firstChild;v;v=v.nextSibling){if(v.nodeType==1){s=v.nodeName;if(s.toUpperCase()==q){u._carouselEl=v;f.addClass(u._carouselEl,u.CLASSES.CAROUSEL_EL);A.log("Found Carousel - "+s+(v.id?" (#"+v.id+")":""),R);t=true;}}}return t;},_parseCarouselItems:function(){var w=this,y=w.CLASSES,t=0,x,p,r,s,q,u=w.get("firstVisible"),v=w._carouselEl;x=w._rows;r=w.get("carouselItemEl");for(p=v.firstChild;p;p=p.nextSibling){if(p.nodeType==1){q=p.nodeName;if(q.toUpperCase()==r){if(p.id){s=p.id;}else{s=f.generateId();p.setAttribute("id",s);}w.addItem(p,u);u++;}}}},_refreshUi:function(){var s=this,p,t=s.get("isVertical"),v=s.get("firstVisible"),q,u,r;if(s._itemsTable.numItems<1){return;}r=Q.call(s,t?"width":"height");f.setStyle(s._carouselEl,t?"width":"height",r+"px");s._hasRendered=true;s.fireEvent(K);},_setCarouselOffset:function(r){var p=this,q;q=p.get("isVertical")?"top":"left";f.setStyle(p._carouselEl,q,r+"px");},_setClipContainerSize:function(p,r){var x=this,v=x.get("isVertical"),z=x._rows,t=x._cols,w=x.get("revealAmount"),q=Q.call(x,"height"),s=Q.call(x,"width"),y,u;p=p||x._clipEl;if(z){y=q*z;u=s*t;}else{r=r||x.get("numVisible");if(x.get("partialThumb")){r++;}if(v){y=q*r;}else{u=s*r;}}x._recomputeSize=(y===0);if(x._recomputeSize){x._hasRendered=false;return;}w=P.call(x);if(v){y+=w;}else{u+=w;}if(v){y+=O(x._carouselEl,"height");f.setStyle(p,"height",y+"px");if(t){u+=O(x._carouselEl,"width");f.setStyle(p,"width",u+(0)+"px");}}else{u+=O(x._carouselEl,"width");f.setStyle(p,"width",u+"px");if(z){y+=O(x._carouselEl,"height");f.setStyle(p,"height",y+"px");}}x._setContainerSize(p);},_setContainerSize:function(q,r){var u=this,p=u.CONFIG,x=u.CLASSES,t,w,s,v;t=u.get("isVertical");w=u._rows;s=u._cols;q=q||u._clipEl;r=r||(t?"height":"width");v=parseFloat(f.getStyle(q,r),10);v=n.isNumber(v)?v:0;if(t){v+=O(u._carouselEl,"height");}else{v+=O(u._carouselEl,"width");}if(!t){if(v<p.HORZ_MIN_WIDTH){v=p.HORZ_MIN_WIDTH;u.addClass(x.MIN_WIDTH);}}u.setStyle(r,v+"px");if(t){v=Q.call(u,"width");if(s){v=v*s;}f.setStyle(u._carouselEl,"width",v+"px");if(v<p.VERT_MIN_WIDTH){v=p.VERT_MIN_WIDTH;u.addClass(x.MIN_WIDTH);}u.setStyle("width",v+"px");}else{if(w){v=Q.call(u,"height");v=v*w;f.setStyle(u._carouselEl,"height",v+"px");}}},_setFirstVisible:function(q){var p=this;if(q>=0&&q<p.get("numItems")){p.scrollTo(q);}else{q=p.get("firstVisible");}return q;},_setNumVisible:function(q){var p=this;p._setClipContainerSize(p._clipEl,q);},_numVisibleSetter:function(r){var q=this,p=r;if(n.isArray(r)){q._cols=r[0];q._rows=r[1];p=r[0]*r[1];}return p;},_selectedItemSetter:function(q){var p=this;return(q<p.get("numItems"))?q:0;},_setNumItems:function(r){var q=this,p=q._itemsTable.numItems;if(n.isArray(q._itemsTable.items)){if(q._itemsTable.items.length!=p){p=q._itemsTable.items.length;q._itemsTable.numItems=p;}}if(r<p){while(p>r){q.removeItem(p-1);p--;}}return r;},_setOrientation:function(r){var q=this,p=q.CLASSES;if(r){q.replaceClass(p.HORIZONTAL,p.VERTICAL);}else{q.replaceClass(p.VERTICAL,p.HORIZONTAL);}this._itemAttrCache={};return r;},_setRevealAmount:function(q){var p=this;if(q>=0&&q<=100){q=parseInt(q,10);q=n.isNumber(q)?q:0;p._setClipContainerSize();}else{q=p.get("revealAmount");}return q;},_setSelectedItem:function(p){this._selectedItem=p;},_getNumPages:function(){return Math.ceil(parseInt(this.get("numItems"),10)/parseInt(this.get("numVisible"),10));},_getLastVisible:function(){var p=this;return p.get("currentPage")+1==p.get("numPages")?p.get("numItems")-1:p.get("firstVisible")+p.get("numVisible")-1;},_syncUiForItemAdd:function(s){var t,y=this,v=y._carouselEl,p,z,r=y._itemsTable,q,u,w,x;u=n.isUndefined(s.pos)?s.newPos||r.numItems-1:s.pos;if(!q){z=r.items[u]||{};p=y._createCarouselItem({className:z.className,styles:z.styles,content:z.item,id:z.id,pos:u});if(n.isUndefined(s.pos)){if(!n.isUndefined(r.loading[u])){q=r.loading[u];}if(q){v.replaceChild(p,q);delete r.loading[u];}else{v.appendChild(p);}}else{if(!n.isUndefined(r.items[s.pos+1])){w=f.get(r.items[s.pos+1].id);}if(w){v.insertBefore(p,w);}else{A.log("Unable to find sibling","error",R);}}}else{if(n.isUndefined(s.pos)){if(!f.isAncestor(y._carouselEl,q)){v.appendChild(q);}}else{if(!f.isAncestor(v,q)){if(!n.isUndefined(r.items[s.pos+1])){v.insertBefore(q,f.get(r.items[s.pos+1].id));}}}}if(!y._hasRendered){y._refreshUi();}if(y.get("selectedItem")<0){y.set("selectedItem",y.get("firstVisible"));}y._syncUiItems();},_syncUiForItemReplace:function(v){var u=this,r=u._carouselEl,p=u._itemsTable,w=v.pos,t=v.newItem,q=v.oldItem,s;s=u._createCarouselItem({className:t.className,styles:t.styles,content:t.item,id:t.id,pos:w});if(s&&q){d.purgeElement(q,true);r.replaceChild(s,f.get(q.id));if(!n.isUndefined(p.loading[w])){p.numItems++;delete p.loading[w];}}if(!u._hasRendered){u._refreshUi();}u._syncUiItems();},_syncUiForItemRemove:function(u){var t=this,p=t._carouselEl,r,s,q,v;q=t.get("numItems");s=u.item;v=u.pos;if(s&&(r=f.get(s.id))){if(r&&f.isAncestor(p,r)){d.purgeElement(r,true);p.removeChild(r);}if(t.get("selectedItem")==v){v=v>=q?q-1:v;}}else{A.log("Unable to find item","warn",R);}t._syncUiItems();},_syncUiForLazyLoading:function(t){var x=this,v=x._carouselEl,r=x._itemsTable,u=r.items.length,w=r.items[t.last+1],p,q;if(!w&&t.last<u){q=t.first;do{w=r.items[q];q++;}while(q<u&&!w);}for(var s=t.first;s<=t.last;s++){if(n.isUndefined(r.loading[s])&&n.isUndefined(r.items[s])){p=x._createCarouselItem({className:x.CLASSES.ITEM_LOADING,content:x.STRINGS.ITEM_LOADING_CONTENT,id:f.generateId(),pos:s});
if(p){if(w){w=f.get(w.id);if(w){v.insertBefore(p,w);}else{A.log("Unable to find sibling","error",R);}}else{v.appendChild(p);}}r.loading[s]=p;}}x._syncUiItems();},_syncUiItems:function(){var s,w=this,u=w.get("numItems"),r,q=w._itemsTable,t=q.items,p=q.loading,x,v;for(r=0;r<u;r++){x=t[r]||p[r];if(x&&x.id&&!x.placed){v=k.call(w,r);x.styles=x.styles||{};for(s in v){if(v.hasOwnProperty(s)){x.styles[s]=v[s];}}J(f.get(x.id),v);x.placed=true;}}},_updateTabIndex:function(p){var q=this;if(p){if(q._focusableItemEl){q._focusableItemEl.tabIndex=-1;}q._focusableItemEl=p;p.tabIndex=0;}},_validateAnimation:function(p){var q=true;if(n.isObject(p)){if(p.speed){q=q&&n.isNumber(p.speed);}if(p.effect){q=q&&n.isFunction(p.effect);}else{if(!n.isUndefined(B.Easing)){p.effect=B.Easing.easeOut;}}}else{q=false;}return q;},_validateFirstVisible:function(r){var q=this,p=q.get("numItems");if(n.isNumber(r)){if(p===0&&r==p){return true;}else{return(r>=0&&r<p);}}return false;},_validateNumItems:function(p){return n.isNumber(p)&&(p>=0);},_validateNumVisible:function(p){var q=false;if(n.isNumber(p)){q=p>0&&p<=this.get("numItems");}else{if(n.isArray(p)){if(n.isNumber(p[0])&&n.isNumber(p[1])){q=p[0]*p[1]>0&&p.length==2;}}}return q;},_validateRevealAmount:function(p){var q=false;if(n.isNumber(p)){q=p>=0&&p<100;}return q;},_validateScrollIncrement:function(p){var q=false;if(n.isNumber(p)){q=(p>0&&p<this.get("numItems"));}return q;}});})();},"@VERSION@",{requires:["yui2-yahoo","anim","yui2-dom","yui2-event","yui2-element"]});
YUI.add("pp-mediabar",function(G){G.namespace("PhotoPreview");var E=G.PhotoPreview,W=G.Array,Q=G.Lang,J=E.Ymail,X=G.YUI2,U=E.CONFIG,b=E.uiutil,K=Math.floor,d=G.substitute,c=Math.max,m=Math.min,P=E.createLogger("mediabar"),n=E.createGettext("pp-mediabar",P),S=E.range,Z=E.getRuntime(),a=E.htmlEncode,j=b.fileSizeConvert,R=function(L){var A=L.getApiId();if(J.apiIdIsYmail(A)){return A.type;}return L.getItemVideo()?"video":"image";},f=function(Y,A){var L=Y._album.getApiId(),o=[Y._carouselClass,L.apiClientName,L.type,A].join(":");E.rocketstats.post(o);},k=function(A,L,Y){if(A._imagesBlocked){if(Q.isFunction(Y)){Y(null);}}else{L.getFillImage(A._thumbWidth,A._thumbHeight,Y);}},N=function(A,L,Y){if(!L){A.addClass("disabled");A.setAttrs({"aria-disabled":"true","title":""});}else{A.removeClass("disabled");A.removeAttribute("aria-disabled");A.setAttribute("title",Y);}},O=function(Y,A){var L=this;if(A.one(".prevBtn")){N(A.one(".prevBtn"),Y>0,n("TOOLTIP_NAV_PREVIOUS"));}if(A.one(".nextBtn")){N(A.one(".nextBtn"),Y<L.get("numPages")-1,n("TOOLTIP_NAV_NEXT"));}},D=function(o,Y,L,A){if(o.keyCode&&o.keyCode!==13){return;}o.halt();if(!o.currentTarget.hasClass("disabled")){Y.call(this);f(L,A);}},M=function(Y){var L=Y,p=L._carousel,A=L._contentBox,r=A.one(".yui-carousel-content"),o,q;if(A.one(".nextBtn")){A.one(".nextBtn").on("click",D,p,p.scrollPageForward,L,"click:next");A.one(".nextBtn").on("keydown",D,p,p.scrollPageForward,L,"click:next");}if(A.one(".prevBtn")){A.one(".prevBtn").on("click",D,p,p.scrollPageBackward,L,"click:prev");A.one(".prevBtn").on("keydown",D,p,p.scrollPageBackward,L,"click:prev");}if(G.UA.webkit&&(A.one(".nextBtn")||A.one(".prevBtn"))){A.one(".pp_mbar_arrows").on("mousedown",function(s){s.preventDefault();});}G.on("key",function(u){var t=u.target,s=parseInt(t.getAttribute("imgid"));if((s>0)&&(s==p.get("firstVisible"))){p.scrollPageBackward();q="key";}},r,"down:37");G.on("key",function(u){var t=u.target,s=parseInt(t.getAttribute("imgid"));if((s<p.get("numItems")-1)&&(s==p.get("lastVisible"))){p.scrollPageForward();q="key";}},r,"down:39");A.one(".pp_mbar_controls").on("contextmenu",function(s){s.preventDefault();});p.on("afterScroll",function(s){if((q=="key")&&r.nodeFocus){r.nodeFocus.refresh();q="";}});o=r.on("focus",function(t){var s=t.target;if(r.nodeFocus){r.nodeFocus.on("activeDescendantChange",function(u){if(u.newVal!=u.preVal){L.selectCarouselImg(u.newVal);L.getNodeFromImgID(u.newVal).one(".pp_img_thumb").setAttribute("aria-selected","true");L.getNodeFromImgID(u.prevVal).one(".pp_img_thumb").setAttribute("aria-selected","false");}});o.detach();}});p.on("pageChange",O,A,p);O.apply(p,[p.get("currentPage"),A]);if(L._album.getSize()>L._minNumVisible){p.on("render",function(){var t=(E.getDocument&&E.getDocument())||document,s=t.parentWindow||t.defaultView;G.on("resize",function(){var v=L._updateThumbCount(),u;if(v){u=m(L._album.getSize()-1,L._carousel.get("lastVisible"));L._carousel.scrollTo(K(u/v)*v);L._toggleNavBtns();}},s);});}},i=function(A){A.halt();A.target.blur();},F=function(o,Y,L){var A=Y._album;A.getItem(L,function(t){var r=t.getApiId(),q=R(t),s=o.target,p;p=E[r.apiClientName].getAttachmentHandler(r.contenttype,function(u){if(u){Z.openAttachmentViewer(u.handlerId,r,o,function(v){if(v.error){T(Y,s,r,q,o);}else{f(Y,"click:attachmentViewer"+q);}});}else{T(Y,s,r,q,o);}});});},l=function(L,o,Y,A){o.on("click",function(p){T(L,o,Y,A,p);});o.on("keydown",function(p){if(p.keyCode===13){T(L,o,Y,A,p);}});},T=function(L,o,Y,A,p){var q={partId:Y.pid,tnefId:Y.tnefId};Z.downloadAttachment(q,p,function(s){});p.halt();f(L,"click:download"+A);},V=function(A,o){var Y=this,L=A.getApiId(),p;G.mix(Y,{_album:A,_carousel:null,_defaultImg:-1,_teaserPercent:o.teaserPercent||0,_thumbWidth:o.thumbWidth,_thumbHeight:o.thumbHeight,_maxNumVisible:o.maxThumbs,_minNumVisible:o.maxThumbs,_rows:o.rows,_cols:o.cols,_alignHorzCenter:o.alignHorzCenter,_carouselClass:o.carouselClass,_containerFullWidth:o.containerFullWidth,_showCaption:o.showCaption,_imagesBlocked:o.imagesBlocked});if(J.apiIdIsYmail(L)){Y._canDownloadAll=true;p=A.getCachedCounts();if(p&&(p.nphotos>0||p.nvideos>0)){Y._downloadAllRsName="downloadAllImages";Y._canViewSlideshow=true;}else{Y._downloadAllRsName="downloadAllOthers";Y._canViewSlideshow=false;}Y._downloadAllMethod="downloadEverything";}else{Y._canDownloadAll=false;Y._downloadAllMethod=null;Y._canViewSlideshow=true;}},C=function(o,r,Y,q,p){var A,L=r&&r.one(".pp_img_thumb");if(!L||!r.hasClass("pp-carousel-item-loading")){return;}r.removeClass("pp-carousel-item-loading");if(q){L.setStyle("background",['url("',q.getSource(),'") ',"no-repeat scroll 50% 50% transparent"].join(""));p&&L.addClass("video");}else{L.addClass("pp_attachment");L.addClass("pp_"+Y);}A=r.one(".pp_loader");if(A){A.remove();}},e=function(A,L){V.call(this,A,G.merge(U.mediaBar,{showCaption:J.apiIdIsYmail(A.getApiId()),imagesBlocked:L}));},h=function(A){V.call(this,A,G.merge(U.filmstrip,{showCaption:false,imagesBlocked:false}));},I=function(){},B=I.prototype;B.destroy=function(){var A=this;A._carousel.clearItems();A._carousel.unsubscribeAll();G.Event.purgeElement(A._contentBox,true);A._carousel=null;A._contentBox=null;};B.render=function(Y,A){var L=this;A=A&&parseInt(A,10)||0;L.createCarousel(Y,A);};B._getCarouselCntrlWidth=function(A){return A.one(".yui-carousel").get("offsetWidth")+12;};B._updateThumbCount=function(){var v=this,q=v._contentBox,Y=q.get("parentNode").get("parentNode"),L=q.one(".pp_carousel_cntrl"),p=L.one("ol li .yui-carousel-item"),o=Y.get("offsetWidth"),s=p.get("offsetWidth"),A=47,r=(o-A-s*v._carousel.get("revealAmount")/100)/s,u=m(v._album.getSize(),K(r));if(v._carousel.get("numVisible")!==u){v._carousel.set("numVisible",u);v._carousel.set("partialThumb",(r-u)>0);v.initCurPageThumbs();return u;}return false;};B._toggleNavBtns=function(){var L=this,A;A=L._carousel.get("numPages")===1;if(A){L._contentBox.addClass("onepage");}else{L._contentBox.removeClass("onepage");O.apply(L._carousel,[L._carousel.get("currentPage"),L._contentBox]);
}};B.updateLayout=function(){var v=this,Y=v._album,u=v._contentBox,o=u.get("parentNode").get("parentNode"),L=u.one(".pp_carousel_cntrl"),s=L.one(".yui-carousel"),r=L.one("ol li .yui-carousel-item");if(r){var q=o.get("offsetWidth"),A,p;v._updateThumbCount();if(v._alignHorzCenter){p=K((q-v._getCarouselCntrlWidth(L))/2);L.setStyle("marginLeft",p+"px");}A=v._getCarouselCntrlWidth(u.one(".pp_stream"));v._toggleNavBtns();}else{}};B.getImageTag=function(r,o){var s=this,L=s._album,q=r?r.getTitle():null,Y=q||d(n("TEXT_CAPTION_PREFIX"),{index:o+1}),A=[' title="',a(d(n("TOOLTIP_DOWNLOAD_FILENAME"),{filename:Y,size:""})),'"'].join(""),p=s._canViewSlideshow?[' title="',a(n("TOOLTIP_CLICK_TO_VIEW_SLIDESHOW")),'"'].join(""):A,u={caption:s._showCaption?['<div class="pp_img_caption" role="button">','<a href="#" tabindex="-1" class="pp_link"',A,">",a(Y),"</a>","</div>"].join(""):""};return['<div class="pp_img_wrap">','<div class="pp_img_border">','<div role="option" aria-selected="false" ','tabindex="',(o==0)?"0":"-1",'" class="pp_img_thumb"',s._imagesBlocked?' aria-disabled="true"':p,' imgID="',o,'" style="',["height:",s._thumbHeight,"px; ","width:",s._thumbWidth,"px;"].join(""),'">',(L.getApiId().apiClientName!="Ymail")?'<div class="play"/>':"",'<div class="pp_loader"></div>',"</div>","</div>",u.caption,"</div>"].join("");};B._getCarouselConfig=function(){var A=this,Y=A._album.getSize(),L=(A._cols&&A._rows)?[A._cols,A._rows]:m(Y,this._maxNumVisible);return{numItems:Y,numVisible:L,revealAmount:L<Y?A._teaserPercent:0,selectOnScroll:false,animation:{speed:0.25}};};B.insertCarouselControlMarkup=function(Y,L){var A=['<span class="pp_carousel_cntrl pp_stream">','<span id="',L,'"></span>','<span class="pp_clear"></span>',"</span>"].join("");Y.one(".pp_mbar_title").insert(A,"after");};B.createCarousel=function(p,s){var u=this,Y=u._album,A=G.guid(),r=u._getCarouselConfig(Y),q=u._downloadAllMethod,o=0,L;u.insertCarouselControlMarkup(p,A);u._carousel=new X.widget.Carousel(A,r);u._defaultImg=s;L=p.one("#"+A);u._contentBox=p;b.initProviderInfo(p.one(".pp_mbar_title"),Y);L=p.one(".pp_download_all");if(L){L.on("click",function(t){Z[q](t,function(v){});t.halt();f(u,"click:"+u._downloadAllRsName);});}u._carousel.render();u._carousel.show();u._carousel.on("loadItems",u.loadItemsHandler,u._carousel,u);M(u);u.initCurPageThumbs();u.selectCarouselImg(u._defaultImg);G.later(0,u,u.updateLayout);G.use("comms-ui-nodefocus-base",function(){var t=u._contentBox.one(".yui-carousel-content").plug(G.comms.ui.NodeFocusBase,{descendants:"li .pp_img_thumb",keys:{next:"39",previous:"37"}});});};B.getCurVisibleID=function(){var Y=this,o=Y._carousel.get("currentPage"),A=Y._carousel.get("numVisible"),L=A*o-1;return{start:c(0,L),end:L+A};};B.initCurPageThumbs=function(){var A=this,L=A.getCurVisibleID();A.lazyLoadImagesForCarousel(L.start,m(A._album.getSize(),L.end+2));};B.getNodeFromImgID=function(A){return this._contentBox.one('.yui-carousel-element div.yui-carousel-item[imgid="'+A+'"]');};B.updateCarouselItem=function(L,p,v){var w=this,u,q,s,Y,A,x="",o,r;if(w._defaultImg===p){w.selectCarouselImg(w._defaultImg);}if(v){u=v.getApiId();q=R(v);if(w._showCaption&&J.apiIdIsYmail(u)){s=L.one(".pp_img_caption .pp_link");if(!s){return;}Y=v.getTitle();if(Y){x=d(n("TOOLTIP_DOWNLOAD_FILENAME"),{filename:Y,size:"("+j(u.filesize)+")"});b.formatFilename(E.htmlEncode(Y),function(t){b.setNodeAttrs(s,{title:x,innerHTML:t});});}l(w,s.get("parentNode"),u,q);if(q!=="image"){r=L.one(".pp_img_wrap");if(!r.one(".view_online")){r.append(['<div class="view_online" role="button"></div>'].join(""));E[u.apiClientName].getAttachmentHandler(u.contenttype,function(y){var z=Y,t=r.one(".view_online");if(y){z=d(n("TOOLTIP_CLICK_TO_VIEW_APP"),{appname:y.name});if(t){t.setContent(['<a href="#" tabindex="-1" class="pp_link" title="',z,'">',n("TEXT_VIEW_ONLINE"),"</a>"].join(""));t.setStyle("display","block");}}else{t.remove(true);}b.setNodeAttrs(r.one(".pp_img_border .pp_img_thumb"),{title:z});});}}}k(w,v,function(t){if(t){A=q+"thumb";t.load(null,function(){f(w,A+":ok");C(w,L,q,t,v.getItemVideo());},function(){f(w,A+":error");C(w,L,q);},function(){f(w,A+":abort");C(w,L,q);},function(){f(w,A+":timeout");C(w,L,q);});}else{A=q+"icon";f(w,A+":nothumb");C(w,L,q);}});}else{q="other";A=q+"icon";f(w,A+":noitem");C(w,L,q);}};B.selectCarouselImg=function(A){var L=this;A=parseInt(A,10);if(A>=0){L._carousel.set("selectedItem",A);}};B.loadItemsHandler=function(A){if(A){this.lazyLoadImagesForCarousel(A.first,A.last+2);}};B.lazyLoadImagesForCarousel=function(p,L){var Y=this,A=Y._album,o=A.getSize();p=m(o,p);L=m(o,L);W.each(S(p,L),function(r){var s=Y.getNodeFromImgID(r),q;if(!s){Y._carousel.addItem(['<div class="yui-carousel-item pp-carousel-item-loading" ','imgid="',r,'">',Y.getImageTag(null,r),"</div>"].join(""));s=Y.getNodeFromImgID(r);q=s.ancestor("li");q&&q.setAttribute("role","presentation");}A.getItem(r,function(t){G.later(0,Y,Y.updateCarouselItem,[s,r,t]);});});};B.hasRendered=function(){return this._carousel._hasRendered;};G.augment(I,G.EventTarget);G.augment(e,I);G.augment(h,I);e.prototype.render=function(Y,A){var L=this;A=A&&parseInt(A,10)||0;L.createMediaBar(Y,A);};e.prototype.onMediaBarThumbnailClick=function(p,o){var s=this,L=s._album,r=L.getSubset(),A,Y,q=false,u;if(o==="pp_view_ss"){u=o;o=0;A="click:viewSlideshow";q=true;}else{o=o||p.currentTarget.getAttribute("imgID");u="pp_img_thumb";if(p.target.hasClass("pp_attachment")){F(p,s,o);return;}else{A="click:thumbnail";}}Y=parseInt(o,10);G.use("pp-json",function(z){var y,v,x={},t=0;try{y=E.Json.fromAlbum(L);for(v in r){x[v]=E.Json.fromAlbum(r[v]);t=1;}if(t){y.subset=x;}Z.openPopup({title:n("TEXT_APP_NAME"),data:{album:y,imgID:Y,autoRun:q,focusClass:u}});}catch(w){E.handleError(P,w);}});p.target.blur();p.halt();f(s,A);};var H=function(A){var s=A,Y=s._album,p=Y.getSize()==1,q=Y.getViewUrl(),L=Y.getVideoSize(),o=(L>0&&Y.getPhotoSize()==0)?(L>1)?a(n("BUTTON_WATCH_ALL")):a(n("BUTTON_WATCH")):null,r=[' title="',s._imagesBlocked?a(n("TOOLTIP_ENABLE_IMAGES_TO_VIEW_SLIDESHOW")):(o)?o:n("TOOLTIP_VIEW_SLIDESHOW"),'"'].join(""),u={albumTitle:q?['<div class="pp_provider_logo pp_btn">&nbsp;</div>','<h3><a class="pp_text"></a></h3>','<span class="pp_photo_count"></span>','<span class="pp_clear"></span>',].join(""):"",viewSlideshowButton:s._canViewSlideshow?['<span class="btn left right pp_view_ss">','<a href="#" role="button"',r,(s._imagesBlocked?' aria-disabled="true"':""),">",(o)?o:a(n("BUTTON_VIEW_SLIDESHOW")),"</a>","</span>"].join(""):"",downloadAllButton:s._canDownloadAll?['<span class="btn left right pp_download_all">','<a href="#" role="button"',' title="',n("TOOLTIP_DOWNLOAD_ALL"),'"','">',a(p?n("BUTTON_DOWNLOAD"):n("BUTTON_DOWNLOAD_ALL")),"</a>","</span>"].join(""):""};
return['<div class="pp_mbar_title">',u.albumTitle,"</div>",'<div class="pp_mbar_controls">','<span class="',s._canViewSlideshow?"pp_mbar_buttons":"pp_mbar_button",'">',u.viewSlideshowButton,u.downloadAllButton,"</span>",'<span class="pp_mbar_arrows">','<span class="btn left right menu pp_btn pp_carousel_nav_btn prevBtn" role="button" tabIndex="-1"','title="',n("TOOLTIP_NAV_PREVIOUS"),'">',"<b></b></span>",'<span class="btn left right menu pp_btn pp_carousel_nav_btn nextBtn" role="button" tabIndex="-1"','title="',n("TOOLTIP_NAV_NEXT"),'">',"<b></b></span>","</span>",'<span class="pp_clear"></span>',"</div>"].join("");},g=function(L,o){var Y=o.nitems,A=o.nphotos,p=o.nvideos;if(J.apiIdIsYmail(L)){if(Q.isNumber(A)){return d(A>1?n("HTML_MANY_PHOTOS"):A===1?n("HTML_ONE_PHOTO"):n("HTML_ZERO_PHOTOS"),o);}return d(Y>1?n("HTML_MANY_ATTACHMENTS"):Y===1?n("HTML_ONE_ATTACHMENT"):n("HTML_ZERO_ATTACHMENTS"),o);}if(Q.isNumber(A)&&Q.isNumber(p)){if(A>1){return d(p>1?n("HTML_MANY_PHOTOS_MANY_VIDEOS"):p===1?n("HTML_MANY_PHOTOS_ONE_VIDEO"):n("HTML_MANY_PHOTOS"),o);}if(A===1){return d(p>1?n("HTML_ONE_PHOTO_MANY_VIDEOS"):p===1?n("HTML_ONE_PHOTO_ONE_VIDEO"):n("HTML_ONE_PHOTO"),o);}return d(p>1?n("HTML_MANY_VIDEOS"):p===1?n("HTML_ONE_VIDEO"):n("HTML_ZERO_PHOTOS"),o);}return d(Y>1?n("HTML_MANY_PHOTOS"):Y===1?n("HTML_ONE_PHOTO"):n("HTML_ZERO_PHOTOS"),{nphotos:o.nitems});};e.prototype.createMediaBar=function(p,x){var z=this,q=z._album,L=p.one(['.pp_carousel_container[albumid="',q.getId(),'"]'].join("")),s=q.getApiId(),r=q.getDeclaredSize(),y=q.getCachedCounts()||{},u=y.nphotos,o=y.nvideos,w=g(s,{nitems:r,nphotos:u,nvideos:o}),v,Y,A;L.append(H(z));z.createCarousel(L,x);v=z._contentBox;v.one(".yui-carousel-element").setAttribute("role","listbox");if(!J.apiIdIsYmail(q.getApiId())){Y=v.one(".pp_photo_count");Y.setContent(["| ",w].join(""));if(!Q.isNumber(u)||!Q.isNumber(o)){q.getCounts(function(t){var AA=t?g(s,{nitems:r,nphotos:t.nphotos,nvideos:t.nvideos}):null;if(AA){Y.setContent(["| ",AA].join(""));}});}q.getOwner(function(t){var AB=[];if(Q.isArray(t)){for(var AA=0;AA<t.length;AA++){AB.push(t[AA].getName());}}else{AB=t?[t.getName()]:null;}AB=AB.join(", ");if(AB){Y.get("parentNode").insertBefore(G.Node.create(['<span class="pp_photo_owner">',a(d(n("TEXT_ALBUM_OWNER"),{name:AB})),"</span>"].join("")),Y);}});}if(z._imagesBlocked){v.addClass("pp_imagesBlocked");}G.on("click",function(t){z.onMediaBarThumbnailClick.call(z,t,"pp_view_ss");if(z._imagesBlocked){Z.unblockImages(t);}},v.one(".pp_view_ss"));G.delegate("click",function(t){if(!(z._imagesBlocked&&(t.target.hasClass("pp_image")||t.target.hasClass("pp_video")))){z.onMediaBarThumbnailClick.call(z,t);}else{i.call(z,t);}},v.one(".yui-carousel-element"),".pp_img_thumb",z);G.delegate("keydown",function(t){if(t.keyCode===13&&(!(z._imagesBlocked&&(t.target.hasClass("pp_image")||t.target.hasClass("pp_video"))))){z.onMediaBarThumbnailClick.call(z,t);}},v.one(".yui-carousel-element"),".pp_img_thumb",z);G.delegate("click",function(AB){var AA=AB.currentTarget.ancestor(".yui-carousel-item"),t=AA?AA.getAttribute("imgID"):null;t&&F(AB,z,t);},v.one(".yui-carousel-element"),".view_online",z);A=v.one(".pp_mbar_title .pp_album_title a.pp_link");if(A){A.on("click",function(t){f(z,"click:title");});}};e.prototype.updateLayout=function(){var Y=0;if(!this._contentBox._node.parentNode){return;}B.updateLayout.apply(this,arguments);var L=this._contentBox.one(".pp_carousel_cntrl .yui-carousel"),A=this._contentBox.get("parentNode").get("parentNode");if(G.UA.webkit>0){Y=Math.ceil(A.get("region").left);}L.setStyle("width",(A.get("offsetWidth")-Y));L.one(".yui-carousel-content").setStyle("width","auto");L.one(".yui-carousel-element").setStyle("height","auto");};h.prototype.insertCarouselControlMarkup=function(Y,L){var A=['<span class="pp_carousel_cntrl pp_stream">','<span id="',L,'"></span>','<span class="pp_clear"></span>',"</span>"].join("");Y.append(A);};E.MediaBar=e;E.MediaFilmStrip=h;},"@VERSION@",{lang:["ar-JO","ar-JO-x-nokia","bg-BG","bn-BD","bn-BD-x-nokia","bn-IN","cs-CZ","da-DK","da-DK-x-nokia","de-AT","de-CH","de-DE","de-DE-x-nokia","el-GR","el-GR-x-nokia","en-035","en-035-x-nokia","en-AU","en-AU-x-nokia","en-CA","en-CA-x-nokia","en-CA-x-rogers","en-GB","en-GB-x-bt","en-GB-x-nokia","en-IE","en-IE-x-nokia","en-IN","en-IN-x-nokia","en-JO","en-JO-x-nokia","en-MY","en-NZ","en-NZ-x-nokia","en-NZ-x-tnz","en-PH","en-PH-x-nokia","en-SG","en-SG-x-nokia","en-US","en-US-x-ftr","en-US-x-nokia","en-US-x-sbc","en-US-x-verizon","en-ZA","es-AR","es-AR-x-nokia","es-CL","es-CL-x-nokia","es-CO","es-CO-x-nokia","es-ES","es-ES-x-nokia","es-MX","es-MX-x-nokia","es-PE","es-PE-x-nokia","es-US","es-US-x-nokia","es-VE","es-VE-x-nokia","et-EE","fi-FI","fi-FI-x-nokia","fil-PH","fil-PH-x-nokia","fr-BE","fr-CA","fr-CA-x-nokia","fr-CA-x-rogers","fr-CH","fr-FR","fr-FR-x-nokia","gu-IN","he-IL","hi-IN","hi-IN-x-nokia","hr-HR","hu-HU","id-ID","id-ID-x-nokia","it-CH","it-IT","it-IT-x-nokia","ja-JP","kn-IN","ko-KR","ko-KR-x-nokia","lt-LT","lv-LV","ml-IN","mr-IN","ms-MY","ms-MY-x-nokia","ms-MY-x-temp","nb-NO","nb-NO-x-nokia","nl-BE","nl-NL","nl-NL-x-nokia","pl-PL","pl-PL-x-nokia","pt-BR","pt-BR-x-nokia","pt-PT","pt-PT-x-nokia","ro-RO","ro-RO-x-nokia","ru-RU","ru-RU-x-nokia","sk-SK","sl-SI","sr-Cyrl-RS","sv-SE","sv-SE-x-nokia","ta-IN","ta-IN-x-nokia","te-IN","th-TH","th-TH-x-nokia","tr-TR","tr-TR-x-nokia","uk-UA","ur-PK","ur-PK-x-nokia","vi-VN","vi-VN-x-nokia","zh-Hans-CN","zh-Hans-CN-x-alibaba","zh-Hans-CN-x-nokia","zh-Hans-CN-x-yahoocn","zh-Hant-HK","zh-Hant-HK-x-nokia","zh-Hant-TW","zh-Hant-TW-x-nokia","zh-Hant-US"],requires:["pp-utils","pp-carousel","pp-intl","pp-ymaillib","pp-rocketstats","pp-runtime","pp-ui-utils","json-stringify","substitute","node","event"]});
YUI.add("pp-photopreview",function(D){D.namespace("PhotoPreview");var S=D.PhotoPreview,W=D.Array,N=D.Lang,I=D.Object,V=S.Ymail,Z=S.uiutil,b=Z.fileSizeConvert,J=S.createLogger("photopreview"),P=S.handleError,U=S.range,B=S.htmlEncode,R=0,c=0,E=15,C=true,G=W.hash(["jpg","jpe","jpeg","pjpg","pjpe","pjpeg","png","x-png","gif","bmp","tiff"]),M=function(L,A,O,Y){O=O||["MR"];if(L){O.push(L.apiClientName);O.push(L.type);}A&&O.push(A);O=O.join(":");S.rocketstats.post(O,Y);},F=(function(){function A(O,Y){var L=this;L.handle=D.later(O,null,Y);L.cancel=L.handle.cancel;L.reset=function(){L.cancel();L.handle=D.later(O,null,Y);L.cancel=L.handle.cancel;};}return function(d,Y,e){var O=-1,L,f=null;Y=Y||150;return function(){var g=W(arguments);++O;if(f&&e&&O>=e){f.cancel();L=d.apply(null,g);f.reset();O=-1;return L;}if(f){return;}L=d.apply(null,g);f=new A(Y,function(){f=null;if(O){d.apply(null,g);}O=-1;});return L;};};})(),Q=function(A){return"photoPreviewAlbum"+A;},H=function(O,Y,L,e,d,A){D.use(O.apiClientModule,function(h){try{var f=S[O.apiClientName].APICLIENT;f.createAlbum(O,Y,L,d,function(){if(N.isFunction(A)){A.apply(null,[O,Y,e].concat(W(arguments)));}});}catch(g){P(J,g);}});},a=function(Y,O,e,d,L){var A=Y[0][1];D.use(A.apiClientModule,function(h){try{var f=S[A.apiClientName].APICLIENT;f.groupAlbums(A,Y,O,d,function(){if(N.isFunction(L)){L.apply(null,[A,Y,e].concat(W(arguments)));}});}catch(g){P(J,g);}});},K=function(A,m,e,f,t,h,r,o){var i,g,l,k=0,p=false,v=true,n,j,s,q=A.length,d=U(0,q),u=function(w){if(w.getSize()>0){if(N.isFunction(h)){h(w);}}};function L(x,y,w){if(x.length>0){S.Ymail[y](x,w,t,u);}}function O(AB,AD,z){var x=z[AD],y=A[x],w,AA,AC;if(!y){return;}w=y.albumid;AA=y.albumtype;AC=y.node;s=x;if(C&&!o(AC)){return v;}k=Number(AA);if(!N.isNumber(k)){return;}l=e[k];if(N.isArray(l[0])){a(l,w,AC,u,r);}else{i=l[1];g=l[0];H(i,g,w,AC,u,r);}delete A[x];++R;p=true;v=true;}function Y(y,x){var w,z,AA;if(!y){return;}w=y.albumid;z=y.albumtype;AA=y.node;switch(z){case"allatts":L(f,"createAllAttachmentsAlbum",w);break;default:}delete m[x];++R;++q;}W.each(m,Y);W.some(d,O);if(p||q-R<=1){return;}n=s;W.some(d.slice(0).reverse(),O);j=s;if(p||q-R<=2){return;}v=false;W.some(d.slice(n+1,j),O);},X=function(A,O){var L=Q(A);return['<div class="pp_carousel_container pp_media_bar"',' albumtype="',O,'"',' albumid="',L,'">',"</div>"].join("");},T=function(A,L){S.useLogConsole(function(e){var s=S.getRuntime(),t=["#",L.id," ",s.threadBody].join(""),AI=e.one(s.messageBody)||e.one(t),v=AI.one(".photo_preview"),h,x,AF,g,u,q,AD=[],f,AB,AH,j,AJ=0,i=false,w=[],AK=[],y,AE,n,o,l,p=L.atts,AG=L.imagesBlocked,O=L.mid,AA=L.timer;function k(){try{var AR=W.reduce(p,{imgatts:[],otheratts:[]},function(AT,AS){var AU=AS.type==="image"&&G[AS.subtype]?AT.imgatts:AT.otheratts;AU.push(AS);return AT;}),AP={},Y,AM,AO,AN;for(AN=0;AN<A.length;AN++){AO=A[AN];AM=AO[1].apiClientName;if(AO[1].group){if(AP[AM]){AP[AM].push(AO);}else{AP[AM]=[AO];}A.splice(AN,1);AN--;}}if(I.size(AP)>0){for(Y in AP){if(AP[Y].length>1){A.push(AP[Y]);}else{A.push(AP[Y][0]);}}}AB=AR.imgatts;AH=AR.otheratts;AD=AB.concat(AH);f=0;j={shared:{className:"shared",showing:true},allatts:{className:"allatts",showing:true}};}catch(AQ){S.rocketstats.post("mr:scriptError:setupPreview");}}function z(){try{var AM=S.createGettext("pp-ymailclient",J),Y=[];k();i=true;if(A.length>0){Y.push('<div class="pp_album_group ',(AD.length>0)?"":"last_group ",j.shared.className,'">',W.map(U(0,A.length),X).join(""),"</div>");AJ+=A.length;}if(AD.length>0){W.each(AD,function(AO){f+=AO.size;});Y.push('<div class="pp_album_group ',(AD.length>0)?"":"last_group ",j.allatts.className,'">','<div class="pp_group_titlebar">','<span class="pp_group_name">',"<strong>",AD.length,"</strong> ",(AD.length==1)?B(AM("SINGLE_ATTACHMENT")):B(AM("ALL_ATTACHMENTS")),"</span>",'<span class="filesize">| ',b(f,true),"</span>","</div>",X(AJ,"allatts"),"</div>");AJ++;}v.setContent(Y.join(""));v.all("div.pp_media_bar[albumid]").each(function(AP){var AO=AP.getAttribute("albumtype");(AO=="allatts"?AK:w).push({albumid:AP.getAttribute("albumid"),albumtype:AO,node:AP});});}catch(AN){S.rocketstats.post("mr:scriptError:renderPreview");}}function m(Y){return Y&&Y.inViewportRegion();}function AL(AM,AN,AP,AO,Y){M(AM,"albumFailure");if(AO){M(AM,"albumFailure:"+AO);}if(!Y){e.one(AP).addClass("pp_hidden");}if(R!==AJ){AE(null,true);}}function AC(AM){try{if(O!=v.getAttribute("mid")){return;}var Y=new S.MediaBar(AM,AG),AP=AM.getApiId(),AQ,AN,AO,AU,AT,AS;if(V.apiIdIsYmail(AP)){AS=j.allatts;}else{AS=j.shared;}if(!AS.showing){v.one("."+AS.className).removeClass("pp_hidden");AS.showing=true;}Y.render(v);M(AP,"render");}catch(AR){M(AP,"errorAlbumSuccess");}}function d(){try{K(w,AK,A,AD,AB.length,AC,AL,m);}catch(Y){S.rocketstats.post("mr:scriptError:renderAlbums");}}function r(){if(x.length){W.each(x,function(Y){Y.detach();});}}AE=function(AN,AM){try{var AP=e.DOM.viewportRegion(),Y;if(!v){r();return true;}n=v.get("region").top;Y=AN&&AN.type=="resize"?AP.height:(AP.top||n);if(AJ>0&&R==AJ){return false;}if(AM!==true&&Math.abs(Y-c)<E){return false;}c=Y;if(!v.inViewportRegion()){return false;}if(!i){z();}d();if(R==AJ){r();return true;}return false;}catch(AO){S.rocketstats.post("mr:scriptError:renderCheck");}};y=F(AE,150,7);h=S.createGettext("pp-photopreview",J);x=[];if(v){if(S.OMPARAMS.user.isRTL){v.setAttribute("dir","rtl");}v.setContent(["<br/>",B(h("LOADING")),"<br/> "].join(""));v.setStyle("display","block");}if(!AE()){g=(S.getDocument&&S.getDocument())||document;u=g.parentWindow||g.defaultView;q=e.one("body > div.message");x.push(e.on("scroll",y,q));x.push(e.on("resize",y,u));if(n<0){N.later(150,null,AE);}}if(AA){o=+new Date();AA.om&&AA.om.stop();l=o-AA.start;M(null,null,AA.key,l);}M(null,"render");},J);};S.run=T;},"@VERSION@",{lang:["ar-JO","ar-JO-x-nokia","bg-BG","bn-BD","bn-BD-x-nokia","bn-IN","cs-CZ","da-DK","da-DK-x-nokia","de-AT","de-CH","de-DE","de-DE-x-nokia","el-GR","el-GR-x-nokia","en-035","en-035-x-nokia","en-AU","en-AU-x-nokia","en-CA","en-CA-x-nokia","en-CA-x-rogers","en-GB","en-GB-x-bt","en-GB-x-nokia","en-IE","en-IE-x-nokia","en-IN","en-IN-x-nokia","en-JO","en-JO-x-nokia","en-MY","en-NZ","en-NZ-x-nokia","en-NZ-x-tnz","en-PH","en-PH-x-nokia","en-SG","en-SG-x-nokia","en-US","en-US-x-ftr","en-US-x-nokia","en-US-x-sbc","en-US-x-verizon","en-ZA","es-AR","es-AR-x-nokia","es-CL","es-CL-x-nokia","es-CO","es-CO-x-nokia","es-ES","es-ES-x-nokia","es-MX","es-MX-x-nokia","es-PE","es-PE-x-nokia","es-US","es-US-x-nokia","es-VE","es-VE-x-nokia","et-EE","fi-FI","fi-FI-x-nokia","fil-PH","fil-PH-x-nokia","fr-BE","fr-CA","fr-CA-x-nokia","fr-CA-x-rogers","fr-CH","fr-FR","fr-FR-x-nokia","gu-IN","he-IL","hi-IN","hi-IN-x-nokia","hr-HR","hu-HU","id-ID","id-ID-x-nokia","it-CH","it-IT","it-IT-x-nokia","ja-JP","kn-IN","ko-KR","ko-KR-x-nokia","lt-LT","lv-LV","ml-IN","mr-IN","ms-MY","ms-MY-x-nokia","ms-MY-x-temp","nb-NO","nb-NO-x-nokia","nl-BE","nl-NL","nl-NL-x-nokia","pl-PL","pl-PL-x-nokia","pt-BR","pt-BR-x-nokia","pt-PT","pt-PT-x-nokia","ro-RO","ro-RO-x-nokia","ru-RU","ru-RU-x-nokia","sk-SK","sl-SI","sr-Cyrl-RS","sv-SE","sv-SE-x-nokia","ta-IN","ta-IN-x-nokia","te-IN","th-TH","th-TH-x-nokia","tr-TR","tr-TR-x-nokia","uk-UA","ur-PK","ur-PK-x-nokia","vi-VN","vi-VN-x-nokia","zh-Hans-CN","zh-Hans-CN-x-alibaba","zh-Hans-CN-x-nokia","zh-Hans-CN-x-yahoocn","zh-Hant-HK","zh-Hant-HK-x-nokia","zh-Hant-TW","zh-Hant-TW-x-nokia","zh-Hant-US"],requires:["pp-globals","pp-utils","pp-runtime","pp-rocketstats","pp-intl","pp-ymaillib","node","array-extras","pp-ui-utils"]});
YUI.add("pp-stub",function(D){D.namespace("PhotoPreview");var B=D.PhotoPreview,C=B.createLogger("stub"),A=function(G){try{D.mix(B,{DOWNLOADALLARGS:G.downloadAllArgs,OMAPI:G.openmail,OMPARAMS:G.omparams,VIEWID:G.viewId,MSGITEM:G.msgItem},true);B.initRuntime(G.runtime);var F=[];function E(){B.useLocalizedModule("pp-ymailclient","pp-mediabar","pp-photopreview",function(I){G.timer.om&&G.timer.om.start();B.run(F,{atts:G.atts,imagesBlocked:G.imagesBlocked,mid:G.mid,timer:G.timer,id:G.id});},C);}if(G.urls.length){D.use("pp-urlfactory",function(I){F=B.getUrlApiIds(G.urls);E();});}else{E();}}catch(H){B.handleError(C,H);}};B.photoPreviewRun=A;},"@VERSION@",{requires:["pp-utils","pp-runtime","pp-intl"]});
YUI.add("yui2-dom",function(B){var A=B.YUI2;(function(){A.env._id_counter=A.env._id_counter||0;var H=A.util,N=A.lang,o=A.env.ua,C=A.lang.trim,f={},j={},P=/^t(?:able|d|h)$/i,a=/color$/i,M=window.document,Z=M.documentElement,g="ownerDocument",p="defaultView",x="documentElement",v="compatMode",d="offsetLeft",R="offsetTop",w="offsetParent",b="parentNode",n="nodeType",E="tagName",Q="scrollLeft",k="scrollTop",S="getBoundingClientRect",y="getComputedStyle",c="currentStyle",O="CSS1Compat",e="BackCompat",i="class",I="className",L="",D=" ",u="(?:^|\\s)",m="(?= |$)",W="g",r="position",h="fixed",X="relative",l="left",q="top",t="medium",s="borderLeftWidth",T="borderTopWidth",F=o.opera,K=o.webkit,J=o.gecko,V=o.ie;H.Dom={CUSTOM_ATTRIBUTES:(!Z.hasAttribute)?{"for":"htmlFor","class":I}:{"htmlFor":"for","className":i},DOT_ATTRIBUTES:{},get:function(AB){var AD,z,AC,AA,Y,G;if(AB){if(AB[n]||AB.item){return AB;}if(typeof AB==="string"){AD=AB;AB=M.getElementById(AB);G=(AB)?AB.attributes:null;if(AB&&G&&G.id&&G.id.value===AD){return AB;}else{if(AB&&M.all){AB=null;z=M.all[AD];for(AA=0,Y=z.length;AA<Y;++AA){if(z[AA].id===AD){return z[AA];}}}}return AB;}if(A.util.Element&&AB instanceof A.util.Element){AB=AB.get("element");}if("length" in AB){AC=[];for(AA=0,Y=AB.length;AA<Y;++AA){AC[AC.length]=H.Dom.get(AB[AA]);}return AC;}return AB;}return null;},getComputedStyle:function(G,Y){if(window[y]){return G[g][p][y](G,null)[Y];}else{if(G[c]){return H.Dom.IE_ComputedStyle.get(G,Y);}}},getStyle:function(G,Y){return H.Dom.batch(G,H.Dom._getStyle,Y);},_getStyle:function(){if(window[y]){return function(G,AA){AA=(AA==="float")?AA="cssFloat":H.Dom._toCamel(AA);var z=G.style[AA],Y;if(!z){Y=G[g][p][y](G,null);if(Y){z=Y[AA];}}return z;};}else{if(Z[c]){return function(G,AA){var z;switch(AA){case"opacity":z=100;try{z=G.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(AB){try{z=G.filters("alpha").opacity;}catch(Y){}}return z/100;case"float":AA="styleFloat";default:AA=H.Dom._toCamel(AA);z=G[c]?G[c][AA]:null;return(G.style[AA]||z);}};}}}(),setStyle:function(G,Y,z){H.Dom.batch(G,H.Dom._setStyle,{prop:Y,val:z});},_setStyle:function(){if(V){return function(Y,G){var z=H.Dom._toCamel(G.prop),AA=G.val;if(Y){switch(z){case"opacity":if(N.isString(Y.style.filter)){Y.style.filter="alpha(opacity="+AA*100+")";if(!Y[c]||!Y[c].hasLayout){Y.style.zoom=1;}}break;case"float":z="styleFloat";default:Y.style[z]=AA;}}else{}};}else{return function(Y,G){var z=H.Dom._toCamel(G.prop),AA=G.val;if(Y){if(z=="float"){z="cssFloat";}Y.style[z]=AA;}else{}};}}(),getXY:function(G){return H.Dom.batch(G,H.Dom._getXY);},_canPosition:function(G){return(H.Dom._getStyle(G,"display")!=="none"&&H.Dom._inDoc(G));},_getXY:function(){if(M[x][S]){return function(AA){var AB,Y,AC,AH,AG,AF,AE,G,z,AD=Math.floor,AI=false;if(H.Dom._canPosition(AA)){AC=AA[S]();AH=AA[g];AB=H.Dom.getDocumentScrollLeft(AH);Y=H.Dom.getDocumentScrollTop(AH);AI=[AD(AC[l]),AD(AC[q])];if(V&&o.ie<8){AG=2;AF=2;AE=AH[v];if(o.ie===6){if(AE!==e){AG=0;AF=0;}}if((AE===e)){G=U(AH[x],s);z=U(AH[x],T);if(G!==t){AG=parseInt(G,10);}if(z!==t){AF=parseInt(z,10);}}AI[0]-=AG;AI[1]-=AF;}if((Y||AB)){AI[0]+=AB;AI[1]+=Y;}AI[0]=AD(AI[0]);AI[1]=AD(AI[1]);}else{}return AI;};}else{return function(AA){var z,Y,AC,AD,AE,AB=false,G=AA;if(H.Dom._canPosition(AA)){AB=[AA[d],AA[R]];z=H.Dom.getDocumentScrollLeft(AA[g]);Y=H.Dom.getDocumentScrollTop(AA[g]);AE=((J||o.webkit>519)?true:false);while((G=G[w])){AB[0]+=G[d];AB[1]+=G[R];if(AE){AB=H.Dom._calcBorders(G,AB);}}if(H.Dom._getStyle(AA,r)!==h){G=AA;while((G=G[b])&&G[E]){AC=G[k];AD=G[Q];if(J&&(H.Dom._getStyle(G,"overflow")!=="visible")){AB=H.Dom._calcBorders(G,AB);}if(AC||AD){AB[0]-=AD;AB[1]-=AC;}}AB[0]+=z;AB[1]+=Y;}else{if(F){AB[0]-=z;AB[1]-=Y;}else{if(K||J){AB[0]+=z;AB[1]+=Y;}}}AB[0]=Math.floor(AB[0]);AB[1]=Math.floor(AB[1]);}else{}return AB;};}}(),getX:function(G){var Y=function(z){return H.Dom.getXY(z)[0];};return H.Dom.batch(G,Y,H.Dom,true);},getY:function(G){var Y=function(z){return H.Dom.getXY(z)[1];};return H.Dom.batch(G,Y,H.Dom,true);},setXY:function(G,z,Y){H.Dom.batch(G,H.Dom._setXY,{pos:z,noRetry:Y});},_setXY:function(G,AB){var AC=H.Dom._getStyle(G,r),AA=H.Dom.setStyle,AF=AB.pos,Y=AB.noRetry,AD=[parseInt(H.Dom.getComputedStyle(G,l),10),parseInt(H.Dom.getComputedStyle(G,q),10)],AE,z;if(AC=="static"){AC=X;AA(G,r,AC);}AE=H.Dom._getXY(G);if(!AF||AE===false){return false;}if(isNaN(AD[0])){AD[0]=(AC==X)?0:G[d];}if(isNaN(AD[1])){AD[1]=(AC==X)?0:G[R];}if(AF[0]!==null){AA(G,l,AF[0]-AE[0]+AD[0]+"px");}if(AF[1]!==null){AA(G,q,AF[1]-AE[1]+AD[1]+"px");}if(!Y){z=H.Dom._getXY(G);if((AF[0]!==null&&z[0]!=AF[0])||(AF[1]!==null&&z[1]!=AF[1])){H.Dom._setXY(G,{pos:AF,noRetry:true});}}},setX:function(Y,G){H.Dom.setXY(Y,[G,null]);},setY:function(G,Y){H.Dom.setXY(G,[null,Y]);},getRegion:function(G){var Y=function(z){var AA=false;if(H.Dom._canPosition(z)){AA=H.Region.getRegion(z);}else{}return AA;};return H.Dom.batch(G,Y,H.Dom,true);},getClientWidth:function(){return H.Dom.getViewportWidth();},getClientHeight:function(){return H.Dom.getViewportHeight();},getElementsByClassName:function(AD,AH,AE,AG,z,AF){AH=AH||"*";AE=(AE)?H.Dom.get(AE):null||M;if(!AE){return[];}var Y=[],G=AE.getElementsByTagName(AH),AB=H.Dom.hasClass;for(var AA=0,AC=G.length;AA<AC;++AA){if(AB(G[AA],AD)){Y[Y.length]=G[AA];}}if(AG){H.Dom.batch(Y,AG,z,AF);}return Y;},hasClass:function(Y,G){return H.Dom.batch(Y,H.Dom._hasClass,G);},_hasClass:function(z,Y){var G=false,AA;if(z&&Y){AA=H.Dom._getAttribute(z,I)||L;if(Y.exec){G=Y.test(AA);}else{G=Y&&(D+AA+D).indexOf(D+Y+D)>-1;}}else{}return G;},addClass:function(Y,G){return H.Dom.batch(Y,H.Dom._addClass,G);},_addClass:function(z,Y){var G=false,AA;if(z&&Y){AA=H.Dom._getAttribute(z,I)||L;if(!H.Dom._hasClass(z,Y)){H.Dom.setAttribute(z,I,C(AA+D+Y));G=true;}}else{}return G;},removeClass:function(Y,G){return H.Dom.batch(Y,H.Dom._removeClass,G);},_removeClass:function(AA,z){var Y=false,AC,AB,G;if(AA&&z){AC=H.Dom._getAttribute(AA,I)||L;H.Dom.setAttribute(AA,I,AC.replace(H.Dom._getClassRegex(z),L));AB=H.Dom._getAttribute(AA,I);
if(AC!==AB){H.Dom.setAttribute(AA,I,C(AB));Y=true;if(H.Dom._getAttribute(AA,I)===""){G=(AA.hasAttribute&&AA.hasAttribute(i))?i:I;AA.removeAttribute(G);}}}else{}return Y;},replaceClass:function(z,Y,G){return H.Dom.batch(z,H.Dom._replaceClass,{from:Y,to:G});},_replaceClass:function(AA,z){var Y,AD,AC,G=false,AB;if(AA&&z){AD=z.from;AC=z.to;if(!AC){G=false;}else{if(!AD){G=H.Dom._addClass(AA,z.to);}else{if(AD!==AC){AB=H.Dom._getAttribute(AA,I)||L;Y=(D+AB.replace(H.Dom._getClassRegex(AD),D+AC)).split(H.Dom._getClassRegex(AC));Y.splice(1,0,D+AC);H.Dom.setAttribute(AA,I,C(Y.join(L)));G=true;}}}}else{}return G;},generateId:function(G,z){z=z||"yui-gen";var Y=function(AA){if(AA&&AA.id){return AA.id;}var AB=z+A.env._id_counter++;if(AA){if(AA[g]&&AA[g].getElementById(AB)){return H.Dom.generateId(AA,AB+z);}AA.id=AB;}return AB;};return H.Dom.batch(G,Y,H.Dom,true)||Y.apply(H.Dom,arguments);},isAncestor:function(Y,z){Y=H.Dom.get(Y);z=H.Dom.get(z);var G=false;if((Y&&z)&&(Y[n]&&z[n])){if(Y.contains&&Y!==z){G=Y.contains(z);}else{if(Y.compareDocumentPosition){G=!!(Y.compareDocumentPosition(z)&16);}}}else{}return G;},inDocument:function(G,Y){return H.Dom._inDoc(H.Dom.get(G),Y);},_inDoc:function(Y,z){var G=false;if(Y&&Y[E]){z=z||Y[g];G=H.Dom.isAncestor(z[x],Y);}else{}return G;},getElementsBy:function(Y,AH,AD,AF,AA,AE,AG){AH=AH||"*";AD=(AD)?H.Dom.get(AD):null||M;if(!AD){return[];}var z=[],G=AD.getElementsByTagName(AH);for(var AB=0,AC=G.length;AB<AC;++AB){if(Y(G[AB])){if(AG){z=G[AB];break;}else{z[z.length]=G[AB];}}}if(AF){H.Dom.batch(z,AF,AA,AE);}return z;},getElementBy:function(z,G,Y){return H.Dom.getElementsBy(z,G,Y,null,null,null,true);},batch:function(z,AD,AC,AB){var AA=[],Y=(AB)?AC:window;z=(z&&(z[E]||z.item))?z:H.Dom.get(z);if(z&&AD){if(z[E]||z.length===undefined){return AD.call(Y,z,AC);}for(var G=0;G<z.length;++G){AA[AA.length]=AD.call(Y,z[G],AC);}}else{return false;}return AA;},getDocumentHeight:function(){var Y=(M[v]!=O||K)?M.body.scrollHeight:Z.scrollHeight,G=Math.max(Y,H.Dom.getViewportHeight());return G;},getDocumentWidth:function(){var Y=(M[v]!=O||K)?M.body.scrollWidth:Z.scrollWidth,G=Math.max(Y,H.Dom.getViewportWidth());return G;},getViewportHeight:function(){var G=self.innerHeight,Y=M[v];if((Y||V)&&!F){G=(Y==O)?Z.clientHeight:M.body.clientHeight;}return G;},getViewportWidth:function(){var G=self.innerWidth,Y=M[v];if(Y||V){G=(Y==O)?Z.clientWidth:M.body.clientWidth;}return G;},getAncestorBy:function(G,Y){while((G=G[b])){if(H.Dom._testElement(G,Y)){return G;}}return null;},getAncestorByClassName:function(Y,G){Y=H.Dom.get(Y);if(!Y){return null;}var z=function(AA){return H.Dom.hasClass(AA,G);};return H.Dom.getAncestorBy(Y,z);},getAncestorByTagName:function(Y,G){Y=H.Dom.get(Y);if(!Y){return null;}var z=function(AA){return AA[E]&&AA[E].toUpperCase()==G.toUpperCase();};return H.Dom.getAncestorBy(Y,z);},getPreviousSiblingBy:function(G,Y){while(G){G=G.previousSibling;if(H.Dom._testElement(G,Y)){return G;}}return null;},getPreviousSibling:function(G){G=H.Dom.get(G);if(!G){return null;}return H.Dom.getPreviousSiblingBy(G);},getNextSiblingBy:function(G,Y){while(G){G=G.nextSibling;if(H.Dom._testElement(G,Y)){return G;}}return null;},getNextSibling:function(G){G=H.Dom.get(G);if(!G){return null;}return H.Dom.getNextSiblingBy(G);},getFirstChildBy:function(G,z){var Y=(H.Dom._testElement(G.firstChild,z))?G.firstChild:null;return Y||H.Dom.getNextSiblingBy(G.firstChild,z);},getFirstChild:function(G,Y){G=H.Dom.get(G);if(!G){return null;}return H.Dom.getFirstChildBy(G);},getLastChildBy:function(G,z){if(!G){return null;}var Y=(H.Dom._testElement(G.lastChild,z))?G.lastChild:null;return Y||H.Dom.getPreviousSiblingBy(G.lastChild,z);},getLastChild:function(G){G=H.Dom.get(G);return H.Dom.getLastChildBy(G);},getChildrenBy:function(Y,AA){var z=H.Dom.getFirstChildBy(Y,AA),G=z?[z]:[];H.Dom.getNextSiblingBy(z,function(AB){if(!AA||AA(AB)){G[G.length]=AB;}return false;});return G;},getChildren:function(G){G=H.Dom.get(G);if(!G){}return H.Dom.getChildrenBy(G);},getDocumentScrollLeft:function(G){G=G||M;return Math.max(G[x].scrollLeft,G.body.scrollLeft);},getDocumentScrollTop:function(G){G=G||M;return Math.max(G[x].scrollTop,G.body.scrollTop);},insertBefore:function(Y,G){Y=H.Dom.get(Y);G=H.Dom.get(G);if(!Y||!G||!G[b]){return null;}return G[b].insertBefore(Y,G);},insertAfter:function(Y,G){Y=H.Dom.get(Y);G=H.Dom.get(G);if(!Y||!G||!G[b]){return null;}if(G.nextSibling){return G[b].insertBefore(Y,G.nextSibling);}else{return G[b].appendChild(Y);}},getClientRegion:function(){var z=H.Dom.getDocumentScrollTop(),Y=H.Dom.getDocumentScrollLeft(),AA=H.Dom.getViewportWidth()+Y,G=H.Dom.getViewportHeight()+z;return new H.Region(z,AA,G,Y);},setAttribute:function(Y,G,z){H.Dom.batch(Y,H.Dom._setAttribute,{attr:G,val:z});},_setAttribute:function(z,Y){var G=H.Dom._toCamel(Y.attr),AA=Y.val;if(z&&z.setAttribute){if(H.Dom.DOT_ATTRIBUTES[G]){z[G]=AA;}else{G=H.Dom.CUSTOM_ATTRIBUTES[G]||G;z.setAttribute(G,AA);}}else{}},getAttribute:function(Y,G){return H.Dom.batch(Y,H.Dom._getAttribute,G);},_getAttribute:function(Y,G){var z;G=H.Dom.CUSTOM_ATTRIBUTES[G]||G;if(Y&&Y.getAttribute){z=Y.getAttribute(G,2);}else{}return z;},_toCamel:function(Y){var z=f;function G(AA,AB){return AB.toUpperCase();}return z[Y]||(z[Y]=Y.indexOf("-")===-1?Y:Y.replace(/-([a-z])/gi,G));},_getClassRegex:function(Y){var G;if(Y!==undefined){if(Y.exec){G=Y;}else{G=j[Y];if(!G){Y=Y.replace(H.Dom._patterns.CLASS_RE_TOKENS,"\\$1");G=j[Y]=new RegExp(u+Y+m,W);}}}return G;},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},_testElement:function(G,Y){return G&&G[n]==1&&(!Y||Y(G));},_calcBorders:function(z,AA){var Y=parseInt(H.Dom[y](z,T),10)||0,G=parseInt(H.Dom[y](z,s),10)||0;if(J){if(P.test(z[E])){Y=0;G=0;}}AA[0]+=G;AA[1]+=Y;return AA;}};var U=H.Dom[y];if(o.opera){H.Dom[y]=function(Y,G){var z=U(Y,G);if(a.test(G)){z=H.Dom.Color.toRGB(z);}return z;};}if(o.webkit){H.Dom[y]=function(Y,G){var z=U(Y,G);if(z==="rgba(0, 0, 0, 0)"){z="transparent";}return z;};}if(o.ie&&o.ie>=8&&M.documentElement.hasAttribute){H.Dom.DOT_ATTRIBUTES.type=true;
}})();A.util.Region=function(E,F,C,D){this.top=E;this.y=E;this[1]=E;this.right=F;this.bottom=C;this.left=D;this.x=D;this[0]=D;this.width=this.right-this.left;this.height=this.bottom-this.top;};A.util.Region.prototype.contains=function(C){return(C.left>=this.left&&C.right<=this.right&&C.top>=this.top&&C.bottom<=this.bottom);};A.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};A.util.Region.prototype.intersect=function(G){var E=Math.max(this.top,G.top),F=Math.min(this.right,G.right),C=Math.min(this.bottom,G.bottom),D=Math.max(this.left,G.left);if(C>=E&&F>=D){return new A.util.Region(E,F,C,D);}else{return null;}};A.util.Region.prototype.union=function(G){var E=Math.min(this.top,G.top),F=Math.max(this.right,G.right),C=Math.max(this.bottom,G.bottom),D=Math.min(this.left,G.left);return new A.util.Region(E,F,C,D);};A.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}");};A.util.Region.getRegion=function(F){var H=A.util.Dom.getXY(F),E=H[1],G=H[0]+F.offsetWidth,C=H[1]+F.offsetHeight,D=H[0];return new A.util.Region(E,G,C,D);};A.util.Point=function(C,D){if(A.lang.isArray(C)){D=C[1];C=C[0];}A.util.Point.superclass.constructor.call(this,D,C,D,C);};A.extend(A.util.Point,A.util.Region);(function(){var D=A.util,C="clientTop",H="clientLeft",L="parentNode",M="right",Z="hasLayout",K="px",W="opacity",N="auto",F="borderLeftWidth",I="borderTopWidth",R="borderRightWidth",X="borderBottomWidth",U="visible",S="transparent",P="height",G="width",J="style",V="currentStyle",T=/^width|height$/,Q=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,O={get:function(Y,b){var a="",c=Y[V][b];if(b===W){a=D.Dom.getStyle(Y,W);}else{if(!c||(c.indexOf&&c.indexOf(K)>-1)){a=c;}else{if(D.Dom.IE_COMPUTED[b]){a=D.Dom.IE_COMPUTED[b](Y,b);}else{if(Q.test(c)){a=D.Dom.IE.ComputedStyle.getPixel(Y,b);}else{a=c;}}}}return a;},getOffset:function(b,g){var d=b[V][g],Y=g.charAt(0).toUpperCase()+g.substr(1),e="offset"+Y,a="pixel"+Y,c="",f;if(d==N){f=b[e];if(f===undefined){c=0;}c=f;if(T.test(g)){b[J][g]=f;if(b[e]>f){c=f-(b[e]-f);}b[J][g]=N;}}else{if(!b[J][a]&&!b[J][g]){b[J][g]=d;}c=b[J][a];}return c+K;},getBorderWidth:function(Y,b){var a=null;if(!Y[V][Z]){Y[J].zoom=1;}switch(b){case I:a=Y[C];break;case X:a=Y.offsetHeight-Y.clientHeight-Y[C];break;case F:a=Y[H];break;case R:a=Y.offsetWidth-Y.clientWidth-Y[H];break;}return a+K;},getPixel:function(a,Y){var c=null,d=a[V][M],b=a[V][Y];a[J][M]=b;c=a[J].pixelRight;a[J][M]=d;return c+K;},getMargin:function(a,Y){var b;if(a[V][Y]==N){b=0+K;}else{b=D.Dom.IE.ComputedStyle.getPixel(a,Y);}return b;},getVisibility:function(a,Y){var b;while((b=a[V])&&b[Y]=="inherit"){a=a[L];}return(b)?b[Y]:U;},getColor:function(a,Y){return D.Dom.Color.toRGB(a[V][Y])||S;},getBorderColor:function(a,Y){var b=a[V],c=b[Y]||b.color;return D.Dom.Color.toRGB(D.Dom.Color.toHex(c));}},E={};E.top=E.right=E.bottom=E.left=E[G]=E[P]=O.getOffset;E.color=O.getColor;E[I]=E[R]=E[X]=E[F]=O.getBorderWidth;E.marginTop=E.marginRight=E.marginBottom=E.marginLeft=O.getMargin;E.visibility=O.getVisibility;E.borderColor=E.borderTopColor=E.borderRightColor=E.borderBottomColor=E.borderLeftColor=O.getBorderColor;D.Dom.IE_COMPUTED=E;D.Dom.IE_ComputedStyle=O;})();(function(){var E="toString",C=parseInt,D=RegExp,F=A.util;F.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(G){if(!F.Dom.Color.re_RGB.test(G)){G=F.Dom.Color.toHex(G);}if(F.Dom.Color.re_hex.exec(G)){G="rgb("+[C(D.$1,16),C(D.$2,16),C(D.$3,16)].join(", ")+")";}return G;},toHex:function(J){J=F.Dom.Color.KEYWORDS[J]||J;if(F.Dom.Color.re_RGB.exec(J)){var I=(D.$1.length===1)?"0"+D.$1:Number(D.$1),H=(D.$2.length===1)?"0"+D.$2:Number(D.$2),G=(D.$3.length===1)?"0"+D.$3:Number(D.$3);J=[I[E](16),H[E](16),G[E](16)].join("");}if(J.length<6){J=J.replace(F.Dom.Color.re_hex3,"$1$1");}if(J!=="transparent"&&J.indexOf("#")<0){J="#"+J;}return J.toLowerCase();}};}());A.register("dom",A.util.Dom,{version:"2.8.1",build:"19"});if(A.env._id_counter<1000000){A.env._id_counter=B.Env._yidx*1000000;}},"2.8.1",{"requires":["yui2-yahoo"]});
YUI.add("yui2-element",function(B){var A=B.YUI2;A.util.Attribute=function(D,C){if(C){this.owner=C;this.configure(D,true);}};A.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,setter:null,getter:null,validator:null,getValue:function(){var C=this.value;if(this.getter){C=this.getter.call(this.owner,this.name,C);}return C;},setValue:function(H,D){var G,C=this.owner,E=this.name;var F={type:E,prevValue:this.getValue(),newValue:H};if(this.readOnly||(this.writeOnce&&this._written)){return false;}if(this.validator&&!this.validator.call(C,H)){return false;}if(!D){G=C.fireBeforeChangeEvent(F);if(G===false){return false;}}if(this.setter){H=this.setter.call(C,H,this.name);if(H===undefined){}}if(this.method){this.method.call(C,H,this.name);}this.value=H;this._written=true;F.type=E;if(!D){this.owner.fireChangeEvent(F);}return true;},configure:function(D,E){D=D||{};if(E){this._written=false;}this._initialConfig=this._initialConfig||{};for(var C in D){if(D.hasOwnProperty(C)){this[C]=D[C];if(E){this._initialConfig[C]=D[C];}}}},resetValue:function(){return this.setValue(this._initialConfig.value);},resetConfig:function(){this.configure(this._initialConfig,true);},refresh:function(C){this.setValue(this.value,C);}};(function(){var C=A.util.Lang;A.util.AttributeProvider=function(){};A.util.AttributeProvider.prototype={_configs:null,get:function(E){this._configs=this._configs||{};var D=this._configs[E];if(!D||!this._configs.hasOwnProperty(E)){return null;}return D.getValue();},set:function(F,G,D){this._configs=this._configs||{};var E=this._configs[F];if(!E){return false;}return E.setValue(G,D);},getAttributeKeys:function(){this._configs=this._configs;var E=[],D;for(D in this._configs){if(C.hasOwnProperty(this._configs,D)&&!C.isUndefined(this._configs[D])){E[E.length]=D;}}return E;},setAttributes:function(F,D){for(var E in F){if(C.hasOwnProperty(F,E)){this.set(E,F[E],D);}}},resetValue:function(E,D){this._configs=this._configs||{};if(this._configs[E]){this.set(E,this._configs[E]._initialConfig.value,D);return true;}return false;},refresh:function(G,E){this._configs=this._configs||{};var H=this._configs;G=((C.isString(G))?[G]:G)||this.getAttributeKeys();for(var F=0,D=G.length;F<D;++F){if(H.hasOwnProperty(G[F])){this._configs[G[F]].refresh(E);}}},register:function(D,E){this.setAttributeConfig(D,E);},getAttributeConfig:function(E){this._configs=this._configs||{};var D=this._configs[E]||{};var F={};for(E in D){if(C.hasOwnProperty(D,E)){F[E]=D[E];}}return F;},setAttributeConfig:function(D,E,F){this._configs=this._configs||{};E=E||{};if(!this._configs[D]){E.name=D;this._configs[D]=this.createAttribute(E);}else{this._configs[D].configure(E,F);}},configureAttribute:function(D,E,F){this.setAttributeConfig(D,E,F);},resetAttributeConfig:function(D){this._configs=this._configs||{};this._configs[D].resetConfig();},subscribe:function(D,E){this._events=this._events||{};if(!(D in this._events)){this._events[D]=this.createEvent(D);}A.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){this.subscribe.apply(this,arguments);},addListener:function(){this.subscribe.apply(this,arguments);},fireBeforeChangeEvent:function(E){var D="before";D+=E.type.charAt(0).toUpperCase()+E.type.substr(1)+"Change";E.type=D;return this.fireEvent(E.type,E);},fireChangeEvent:function(D){D.type+="Change";return this.fireEvent(D.type,D);},createAttribute:function(D){return new A.util.Attribute(D,this);}};A.augment(A.util.AttributeProvider,A.util.EventProvider);})();(function(){var D=A.util.Dom,F=A.util.AttributeProvider,E={mouseenter:true,mouseleave:true};var C=function(G,H){this.init.apply(this,arguments);};C.DOM_EVENTS={"click":true,"dblclick":true,"keydown":true,"keypress":true,"keyup":true,"mousedown":true,"mousemove":true,"mouseout":true,"mouseover":true,"mouseup":true,"mouseenter":true,"mouseleave":true,"focus":true,"blur":true,"submit":true,"change":true};C.prototype={DOM_EVENTS:null,DEFAULT_HTML_SETTER:function(I,G){var H=this.get("element");if(H){H[G]=I;}return I;},DEFAULT_HTML_GETTER:function(G){var H=this.get("element"),I;if(H){I=H[G];}return I;},appendChild:function(G){G=G.get?G.get("element"):G;return this.get("element").appendChild(G);},getElementsByTagName:function(G){return this.get("element").getElementsByTagName(G);},hasChildNodes:function(){return this.get("element").hasChildNodes();},insertBefore:function(G,H){G=G.get?G.get("element"):G;H=(H&&H.get)?H.get("element"):H;return this.get("element").insertBefore(G,H);},removeChild:function(G){G=G.get?G.get("element"):G;return this.get("element").removeChild(G);},replaceChild:function(G,H){G=G.get?G.get("element"):G;H=H.get?H.get("element"):H;return this.get("element").replaceChild(G,H);},initAttributes:function(G){},addListener:function(L,K,M,J){J=J||this;var G=A.util.Event,I=this.get("element")||this.get("id"),H=this;if(E[L]&&!G._createMouseDelegate){return false;}if(!this._events[L]){if(I&&this.DOM_EVENTS[L]){G.on(I,L,function(O,N){if(O.srcElement&&!O.target){O.target=O.srcElement;}if((O.toElement&&!O.relatedTarget)||(O.fromElement&&!O.relatedTarget)){O.relatedTarget=G.getRelatedTarget(O);}if(!O.currentTarget){O.currentTarget=I;}H.fireEvent(L,O,N);},M,J);}this.createEvent(L,{scope:this});}return A.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){return this.addListener.apply(this,arguments);},subscribe:function(){return this.addListener.apply(this,arguments);},removeListener:function(H,G){return this.unsubscribe.apply(this,arguments);},addClass:function(G){D.addClass(this.get("element"),G);},getElementsByClassName:function(H,G){return D.getElementsByClassName(H,G,this.get("element"));},hasClass:function(G){return D.hasClass(this.get("element"),G);},removeClass:function(G){return D.removeClass(this.get("element"),G);},replaceClass:function(H,G){return D.replaceClass(this.get("element"),H,G);},setStyle:function(H,G){return D.setStyle(this.get("element"),H,G);
},getStyle:function(G){return D.getStyle(this.get("element"),G);},fireQueue:function(){var H=this._queue;for(var I=0,G=H.length;I<G;++I){this[H[I][0]].apply(this,H[I][1]);}},appendTo:function(H,I){H=(H.get)?H.get("element"):D.get(H);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:H});I=(I&&I.get)?I.get("element"):D.get(I);var G=this.get("element");if(!G){return false;}if(!H){return false;}if(G.parent!=H){if(I){H.insertBefore(G,I);}else{H.appendChild(G);}}this.fireEvent("appendTo",{type:"appendTo",target:H});return G;},get:function(G){var I=this._configs||{},H=I.element;if(H&&!I[G]&&!A.lang.isUndefined(H.value[G])){this._setHTMLAttrConfig(G);}return F.prototype.get.call(this,G);},setAttributes:function(M,J){var H={},K=this._configOrder;for(var L=0,G=K.length;L<G;++L){if(M[K[L]]!==undefined){H[K[L]]=true;this.set(K[L],M[K[L]],J);}}for(var I in M){if(M.hasOwnProperty(I)&&!H[I]){this.set(I,M[I],J);}}},set:function(H,J,G){var I=this.get("element");if(!I){this._queue[this._queue.length]=["set",arguments];if(this._configs[H]){this._configs[H].value=J;}return;}if(!this._configs[H]&&!A.lang.isUndefined(I[H])){this._setHTMLAttrConfig(H);}return F.prototype.set.apply(this,arguments);},setAttributeConfig:function(G,H,I){this._configOrder.push(G);F.prototype.setAttributeConfig.apply(this,arguments);},createEvent:function(H,G){this._events[H]=true;return F.prototype.createEvent.apply(this,arguments);},init:function(H,G){this._initElement(H,G);},destroy:function(){var G=this.get("element");A.util.Event.purgeElement(G,true);this.unsubscribeAll();if(G&&G.parentNode){G.parentNode.removeChild(G);}this._queue=[];this._events={};this._configs={};this._configOrder=[];},_initElement:function(I,H){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];H=H||{};H.element=H.element||I||null;var K=false;var G=C.DOM_EVENTS;this.DOM_EVENTS=this.DOM_EVENTS||{};for(var J in G){if(G.hasOwnProperty(J)){this.DOM_EVENTS[J]=G[J];}}if(typeof H.element==="string"){this._setHTMLAttrConfig("id",{value:H.element});}if(D.get(H.element)){K=true;this._initHTMLElement(H);this._initContent(H);}A.util.Event.onAvailable(H.element,function(){if(!K){this._initHTMLElement(H);}this.fireEvent("available",{type:"available",target:D.get(H.element)});},this,true);A.util.Event.onContentReady(H.element,function(){if(!K){this._initContent(H);}this.fireEvent("contentReady",{type:"contentReady",target:D.get(H.element)});},this,true);},_initHTMLElement:function(G){this.setAttributeConfig("element",{value:D.get(G.element),readOnly:true});},_initContent:function(G){this.initAttributes(G);this.setAttributes(G,true);this.fireQueue();},_setHTMLAttrConfig:function(G,I){var H=this.get("element");I=I||{};I.name=G;I.setter=I.setter||this.DEFAULT_HTML_SETTER;I.getter=I.getter||this.DEFAULT_HTML_GETTER;I.value=I.value||H[G];this._configs[G]=new A.util.Attribute(I,this);}};A.augment(C,F);A.util.Element=C;})();A.register("element",A.util.Element,{version:"2.8.1",build:"19"});},"2.8.1",{"requires":["yui2-yahoo","yui2-dom","yui2-event"],"optional":["yui2-event-mouseenter","yui2-event-delegate"]});
YUI.add("yui2-event",function(Y){var YAHOO=Y.YUI2;YAHOO.util.CustomEvent=function(type,context,silent,signature,fireOnce){this.type=type;this.scope=context||window;this.silent=silent;this.fireOnce=fireOnce;this.fired=false;this.firedWith=null;this.signature=signature||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var onsubscribeType="_YUICEOnSubscribe";if(type!==onsubscribeType){this.subscribeEvent=new YAHOO.util.CustomEvent(onsubscribeType,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(fn,obj,overrideContext){if(!fn){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(fn,obj,overrideContext);}var s=new YAHOO.util.Subscriber(fn,obj,overrideContext);if(this.fireOnce&&this.fired){this.notify(s,this.firedWith);}else{this.subscribers.push(s);}},unsubscribe:function(fn,obj){if(!fn){return this.unsubscribeAll();}var found=false;for(var i=0,len=this.subscribers.length;i<len;++i){var s=this.subscribers[i];if(s&&s.contains(fn,obj)){this._delete(i);found=true;}}return found;},fire:function(){this.lastError=null;var errors=[],len=this.subscribers.length;var args=[].slice.call(arguments,0),ret=true,i,rebuild=false;if(this.fireOnce){if(this.fired){return true;}else{this.firedWith=args;}}this.fired=true;if(!len&&this.silent){return true;}if(!this.silent){}var subs=this.subscribers.slice();for(i=0;i<len;++i){var s=subs[i];if(!s){rebuild=true;}else{ret=this.notify(s,args);if(false===ret){if(!this.silent){}break;}}}return(ret!==false);},notify:function(s,args){var ret,param=null,scope=s.getScope(this.scope),throwErrors=YAHOO.util.Event.throwErrors;if(!this.silent){}if(this.signature==YAHOO.util.CustomEvent.FLAT){if(args.length>0){param=args[0];}try{ret=s.fn.call(scope,param,s.obj);}catch(e){this.lastError=e;if(throwErrors){throw e;}}}else{try{ret=s.fn.call(scope,this.type,args,s.obj);}catch(ex){this.lastError=ex;if(throwErrors){throw ex;}}}return ret;},unsubscribeAll:function(){var l=this.subscribers.length,i;for(i=l-1;i>-1;i--){this._delete(i);}this.subscribers=[];return l;},_delete:function(index){var s=this.subscribers[index];if(s){delete s.fn;delete s.obj;}this.subscribers.splice(index,1);},toString:function(){return"CustomEvent: "+"'"+this.type+"', "+"context: "+this.scope;}};YAHOO.util.Subscriber=function(fn,obj,overrideContext){this.fn=fn;this.obj=YAHOO.lang.isUndefined(obj)?null:obj;this.overrideContext=overrideContext;};YAHOO.util.Subscriber.prototype.getScope=function(defaultScope){if(this.overrideContext){if(this.overrideContext===true){return this.obj;}else{return this.overrideContext;}}return defaultScope;};YAHOO.util.Subscriber.prototype.contains=function(fn,obj){if(obj){return(this.fn==fn&&this.obj==obj);}else{return(this.fn==fn);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var loadComplete=false,listeners=[],unloadListeners=[],retryCount=0,onAvailStack=[],counter=0,webkitKeymap={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9},isIE=YAHOO.env.ua.ie,FOCUSIN="focusin",FOCUSOUT="focusout";return{POLL_RETRYS:500,POLL_INTERVAL:40,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:isIE,_interval:null,_dri:null,_specialTypes:{focusin:(isIE?"focusin":"focus"),focusout:(isIE?"focusout":"blur")},DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){this._interval=YAHOO.lang.later(this.POLL_INTERVAL,this,this._tryPreloadAttach,null,true);}},onAvailable:function(id,fn,obj,overrideContext,checkContent){var a=(YAHOO.lang.isString(id))?[id]:id;for(var i=0;i<a.length;i=i+1){onAvailStack.push({id:a[i],fn:fn,obj:obj,overrideContext:overrideContext,checkReady:checkContent});}retryCount=this.POLL_RETRYS;this.startInterval();},onContentReady:function(id,fn,obj,overrideContext){this.onAvailable(id,fn,obj,overrideContext,true);},onDOMReady:function(){this.DOMReadyEvent.subscribe.apply(this.DOMReadyEvent,arguments);},_addListener:function(el,sType,fn,obj,overrideContext,bCapture){if(!fn||!fn.call){return false;}if(this._isValidCollection(el)){var ok=true;for(var i=0,len=el.length;i<len;++i){ok=this.on(el[i],sType,fn,obj,overrideContext)&&ok;}return ok;}else{if(YAHOO.lang.isString(el)){var oEl=this.getEl(el);if(oEl){el=oEl;}else{this.onAvailable(el,function(){YAHOO.util.Event._addListener(el,sType,fn,obj,overrideContext,bCapture);});return true;}}}if(!el){return false;}if("unload"==sType&&obj!==this){unloadListeners[unloadListeners.length]=[el,sType,fn,obj,overrideContext];return true;}var context=el;if(overrideContext){if(overrideContext===true){context=obj;}else{context=overrideContext;}}var wrappedFn=function(e){return fn.call(context,YAHOO.util.Event.getEvent(e,el),obj);};var li=[el,sType,fn,wrappedFn,context,obj,overrideContext,bCapture];var index=listeners.length;listeners[index]=li;try{this._simpleAdd(el,sType,wrappedFn,bCapture);}catch(ex){this.lastError=ex;this.removeListener(el,sType,fn);return false;}return true;},_getType:function(type){return this._specialTypes[type]||type;},addListener:function(el,sType,fn,obj,overrideContext){var capture=((sType==FOCUSIN||sType==FOCUSOUT)&&!YAHOO.env.ua.ie)?true:false;return this._addListener(el,this._getType(sType),fn,obj,overrideContext,capture);},addFocusListener:function(el,fn,obj,overrideContext){return this.on(el,FOCUSIN,fn,obj,overrideContext);},removeFocusListener:function(el,fn){return this.removeListener(el,FOCUSIN,fn);},addBlurListener:function(el,fn,obj,overrideContext){return this.on(el,FOCUSOUT,fn,obj,overrideContext);},removeBlurListener:function(el,fn){return this.removeListener(el,FOCUSOUT,fn);},removeListener:function(el,sType,fn){var i,len,li;sType=this._getType(sType);if(typeof el=="string"){el=this.getEl(el);
}else{if(this._isValidCollection(el)){var ok=true;for(i=el.length-1;i>-1;i--){ok=(this.removeListener(el[i],sType,fn)&&ok);}return ok;}}if(!fn||!fn.call){return this.purgeElement(el,false,sType);}if("unload"==sType){for(i=unloadListeners.length-1;i>-1;i--){li=unloadListeners[i];if(li&&li[0]==el&&li[1]==sType&&li[2]==fn){unloadListeners.splice(i,1);return true;}}return false;}var cacheItem=null;var index=arguments[3];if("undefined"===typeof index){index=this._getCacheIndex(listeners,el,sType,fn);}if(index>=0){cacheItem=listeners[index];}if(!el||!cacheItem){return false;}var bCapture=cacheItem[this.CAPTURE]===true?true:false;try{this._simpleRemove(el,sType,cacheItem[this.WFN],bCapture);}catch(ex){this.lastError=ex;return false;}delete listeners[index][this.WFN];delete listeners[index][this.FN];listeners.splice(index,1);return true;},getTarget:function(ev,resolveTextNode){var t=ev.target||ev.srcElement;return this.resolveTextNode(t);},resolveTextNode:function(n){try{if(n&&3==n.nodeType){return n.parentNode;}}catch(e){}return n;},getPageX:function(ev){var x=ev.pageX;if(!x&&0!==x){x=ev.clientX||0;if(this.isIE){x+=this._getScrollLeft();}}return x;},getPageY:function(ev){var y=ev.pageY;if(!y&&0!==y){y=ev.clientY||0;if(this.isIE){y+=this._getScrollTop();}}return y;},getXY:function(ev){return[this.getPageX(ev),this.getPageY(ev)];},getRelatedTarget:function(ev){var t=ev.relatedTarget;if(!t){if(ev.type=="mouseout"){t=ev.toElement;}else{if(ev.type=="mouseover"){t=ev.fromElement;}}}return this.resolveTextNode(t);},getTime:function(ev){if(!ev.time){var t=new Date().getTime();try{ev.time=t;}catch(ex){this.lastError=ex;return t;}}return ev.time;},stopEvent:function(ev){this.stopPropagation(ev);this.preventDefault(ev);},stopPropagation:function(ev){if(ev.stopPropagation){ev.stopPropagation();}else{ev.cancelBubble=true;}},preventDefault:function(ev){if(ev.preventDefault){ev.preventDefault();}else{ev.returnValue=false;}},getEvent:function(e,boundEl){var ev=e||window.event;if(!ev){var c=this.getEvent.caller;while(c){ev=c.arguments[0];if(ev&&Event==ev.constructor){break;}c=c.caller;}}return ev;},getCharCode:function(ev){var code=ev.keyCode||ev.charCode||0;if(YAHOO.env.ua.webkit&&(code in webkitKeymap)){code=webkitKeymap[code];}return code;},_getCacheIndex:function(a,el,sType,fn){for(var i=0,l=a.length;i<l;i=i+1){var li=a[i];if(li&&li[this.FN]==fn&&li[this.EL]==el&&li[this.TYPE]==sType){return i;}}return -1;},generateId:function(el){var id=el.id;if(!id){id="yuievtautoid-"+counter;++counter;el.id=id;}return id;},_isValidCollection:function(o){try{return(o&&typeof o!=="string"&&o.length&&!o.tagName&&!o.alert&&typeof o[0]!=="undefined");}catch(ex){return false;}},elCache:{},getEl:function(id){return(typeof id==="string")?document.getElementById(id):id;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",YAHOO,0,0,1),_load:function(e){if(!loadComplete){loadComplete=true;var EU=YAHOO.util.Event;EU._ready();EU._tryPreloadAttach();}},_ready:function(e){var EU=YAHOO.util.Event;if(!EU.DOMReady){EU.DOMReady=true;EU.DOMReadyEvent.fire();EU._simpleRemove(document,"DOMContentLoaded",EU._ready);}},_tryPreloadAttach:function(){if(onAvailStack.length===0){retryCount=0;if(this._interval){this._interval.cancel();this._interval=null;}return;}if(this.locked){return;}if(this.isIE){if(!this.DOMReady){this.startInterval();return;}}this.locked=true;var tryAgain=!loadComplete;if(!tryAgain){tryAgain=(retryCount>0&&onAvailStack.length>0);}var notAvail=[];var executeItem=function(el,item){var context=el;if(item.overrideContext){if(item.overrideContext===true){context=item.obj;}else{context=item.overrideContext;}}item.fn.call(context,item.obj);};var i,len,item,el,ready=[];for(i=0,len=onAvailStack.length;i<len;i=i+1){item=onAvailStack[i];if(item){el=this.getEl(item.id);if(el){if(item.checkReady){if(loadComplete||el.nextSibling||!tryAgain){ready.push(item);onAvailStack[i]=null;}}else{executeItem(el,item);onAvailStack[i]=null;}}else{notAvail.push(item);}}}for(i=0,len=ready.length;i<len;i=i+1){item=ready[i];executeItem(this.getEl(item.id),item);}retryCount--;if(tryAgain){for(i=onAvailStack.length-1;i>-1;i--){item=onAvailStack[i];if(!item||!item.id){onAvailStack.splice(i,1);}}this.startInterval();}else{if(this._interval){this._interval.cancel();this._interval=null;}}this.locked=false;},purgeElement:function(el,recurse,sType){var oEl=(YAHOO.lang.isString(el))?this.getEl(el):el;var elListeners=this.getListeners(oEl,sType),i,len;if(elListeners){for(i=elListeners.length-1;i>-1;i--){var l=elListeners[i];this.removeListener(oEl,l.type,l.fn);}}if(recurse&&oEl&&oEl.childNodes){for(i=0,len=oEl.childNodes.length;i<len;++i){this.purgeElement(oEl.childNodes[i],recurse,sType);}}},getListeners:function(el,sType){var results=[],searchLists;if(!sType){searchLists=[listeners,unloadListeners];}else{if(sType==="unload"){searchLists=[unloadListeners];}else{sType=this._getType(sType);searchLists=[listeners];}}var oEl=(YAHOO.lang.isString(el))?this.getEl(el):el;for(var j=0;j<searchLists.length;j=j+1){var searchList=searchLists[j];if(searchList){for(var i=0,len=searchList.length;i<len;++i){var l=searchList[i];if(l&&l[this.EL]===oEl&&(!sType||sType===l[this.TYPE])){results.push({type:l[this.TYPE],fn:l[this.FN],obj:l[this.OBJ],adjust:l[this.OVERRIDE],scope:l[this.ADJ_SCOPE],index:i});}}}}return(results.length)?results:null;},_unload:function(e){var EU=YAHOO.util.Event,i,j,l,len,index,ul=unloadListeners.slice(),context;for(i=0,len=unloadListeners.length;i<len;++i){l=ul[i];if(l){context=window;if(l[EU.ADJ_SCOPE]){if(l[EU.ADJ_SCOPE]===true){context=l[EU.UNLOAD_OBJ];}else{context=l[EU.ADJ_SCOPE];}}l[EU.FN].call(context,EU.getEvent(e,l[EU.EL]),l[EU.UNLOAD_OBJ]);ul[i]=null;}}l=null;context=null;unloadListeners=null;if(listeners){for(j=listeners.length-1;j>-1;j--){l=listeners[j];if(l){EU.removeListener(l[EU.EL],l[EU.TYPE],l[EU.FN],j);}}l=null;}EU._simpleRemove(window,"unload",EU._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];
},_getScroll:function(){var dd=document.documentElement,db=document.body;if(dd&&(dd.scrollTop||dd.scrollLeft)){return[dd.scrollTop,dd.scrollLeft];}else{if(db){return[db.scrollTop,db.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(el,sType,fn,capture){el.addEventListener(sType,fn,(capture));};}else{if(window.attachEvent){return function(el,sType,fn,capture){el.attachEvent("on"+sType,fn);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(el,sType,fn,capture){el.removeEventListener(sType,fn,(capture));};}else{if(window.detachEvent){return function(el,sType,fn){el.detachEvent("on"+sType,fn);};}else{return function(){};}}}()};}();(function(){var EU=YAHOO.util.Event;EU.on=EU.addListener;EU.onFocus=EU.addFocusListener;EU.onBlur=EU.addBlurListener;
/* DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller/Diego Perini */
if(EU.isIE){if(self!==self.top){document.onreadystatechange=function(){if(document.readyState=="complete"){document.onreadystatechange=null;EU._ready();}};}else{YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var n=document.createElement("p");EU._dri=setInterval(function(){try{n.doScroll("left");clearInterval(EU._dri);EU._dri=null;EU._ready();n=null;}catch(ex){}},EU.POLL_INTERVAL);}}else{if(EU.webkit&&EU.webkit<525){EU._dri=setInterval(function(){var rs=document.readyState;if("loaded"==rs||"complete"==rs){clearInterval(EU._dri);EU._dri=null;EU._ready();}},EU.POLL_INTERVAL);}else{EU._simpleAdd(document,"DOMContentLoaded",EU._ready);}}EU._simpleAdd(window,"load",EU._load);EU._simpleAdd(window,"unload",EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(p_type,p_fn,p_obj,overrideContext){this.__yui_events=this.__yui_events||{};var ce=this.__yui_events[p_type];if(ce){ce.subscribe(p_fn,p_obj,overrideContext);}else{this.__yui_subscribers=this.__yui_subscribers||{};var subs=this.__yui_subscribers;if(!subs[p_type]){subs[p_type]=[];}subs[p_type].push({fn:p_fn,obj:p_obj,overrideContext:overrideContext});}},unsubscribe:function(p_type,p_fn,p_obj){this.__yui_events=this.__yui_events||{};var evts=this.__yui_events;if(p_type){var ce=evts[p_type];if(ce){return ce.unsubscribe(p_fn,p_obj);}}else{var ret=true;for(var i in evts){if(YAHOO.lang.hasOwnProperty(evts,i)){ret=ret&&evts[i].unsubscribe(p_fn,p_obj);}}return ret;}return false;},unsubscribeAll:function(p_type){return this.unsubscribe(p_type);},createEvent:function(p_type,p_config){this.__yui_events=this.__yui_events||{};var opts=p_config||{},events=this.__yui_events,ce;if(events[p_type]){}else{ce=new YAHOO.util.CustomEvent(p_type,opts.scope||this,opts.silent,YAHOO.util.CustomEvent.FLAT,opts.fireOnce);events[p_type]=ce;if(opts.onSubscribeCallback){ce.subscribeEvent.subscribe(opts.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var qs=this.__yui_subscribers[p_type];if(qs){for(var i=0;i<qs.length;++i){ce.subscribe(qs[i].fn,qs[i].obj,qs[i].overrideContext);}}}return events[p_type];},fireEvent:function(p_type){this.__yui_events=this.__yui_events||{};var ce=this.__yui_events[p_type];if(!ce){return null;}var args=[];for(var i=1;i<arguments.length;++i){args.push(arguments[i]);}return ce.fire.apply(ce,args);},hasEvent:function(type){if(this.__yui_events){if(this.__yui_events[type]){return true;}}return false;}};(function(){var Event=YAHOO.util.Event,Lang=YAHOO.lang;YAHOO.util.KeyListener=function(attachTo,keyData,handler,event){if(!attachTo){}else{if(!keyData){}else{if(!handler){}}}if(!event){event=YAHOO.util.KeyListener.KEYDOWN;}var keyEvent=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(Lang.isString(attachTo)){attachTo=document.getElementById(attachTo);}if(Lang.isFunction(handler)){keyEvent.subscribe(handler);}else{keyEvent.subscribe(handler.fn,handler.scope,handler.correctScope);}function handleKeyPress(e,obj){if(!keyData.shift){keyData.shift=false;}if(!keyData.alt){keyData.alt=false;}if(!keyData.ctrl){keyData.ctrl=false;}if(e.shiftKey==keyData.shift&&e.altKey==keyData.alt&&e.ctrlKey==keyData.ctrl){var dataItem,keys=keyData.keys,key;if(YAHOO.lang.isArray(keys)){for(var i=0;i<keys.length;i++){dataItem=keys[i];key=Event.getCharCode(e);if(dataItem==key){keyEvent.fire(key,e);break;}}}else{key=Event.getCharCode(e);if(keys==key){keyEvent.fire(key,e);}}}}this.enable=function(){if(!this.enabled){Event.on(attachTo,event,handleKeyPress);this.enabledEvent.fire(keyData);}this.enabled=true;};this.disable=function(){if(this.enabled){Event.removeListener(attachTo,event,handleKeyPress);this.disabledEvent.fire(keyData);}this.enabled=false;};this.toString=function(){return"KeyListener ["+keyData.keys+"] "+attachTo.tagName+(attachTo.id?"["+attachTo.id+"]":"");};};var KeyListener=YAHOO.util.KeyListener;KeyListener.KEYDOWN="keydown";KeyListener.KEYUP="keyup";KeyListener.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};})();YAHOO.register("event",YAHOO.util.Event,{version:"2.8.1",build:"19"});YAHOO.util.Event.generateId=function(el){if(!el.id){el.id=Y.guid();}return el.id;};YAHOO.util.Event._load();},"2.8.1",{"requires":["yui2-yahoo"]});
YUI.add("yui2-yahoo",function(B){if(typeof A=="undefined"||!A){var A={};}A.namespace=function(){var C=arguments,G=null,E,D,F;for(E=0;E<C.length;E=E+1){F=(""+C[E]).split(".");G=A;for(D=(F[0]=="YAHOO")?1:0;D<F.length;D=D+1){G[F[D]]=G[F[D]]||{};G=G[F[D]];}}return G;};A.log=function(F,C,E){var D=A.widget.Logger;if(D&&D.log){return D.log(F,C,E);}else{return false;}};A.register=function(C,G,F){var K=A.env.modules,D,J,I,H,E;if(!K[C]){K[C]={versions:[],builds:[]};}D=K[C];J=F.version;I=F.build;H=A.env.listeners;D.name=C;D.version=J;D.build=I;D.versions.push(J);D.builds.push(I);D.mainClass=G;for(E=0;E<H.length;E=E+1){H[E](D);}if(G){G.VERSION=J;G.BUILD=I;}else{A.log("mainClass is undefined for module "+C,"warn");}};A.env=A.env||{modules:[],listeners:[]};A.env.getVersion=function(C){return A.env.modules[C]||null;};A.env.ua=function(){var F=function(J){var K=0;return parseFloat(J.replace(/\./g,function(){return(K++==1)?"":".";}));},I=navigator,H={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:I.cajaVersion,secure:false,os:null},E=navigator&&navigator.userAgent,G=window&&window.location,D=G&&G.href,C;H.secure=D&&(D.toLowerCase().indexOf("https")===0);if(E){if((/windows|win32/i).test(E)){H.os="windows";}else{if((/macintosh/i).test(E)){H.os="macintosh";}}if((/KHTML/).test(E)){H.webkit=1;}C=E.match(/AppleWebKit\/([^\s]*)/);if(C&&C[1]){H.webkit=F(C[1]);if(/ Mobile\//.test(E)){H.mobile="Apple";}else{C=E.match(/NokiaN[^\/]*/);if(C){H.mobile=C[0];}}C=E.match(/AdobeAIR\/([^\s]*)/);if(C){H.air=C[0];}}if(!H.webkit){C=E.match(/Opera[\s\/]([^\s]*)/);if(C&&C[1]){H.opera=F(C[1]);C=E.match(/Opera Mini[^;]*/);if(C){H.mobile=C[0];}}else{C=E.match(/MSIE\s([^;]*)/);if(C&&C[1]){H.ie=F(C[1]);}else{C=E.match(/Gecko\/([^\s]*)/);if(C){H.gecko=1;C=E.match(/rv:([^\s\)]*)/);if(C&&C[1]){H.gecko=F(C[1]);}}}}}}return H;}();(function(){A.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var D=YAHOO_config.listener,C=A.env.listeners,F=true,E;if(D){for(E=0;E<C.length;E++){if(C[E]==D){F=false;break;}}if(F){C.push(D);}}}})();A.lang=A.lang||{};(function(){var D=A.lang,C=Object.prototype,J="[object Array]",E="[object Function]",I="[object Object]",G=[],H=["toString","valueOf"],F={isArray:function(K){return C.toString.apply(K)===J;},isBoolean:function(K){return typeof K==="boolean";},isFunction:function(K){return(typeof K==="function")||C.toString.apply(K)===E;},isNull:function(K){return K===null;},isNumber:function(K){return typeof K==="number"&&isFinite(K);},isObject:function(K){return(K&&(typeof K==="object"||D.isFunction(K)))||false;},isString:function(K){return typeof K==="string";},isUndefined:function(K){return typeof K==="undefined";},_IEEnumFix:(A.env.ua.ie)?function(M,L){var K,O,N;for(K=0;K<H.length;K=K+1){O=H[K];N=L[O];if(D.isFunction(N)&&N!=C[O]){M[O]=N;}}}:function(){},extend:function(N,O,M){if(!O||!N){throw new Error("extend failed, please check that "+"all dependencies are included.");}var L=function(){},K;L.prototype=O.prototype;N.prototype=new L();N.prototype.constructor=N;N.superclass=O.prototype;if(O.prototype.constructor==C.constructor){O.prototype.constructor=O;}if(M){for(K in M){if(D.hasOwnProperty(M,K)){N.prototype[K]=M[K];}}D._IEEnumFix(N.prototype,M);}},augmentObject:function(O,N){if(!N||!O){throw new Error("Absorb failed, verify dependencies.");}var K=arguments,M,P,L=K[2];if(L&&L!==true){for(M=2;M<K.length;M=M+1){O[K[M]]=N[K[M]];}}else{for(P in N){if(L||!(P in O)){O[P]=N[P];}}D._IEEnumFix(O,N);}},augmentProto:function(N,M){if(!M||!N){throw new Error("Augment failed, verify dependencies.");}var K=[N.prototype,M.prototype],L;for(L=2;L<arguments.length;L=L+1){K.push(arguments[L]);}D.augmentObject.apply(this,K);},dump:function(K,P){var M,O,R=[],S="{...}",L="f(){...}",Q=", ",N=" => ";if(!D.isObject(K)){return K+"";}else{if(K instanceof Date||("nodeType" in K&&"tagName" in K)){return K;}else{if(D.isFunction(K)){return L;}}}P=(D.isNumber(P))?P:3;if(D.isArray(K)){R.push("[");for(M=0,O=K.length;M<O;M=M+1){if(D.isObject(K[M])){R.push((P>0)?D.dump(K[M],P-1):S);}else{R.push(K[M]);}R.push(Q);}if(R.length>1){R.pop();}R.push("]");}else{R.push("{");for(M in K){if(D.hasOwnProperty(K,M)){R.push(M+N);if(D.isObject(K[M])){R.push((P>0)?D.dump(K[M],P-1):S);}else{R.push(K[M]);}R.push(Q);}}if(R.length>1){R.pop();}R.push("}");}return R.join("");},substitute:function(a,L,T){var P,O,N,W,X,Z,V=[],M,Q="dump",U=" ",K="{",Y="}",S,R;for(;;){P=a.lastIndexOf(K);if(P<0){break;}O=a.indexOf(Y,P);if(P+1>=O){break;}M=a.substring(P+1,O);W=M;Z=null;N=W.indexOf(U);if(N>-1){Z=W.substring(N+1);W=W.substring(0,N);}X=L[W];if(T){X=T(W,X,Z);}if(D.isObject(X)){if(D.isArray(X)){X=D.dump(X,parseInt(Z,10));}else{Z=Z||"";S=Z.indexOf(Q);if(S>-1){Z=Z.substring(4);}R=X.toString();if(R===I||S>-1){X=D.dump(X,parseInt(Z,10));}else{X=R;}}}else{if(!D.isString(X)&&!D.isNumber(X)){X="~-"+V.length+"-~";V[V.length]=M;}}a=a.substring(0,P)+X+a.substring(O+1);}for(P=V.length-1;P>=0;P=P-1){a=a.replace(new RegExp("~-"+P+"-~"),"{"+V[P]+"}","g");}return a;},trim:function(K){try{return K.replace(/^\s+|\s+$/g,"");}catch(L){return K;}},merge:function(){var N={},L=arguments,K=L.length,M;for(M=0;M<K;M=M+1){D.augmentObject(N,L[M],true);}return N;},later:function(R,L,S,N,O){R=R||0;L=L||{};var M=S,Q=N,P,K;if(D.isString(S)){M=L[S];}if(!M){throw new TypeError("method undefined");}if(Q&&!D.isArray(Q)){Q=[N];}P=function(){M.apply(L,Q||G);};K=(O)?setInterval(P,R):setTimeout(P,R);return{interval:O,cancel:function(){if(this.interval){clearInterval(K);}else{clearTimeout(K);}}};},isValue:function(K){return(D.isObject(K)||D.isString(K)||D.isNumber(K)||D.isBoolean(K));}};D.hasOwnProperty=(C.hasOwnProperty)?function(K,L){return K&&K.hasOwnProperty(L);}:function(K,L){return !D.isUndefined(K[L])&&K.constructor.prototype[L]!==K[L];};F.augmentObject(D,F,true);A.util.Lang=D;D.augment=D.augmentProto;A.augment=D.augmentProto;A.extend=D.extend;})();A.register("yahoo",A,{version:"2.8.1",build:"19"});B.YUI2=A;},"2.8.1",{});
