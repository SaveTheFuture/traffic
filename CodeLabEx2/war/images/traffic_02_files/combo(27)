YUI.add("_shared_module_message_prompt",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_prompt={base:"<h2>{{str_msg-view_click_above}}</h2>"};},"1.0.0");YUI.add("_shared_module_thread_loading_error",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_loading_error={base:'<div id="loadingpane" class="cm-loadingpane"> {{conv_loading_error}} {{max_retry}} {{diff_folder_error}} {{conv_loading_error_else}}</div>',conv_loading_error:'<h2>{{str_comp_loading_error}} <span class="btn left right small"><a role="button" href="#" title="{{str_comp_loading_retry_attr}}" data-action="retry-msg-load">{{str_retry}}</a> </span> </h2> ',max_retry:"<h2>{{str_comp_max_retry_error}}</h2> ",diff_folder_error:"<h2>{{str_error_msg_diff_folder_switch}}</h2> ",loading_slow_msg:"{{str_comp_loading_msg}}",loading_slow_conv:"{{str_comp_loading_conv}}",loading_slow_else:"<h2>{{loading_slow_msg}}{{loading_slow_conv}}</h2> ",loading_slow:'<h2>{{str_comp_slow_loading}} <span class="btn left right small"><a role="button" href="#" title="{{str_comp_loading_retry_attr}}" data-action="retry-msg-load">{{str_retry}}</a> </span> </h2> ',conv_loading_error_else:"{{loading_slow_else}} {{loading_slow}} "};},"1.0.0");YUI.add("_shared_module_thread_thread_item_header",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_thread_item_header={base:'<div class="thread-item-header"> <div class="contents"> <div class="info" data-action="thread-item-unread"></div> <div class="flag {{isFlagged}}" data-action="thread-item-flag"></div> <span class="from bold lozengfy" data-action="lozengfy">{{from}}</span> <span class="to">{{str_to}} {{recipients}}{{more_recipients}}</span> <div class="loz"> <span class="btn btn-contact lozenge small left right" data-action="contact-menu"> <a role = "button" title="{{str_btn_lozenge_attr}}" href="#" tabindex="0" dir="{{msg_display_name_dir}}"></a> </span> </div> </div> <div class="thread-info"> {{thread_draft}} <span class="thread-date"><span class="short">{{date}}</span><span class="long">{{date_long}}</span></span> {{hasAttachment}} </div> <div class="thread-actions"> <span><a href="javascript:;" data-action="thread-item-reply"><i class="ico-16 ico-thread-reply" title="{{str_reply}}">{{str_reply}}</i></a></span> <span><a href="javascript:;" data-action="thread-item-replyall"><i class="ico-16 ico-thread-reply-all" title="{{str_reply_all}}" >{{str_reply_all}}</i></a></span> <span><a href="javascript:;" data-action="thread-item-forward"><i class="ico-16 ico-thread-forward" title="{{str_forward}}">{{str_forward}}</i></a></span> <span><a href="javascript:;" data-action="thread-item-delete"><i class="ico-16 ico-thread-trash" title="{{str_thread_trash}}">{{str_trash}}</i></a></span> <span id="btn-bubble-actions" data-action="menu"><a href="javascript:;" ><i class="ico-16 ico-thread-actions" title="{{str_message_actions}}">{{str_actions}}</i></a></span> {{hasAttachmentDownload}} </div> </div>',isFlagged:"flagged",recipients:'<span class="lozengfy" data-action="lozengfy" title="{{rcpt_id}}">{{to}}</span>',last_recipient_else:",",addl_recipients:'<span class="lozengfy" data-action="lozengfy" title="{{rcpt_id}}">{{to}}</span>{{last_recipient_else}}',more_recipients:'<span class="more-to-btn" data-action="more-recipients" title="{{str_thread_hdr_more_recipients_attr}}"> {{str_thread_hdr_more_recipients}}</span><span class="more-to hidden">{{addl_recipients}}</span>',thread_draft:'<span class="draft" role="gridcell">{{str_draft}}</span>',hasAttachment:'<div class="file"></div>',hasAttachmentDownload:'<span><a href="javascript:;" data-action="thread-item-download"><i class="ico-16 ico-attach" title="{{str_om_download}}" >{{str_download}}</i></a></span>'};},"1.0.0");YUI.add("_shared_module_message_blocked",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_blocked={base:'<div class="msg-blocked"> <h3>{{str_msg_view_heading_blocked_images}}</h3> <span class="rht"> <span class="btn left"><a role="button" href="#" title="{{str_msg_view_btn_show_images_attr}}" data-action="show-images">{{str_msg_view_btn_show_images}}</a></span><span class="btn right"><a role="button" href="#" title="{{str_msg_view_btn_options_attr}}" data-action="mail-options">{{str_msg_view_btn_options}}</a></span> </span></div>'};},"1.0.0");YUI.add("_shared_module_message_photos",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_photos={base:'<div class="msg-attachments"> <h3>{{str_photos}}</h3> <ul class="file-attach"> {{attached_photos}} </ul> <span class="btn left right"><a role="button" href="#" class=" btn-downloadattach" data-action="attach-download-all-photos" title="{{str_msg_view_btn_download_all}}">{{str_msg_view_btn_download_all}}</a></span></div>',blocked_images:"{{type}}",blocked_images_else:"image",image:'<div style="background-image:url({{thumbnailurl}});"></div> ',attached_photos:'<li id="{{partId}}" tabindex="0" class="{{blocked_images}}{{blocked_images_else}}" data-action="attach-download"> <div class="file-container" id="photo_field" title="{{str_msg_view_photo_attachment_attr}}"> {{image}} <b></b> </div> <span class="fname">{{filename}}</span> </li> '};},"1.0.0");YUI.add("_shared_module_message_attachments",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_attachments={base:'<div class="msg-attachments"> <h3>{{str_msg_view_heading_attachments}}</h3> <ul class="file-attach"> {{attached_files}} </ul> <span class="btn left right"><a role="button" id="btn-downloadattach" data-action="attach-download-all" href="#" title="{{str_msg_view_btn_download_all}}">{{str_msg_view_btn_download_all}}</a></span></div>',image:'<div style="background-image:url({{thumbnailurl}});"></div> ',attached_files:'<li id="{{partId}}" tabindex="0" tnefid="{{tnefId}}" class="{{type}}" data-action="attach-download"> <div class="file-container" id="attachment_field" title="{{str_msg_view_attachment_attr}}"> {{image}} <b></b> </div> <span class="fname">{{filename}}</span> </li> '};},"1.0.0");YUI.add("_shared_module_thread_thread_item_attachments",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_thread_item_attachments={base:"{{msg_has_photo_attachment}}{{msg_has_attachment}}",msg_has_photo_attachment:"{{_shared_module_message_photos}}",hide_attachments_else:"{{_shared_module_message_attachments}} ",msg_has_attachment:"{{hide_attachments_else}}"};},"1.0.0",{requires:["_shared_module_message_photos","_shared_module_message_attachments"]});YUI.add("_shared_module_thread_thread_item_body",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_thread_item_body={base:'<div class="thread-body"> <div class="avatar">{{avatar}}{{avatar_else}}</div> <div class="fang"></div> <div class="fang hovered"></div> <div class="thread-snippet">{{snippet}}</div> {{msg_blocked}} <div class="body"> {{msg_loading}} {{body}} </div> {{quoted_text}} {{thread_attachments}} {{thread_reply}} <div class="thread-send-status hidden"> <h3 class="sending {{success}}">{{str_comp_sending}}{{retry_send}}</h3> </div></div>',avatar:'<img src="{{display-img}}" />',avatar_else:"{{initials}}",msg_blocked:'<div class="blocked">{{_shared_module_message_blocked}}</div> ',msg_loading:"{{_shared_module_message_loading_error}} ",quoted_text:'<div class="thread-quoted"> <div class="thread-quoted-icn" data-action="quoted-text"></div> <div class="thread-quoted-body hidden">{{quoted_text_body}}</div> </div> ',thread_attachments:"{{_shared_module_thread_thread_item_attachments}} ",expanded_else:"hidden",edit:"edit",last_recipient_else:",",recipients:'<span class="lozengfy" data-action="lozengfy">{{to}}</span>{{last_recipient_else}}',multiple_files_failed:"{{str_rte_attachments_error_mult}}",multiple_files_failed_else:"{{str_rte_attachments_error_single}}",attachments_error:"{{multiple_files_failed}} {{multiple_files_failed_else}} ",file_attach_error:'<span role="alert" class="error transfer-error "> <span class="attachmenterror"> {{attachments_error}} </span> </span> ',file_attach_files:"{{_shared_module_rte_well_content_attach_item}} ",thread_reply:'<div class="thread-reply {{expanded_else}} {{edit}}"> <div class="recipient-list"> <div class="thread-reply-to invisible"> <span class="replyall-toggle-btn"><a class="ico-16 ico-thread-reply-all menu qr-reply-toggle" data-action="make-replyall">{{str_reply_all}}</a></span> {{str_to}} <span class="thread-recipients">{{recipients}}</span> <span><a class="ico-16 ico-thread-add" data-action="edit-to">Edit</a></span> </div> <div class="thread-reply-to-edit"> <div class="field label-left contact-search"> <table class="thread-reply-fields"> <tbody> <tr> <td class="thread-reply-lbl"> <span class="replyall-toggle-btn"><a class="ico-16 ico-thread-reply-all menu" data-action="make-replyall">{{str_reply_all}}<b></b></a></span> </td> <td> <div id="to" class="cm-to ac-input" data-action="autocomplete" tabindex="-1"> <span class="thread-field-lbl">{{str_to_col}}</span> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="to-field" name="to-field" class="cm-to-field" value=""> </li> </ul> </div> </td> <td class="thread-reply-btns"> <span class="btn left right btn-kiosk-choosecontact" data-action="modal"><a role="button" class="icon add" tabindex="-1" id="to_add_contacts" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_to_add}}</i></a></span> <span class="cm-btn-show-cc cc-btn btn left right small toggle-cc"><a role="button" href="#" tabindex="-1" data-action="toggle-cc">{{str_cc}}</a></span> <span class="cm-btn-show-bcc bcc-btn btn left right small toggle-bcc"><a role="button" href="#" tabindex="-1" data-action="toggle-bcc">{{str_bcc}}</a></span> </td> </tr> <tr class="thread-reply-cc hidden"> <td class="thread-reply-lbl"> </td> <td> <div id="cc" class="cm-cc ac-input" data-action="autocomplete" tabindex="-1"> <span class="thread-field-lbl">{{str_cc_col}}</span> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="cc-field" name="cc-field" class="cm-cc-field" value=""> </li> </ul> </div> </td> <td class="thread-reply-btns"> <span class="btn left right btn-kiosk-choosecontact" data-action="modal"><a role="button" class="icon add" tabindex="-1" id="cc_add_contacts" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_cc_add}}</i></a></span> </td> </tr> <tr class="thread-reply-bcc hidden"> <td class="thread-reply-lbl"> </td> <td> <div id="bcc" class="cm-bcc ac-input" data-action="autocomplete" tabindex="-1"> <span class="thread-field-lbl">{{str_bcc_col}}</span> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="bcc-field" name="bcc-field" class="cm-bcc-field" value=""> </li> </ul> </div> </td> <td class="thread-reply-btns"> <span class="btn left right btn-kiosk-choosecontact" data-action="modal"><a role="button" class="icon add" tabindex="-1" id="bcc_add_contacts" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_bcc_add}}</i></a></span> </td> </tr> </tbody> </table> </div> </div> <div class="loz"> <span class="btn btn-contact lozenge small left right" data-action="contact-menu"> <a role = "button" title="{{str_btn_lozenge_attr}}" href="#" tabindex="0" dir="{{msg_display_name_dir}}"></a> </span> </div> </div> <div class="qr-textarea-wrapper"> <textarea class="qr-textarea" data-action="qr-edit" placeholder="Add to this conversation..."></textarea> </div> <div class="qr-attach-area"> {{file_attach_error}} <ul role="listbox" aria-live="polite" class="file-attach"> {{file_attach_files}} </ul> </div> <div class="l-split"> <div class="l-split-left hidden attachments-pane"> <span><a href="javascript:;" data-action="qr-expand"><i class="ico-16 ico-expand" title="{{str_comp_full_comp}}">{{str_comp_full_comp}}</i></a></span> <div class="thread-upload"> <form method="post" enctype="multipart/form-data" class="attachment-button-form attachment-button-attach" target="" action=""> <span><a href="javascript:;" data-action="qr-attach"><i class="ico-16 ico-attach" title="{{str_comp_attach_attr}}">{{str_comp_attach}}</i></a></span> <input type="file" name="uploadfile" class="attachment-button-file" tabindex="0" title="{{str_comp_attach_attr}}"/> </form> </div> </div> <div class="l-split-right modal-ft btn-area"> <span class="thread-draft-lbl hidden">{{autosave_ts}}</span> <span class="btn left right thread-send"><a href="#" title="{{str_cont_imp_compose_send_attr}}" data-action="thread-send" class="">{{str_btn_send}}</a></span> <span class="btn left right hidden thread-cancel"><a href="#" title="{{str_cont_imp_compose_send_attr}}" data-action="thread-cancel" class="">{{str_btn_cancel}}</a></span> </div> </div> </div> ',success:"success",retry_send:'{{str_comp_message_not_sent}} <span class="btn left right small"><a role="button" href="#" title="{{str_retry}}" data-action="thread-retry-send">{{str_retry}}</a></span>'};
},"1.0.0",{requires:["_shared_module_message_blocked","_shared_module_message_loading_error","_shared_module_thread_thread_item_attachments","_shared_module_rte_well_content_attach_item"]});YUI.add("_shared_module_thread_thread_header",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_thread_header={base:"{{folder_message}} ",anyUnread:"unread",anyFlagged:"flagged",subanchor:"subanchor",mail_search_enabled:'<a href="{{search_url}}" title="{{str_msg_title_search}}" data-action="search" class="{{subanchor}}">',mail_search_enabled1:"</a>",folder_message:'<div aria-label="{{str_msg-view_message_header}}" class="y-module message-header {{anyUnread}}"> <div aria-label="{{str_msg-view_message_header}}" class="focusholder" tabindex="-1"></div> <h3 "{{msg_subjectDir}}"> <div class="flag {{anyFlagged}}" data-action="thread-flag"></div> <div class="info" data-action="thread-unread"></div> {{mail_search_enabled}}{{msg_subject}}{{mail_search_enabled1}} </h3> </div> '};},"1.0.0");YUI.add("_shared_module_thread_thread_display",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_thread_display={base:"{{message_selection}}{{message_selection_else}}",page_conversation_history_else:"<h2>{{str_msg-view_multiple_selected_msgs}}</h2> ",page_conversation_history:"<h2>{{str_msg-view_multiple_selected_convs}}</h2> ",multiple_selected_msgs:"{{page_conversation_history_else}} {{page_conversation_history}} ",page_conversation_history_else1:"<h2>{{str_msg-view_single_selected_msg}}</h2> <div>{{str_msg-view_single_selected_msg_info}}</div> ",page_conversation_history1:"<h2>{{str_msg-view_single_selected_conv}}</h2> <div>{{str_msg-view_single_selected_conv_info}}</div> ",multiple_selected_msgs_else:"{{page_conversation_history_else1}} {{page_conversation_history1}} ",message_selection:'<div class="msgs-selected"> {{multiple_selected_msgs}} {{multiple_selected_msgs_else}} </div>',page_loading:"{{_shared_module_thread_loading_error}} ",expanded:"expanded",isUnread:"unread",active:"active",thread_item:'<div id="{{id}}" class="thread-item {{expanded}} {{isUnread}} {{active}}" data-action="select-thread" tabindex="-1"> {{_shared_module_thread_thread_item_header}} {{_shared_module_thread_thread_item_body}} </div> ',message_selection_else:'{{_shared_module_thread_thread_header}} <div class="thread-item-list"> {{page_loading}} {{thread_item}} </div>'};},"1.0.0",{requires:["_shared_module_thread_loading_error","_shared_module_thread_thread_item_header","_shared_module_thread_thread_item_body","_shared_module_thread_thread_header"]});YUI.add("_shared_module_thread_thread_pane",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_thread_thread_pane={base:'<div id="{{page_message_pane_view}}" class="{{page_message_pane_view1}} {{page_message_full_view}} thread-content content" {{page_message_pane_view2}}> {{page_show_comm_modes}} {{page_show_comm_modes_else}}</div>',page_message_pane_view:"msg-preview",page_message_pane_view1:"tripane ",page_message_full_view:"message ",user_pref_height:'style="top:{{msg_pane_top}};left:{{msg_list_width}}"',page_message_pane_view2:"{{user_pref_height}}",global_spearmint_view:"{{_shared_module_message_prompt}} ",global_spearmint_view_else:"{{minty_module_comm_modes}} ",page_show_comm_modes:"{{global_spearmint_view}} {{global_spearmint_view_else}} ",page_show_comm_modes_else:"{{_shared_module_thread_thread_display}} "};},"1.0.0",{requires:["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_thread_thread_display"]});YUI.add("_shared_module_updates_ycw",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_updates_ycw={base:'<div class="update hdr-info"> <span class="photo"><img src="{{url_profile_img}}" title="{{title_profile_img}}" /></span> {{msg}} {{tumor}}</div>',msg:'<div class="msg"><a href="#">{{profile_status_msg}}</a></div>',tumor:'<div class="tumor"></div>'};},"1.0.0");YUI.add("mail-common-hidef-profiles",function(A){A.namespace("mail.common.hiDefProfiles");A.mail.common.hiDefProfiles=function(){var C={};function E(O){var M=this,L=O.emails,P=L&&L.join(",")||O.email||"",Q=P&&P.toLowerCase()||"",R=O.cbk||0,S=O.updateHeader||0,K=O.updateRecipients||0,J=A.common.net.SessionMgr,N={failure:function(){R&&R.failure&&R.failure();},success:function(U){var Y=A.JSON.parse(U.responseText),a=Y.data,W,T,c,b=[],X,Z,V;if((c=O.emails)){for(Z in c){W=c[Z]&&c[Z].toLowerCase()||0;if(W){V=W.indexOf(";");T=(V!=-1)?W.substr(0,V):W;C[W]=a[T]||null;if(C[W]){b.push(C[W]);}}}R&&R.success&&R.success(b);}else{V=P.indexOf(";");T=(V!=-1)?P.substr(0,V):P;X=a[T]||null;C[P]=X;R&&R.success&&R.success([X]);}},suppressCodes:"*"},I=["/neo/profile?",(NeoConfig.mentos_enabled?"mentos=1&":""),"emails=",Q].join("");if(P&&!C[P]){J.request(I,null,N,"GET",null,true);}else{R&&R.success&&R.success([C[P]]);}}function H(I){return((I&&C[I])?[C[I]]:null);}function B(I){var K=A.mail.Tabs.tabs||[],O="",J;for(J=K.length-1;J>0;J--){var L=K[J];if(L.widget&&L.widget.msgPane&&L.widget.msgPane.message&&L.widget.msgPane.message.messageHeaders&&L.widget.msgPane.message.header&&L.widget.msgPane.message.header.from&&L.widget.msgPane.message.header.from.email&&L.widget.msgPane.message.header.from.email==I){var M=L.widget.msgPane.message,N=M.messageHeaders;O=D(N);break;}}return O;}function D(L,P){var O,R,J,I,S="",M,N,K=NeoConfig.mentos_abaca_threshold||-9999,Q=null;for(O=0;O<L.length;O++){R=L[O];J=R.headerValue;I=R.headerName.toLowerCase();if(I=="authentication-results"&&!S){M=J.indexOf("from=");if(M!=-1){N=J.indexOf(";",M);if(N!=-1){S=J.substring(M+5,N);}}}else{if(K!=-9999&&I=="x-rocket-track"&&!Q){M=J.indexOf("fs=");if(M!=-1){N=J.indexOf(";",M);if(N!=-1){Q=parseInt(J.substring(M+3,N),10);}}}}}if(P){return{dkim:S,msg_abaca_score:Q};}else{return S;}}function G(J){var K=B(J),I=((NeoConfig.isFullSSL)?"https://s.yimg.com":"http://mail.yimg.com")+"/nq/identity/profile_48a.png";if(!K){A.fire("contact:imgUrl:loaded",{imgUrl:I,dkim:K});}else{J=[J,";",K].join("");cbk={success:function(L){A.fire("contact:imgUrl:loaded",{imgUrl:(L[0]&&L[0].imgUrl?L[0].imgUrl:I),dkim:K});},failure:function(){A.fire("contact:imgUrl:loadfailed");}};E({email:J,cbk:cbk});}}var F={getProfile:E,getCachedProfile:H,getContactImgUrl:G,getDKIMDomain:B,getDKIMDomainFromHeaders:D};return F;}();},"1.0.0",{requires:["common-net-session"]});YUI.add("mail-ui-profileutils",function(F){F.namespace("mail.ui");var C=F.common.Utils,A=C.rocketstats,E=F.mail.common.hiDefProfiles;function D(O,J,H){var K,M,N,I={},L=[],G=[];if(!F.Lang.isArray(O)){O=[O];}M=O.length;for(K=0;K<M;K++){N=B(O[K]);G.push(N||null);if(N){I[N]=true;}}for(K in I){I[K]&&L.push(K);}if(L.length>0){cbk={success:function(P){J&&J.call(H,P,G,O);},failure:function(){A.stat("Mentos","ProfileFetchFailure");}};E.getProfile({emails:L,cbk:cbk});}}function B(L){var G=L&&L.header&&(L.header.sender&&L.header.sender.toLowerCase()||L.header.from.email),M="",K,J,I=NeoConfig.mentos_abaca_threshold||-9999,H=null;if(!G){return;}if(NeoConfig.mentos_enabled){K=L&&L.messageHeaders||[];J=E.getDKIMDomainFromHeaders(K,true);M=J.dkim;H=J.msg_abaca_score;if(!M){A.stat("Mentos","No_DKIM");return;}else{G=[G,";",M].join("");}if((I!=-9999&&(H==null||isNaN(H)))||(H<I)){A.stat("Mentos","Abaca_Score_Too_Low");return;}}return G;}F.mail.ui.ProfileUtils={appendProfileImage:D,prepareEmailIds:B};},"1.0.0",{requires:["common-net-session","common-utils","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles"]});YUI.add("mail-ui-msgpane-profiles",function(A){A.namespace("mail.ui");var C=A.mail.ui._MessagePane,G=A.ui.Templates._shared_module_message_display_rollup,E=A.common.Utils,D=E.substitute,B=E.rocketstats;function I(M){var P=this,L=M.imgUrl||null,K=M.profileUrl,O="",J="",N={url_profile_img:L,title_profile_img:O||""};if(L==null||M.slice){return"";}else{return D(G.message_header_ycw,N);}}function F(U,J){var P=this,L,S,O=P.get("parentNode"),N=O&&O.one(".message-header"),R=N&&N.one(".update"),M,K,V,Q,T="mentos-enabled";if(!U[0]){return;}if(U.length==1){L=U[0];}else{B.stat("Mentos","ProfileArrayLengthNotExpected");return;}S=L.imgUrl||null;M=P.getProfileImageMarkup(L);B.stat("Mentos",S?"ProfileReturned":"NoProfileFound");if(!S||L.slice){R&&R.remove(1);}else{if(N){V=N.one(".date");Q=N.one(".flag");K=O.one(".message-header .info.expanded");V.addClass(T);Q.addClass(T);if(!R){V.insert(M,"after");}else{R.insert(M,"replace");}K.addClass(T);}}P.fire("renderProfileImageComplete");}function H(){A.mail.ui.ProfileUtils.appendProfileImage(this.message,this.renderProfileImage,this);}A.mix(C.prototype,{renderProfileImage:F,appendProfileImage:H,getProfileImageMarkup:I});},"1.0.0",{requires:["mail-ui-messagepane-base","mail-ui-messagepane-read","common-net-session","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles","mail-ui-profileutils"]});