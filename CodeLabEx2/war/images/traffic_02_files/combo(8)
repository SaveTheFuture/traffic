YUI.add("_shared_module_open_mail_application_simple",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_open_mail_application_simple={base:'<iframe src="{{app_url}}" id="{{app_iframe_id}}" name="{{app_iframe_id}}" frameBorder="0" class="om-views" allowtransparency="true"></iframe>'};},"1.0.0");YUI.add("om-ui-views-simple",function(D){function C(E){C.superclass.constructor.apply(this,arguments);}C.NAME="omSimpleView";C.ATTRS={template:{value:D.ui.Templates._shared_module_open_mail_application_simple},hidden:{value:false},url:null,appId:null,instanceId:null,viewId:null,params:null,close:null,closing:{value:false},width:B(),height:B(),rendered:{value:false},elementAttributes:{value:{}},stopWatchAll:{value:{}},stopWatchSample:{value:{}}};var A=D.Array.hash(["36ohk6dgmcd1n","3cp9lcoq32dpn","3ae1mc4rm4e9l"]);function B(){return{value:null,validator:function(E){return this._validateValue(E);}};}D.extend(C,D.Base,{_validateValue:function(E){return E!==undefined;},_fireLoadEvent:function(G){this.fire("load");var F=this.get("stopWatchAll"),E=this.get("stopWatchSample");if(!D.Object.isEmpty(F)){F.stop();}if(!D.Object.isEmpty(E)){E.stop();}},initializer:function(){this.after("hiddenChange",this.syncUI,null,null,this);this.after("heightChange",this.syncUI,null,null,this);this.after("widthChange",this.syncUI,null,null,this);if(this.get("params")&&(this.get("params").actionType!=="message_render")){this.set("stopWatchAll",new D.common.Utils.Stopwatch("OMOpenView"));if(this.get("appId") in A){this.set("stopWatchSample",new D.common.Utils.Stopwatch("OMOpenView:"+this.get("appId")));}}},getMarkup:function(){return D.common.Utils.substitute(this.get("template").base,{app_url:this.get("url"),app_iframe_id:this.get("viewId")});},_setElementAttributes:function(){var E,F=this.get("elementAttributes");if(!F){return;}for(E in F){if(F.hasOwnProperty(E)){switch(E){case"title":this.getIframe().set("title",F.title);break;}}}},initIframe:function(){this.getIframe();this._setElementAttributes();if(D.UA.ie&&!window.postMessage){if(YUI.util.CrossFrame.initIEFrameTransport){YUI.util.CrossFrame.initIEFrameTransport(this.iframe._node,this.get("viewId"));}}D.once("load",this._fireLoadEvent,this.iframe,this);},render:function(E,F){if(!this.get("rendered")){this.set("rendered",true);this.node=D.Node.create(this.getMarkup());E=D.one(E||"body");if(this.get("hidden")){this.syncUI();}if(F){E.insert(this.node,E);}else{E.append(this.node);}this.initIframe();}this.syncUI();},getEl:function(){return this.node._node;},getNode:function(){if(!this.node){this.node=D.om.common.Utils.getIFrameById(this.get("viewId"));}return this.node;},getIframe:function(){if(!this.iframe){this.getNode();this.iframe=this.node.one("iframe")||((this.node._node.tagName.toLowerCase()=="iframe")?this.node:null);if(!this.iframe){throw"App view with no iframe";}}return this.iframe;},focus:function(){try{this.node.focus();}catch(E){}},close:function(){if(this.node){this.node.remove(true);}this.set("close",1);},hide:function(){this.set("hidden",true);},show:function(){this.set("hidden",false);},setSize:function(E){this.setAttrs(E);},setSizeDelta:function(F){var E=this.node.get("region");this.setAttrs({width:Math.max(0,E.width+(F.dx-0)),height:Math.max(0,E.height+(F.dy-0))});},getRegion:function(){var E=this.node.get("region");E.width=E.right-E.left;E.height=E.bottom-E.top;return E;},syncUI:function(){if(!this.get("rendered")){return;}if(this.get("hidden")){this.node.setStyles({top:"-50000px",position:"absolute",visibility:"hidden"});}else{this.node.setStyles({top:null,position:null,visibility:null});}this.node.setStyles({width:this.get("width"),height:this.get("height")});}});D.namespace("om.ui.views").Simple=C;},"1.0.0",{requires:["base-base","node","common-utils","common-utils-stats","_shared_module_open_mail_application_simple"]});YUI.add("_shared_module_open_mail_application_hidden",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_open_mail_application_hidden={base:'<iframe src="{{app_url}}" id="{{app_iframe_id}}" name="{{app_iframe_id}}" width="1" height="1" role="presentation" tabIndex="-1" ></iframe>'};},"1.0.0");YUI.add("om-ui-views-hidden",function(B){function A(C){A.superclass.constructor.apply(this,arguments);}A.NAME="omHiddenView";A.ATTRS={hidden:{value:true,readOnly:true},template:{value:B.ui.Templates._shared_module_open_mail_application_hidden}};B.extend(A,B.om.ui.views.Simple,{render:function(){A.superclass.render.call(this,"body");}});B.namespace("om.ui.views").Hidden=A;},"1.0.0",{requires:["om-ui-views-simple","_shared_module_open_mail_application_hidden"]});