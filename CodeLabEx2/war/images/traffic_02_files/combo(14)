YUI.add("_shared_module_compose_message_header",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_message_header={base:'<div class="compose-header"> <div class="field label-left account-select hidden"> <label for="from-field">{{str_msg_hdr_label_from}}</label> <div class="from-selector"> <select id="from-field" class="cm-from-field from-select"> {{compose_from_address}} </select> </div> </div> <div class="field label-left contact-search"> <label for="to-field">{{str_comp_label_to}}</label> <div id="to" class="cm-to ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> {{conversation_user}} <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="to-field" name="to-field" class="cm-to-field" value=""> </li> </ul> </div> <span class="btn left right user-search btn-kiosk-choosecontact" data-action="modal"><a role="button" id="to_add_contacts" class="icon add" tabindex="-1" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_to_add}}</i></a></span> {{make_reply_all}} </div> <div class="field label-left contact-search"> <label for="cc-field">{{str_comp_label_cc}}</label> <div id="cc" class="cm-cc ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="cc-field" name="cc-field" class="cm-cc-field"> </li> </ul> </div> <span class="btn left right user-search btn-kiosk-choosecontact" data-action="modal"><a role="button" id="cc_add_contacts" class="icon add" tabindex="-1" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_cc_add}}</i></a></span> <span id="btn-show-bcc" class="cm-btn-show-bcc bcc-btn btn left right small"><a role="button" href="bcc-group&amp;btn-show-bcc=0" id="bcc_show_btn" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_show_bcc}}</a></span> </div> <div id="bcc-group" class="cm-bcc-group field label-left contact-search hidden"> <label for="bcc-field">{{str_comp_label_bcc}}</label> <div id="bcc" class="cm-bcc ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="bcc-field" name="bcc-field" class="cm-bcc-field"> </li> </ul> </div> <span class="btn left right user-search btn-kiosk-choosecontact" data-action="modal"><a role="button" id="bcc_add_contacts" class="icon add" tabindex="-1" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_bcc_add}}</i></a></span> <span class="bcc-btn btn left right small"><a role="button" href="bcc-group&amp;btn-show-bcc=1" id="bcc_hide_btn" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_hide_bcc}}</a></span> </div> <div class="field label-left subject"> <label for="subject-field">{{str_comp_label_subject}}</label> <div id="subject" class="cm-subject"><span> <input id="subject-field" name="subject-field{{timestamp_id}}" class="cm-subject-field" data-action="compose-subject" value="{{conversation_user1}}" /> </span></div> </div> </div> ',compose_from_address:'<option value="{{fromAddress}}"{{fromSelected}}>{{fromAddress}}</option> ',conversation_user:'<li role="presentation" class="recipient"> <span class="small btn left right lozenge {{lozengeerror}}"><a>{{conversation_user}}</a></span> </li> ',make_reply_all:'<span class="btn left right small makereplyall-btn replyall-toggle-btn hidden" data-action="make-replyall"><a id="btn-switch-reply-mode" tabindex="-1" role="button">{{title}}</a></span>',conversation_user1:"Our conversation on {{timestamp}}"};},"1.0.0");YUI.add("_shared_module_rte_well_tabs_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_tabs_compose={base:'<div class="rte"> <ul role="tablist" aria-describedby="tablist-instr"> <li role="presentation" class="active"> <a role="tab" data-action="rte-well" target="attachments" tabindex="0" href="#" title="{{str_comp_attachments_attr}}" draggable="false"> <b class="attachments"><i></i>{{str_comp_attachments}}</b> </a> </li> <li role="presentation"> <a role="tab" data-action="rte-well" target="emoticons" tabindex="-1" href="#"title="{{str_comp_emoticons_attr}}" draggable="false"> <b class="emoticons"><i></i>{{str_comp_emoticons}}</b> </a> </li> <li role="presentation" class="end-grp"> <a role="tab" data-action="rte-well" target="format" tabindex="-1" href="#" title="{{str_comp_format_attr}}" draggable="false"> <b class="rich-text"><i></i>{{str_comp_format}}</b> </a> </li> {{page_compose_email}} </ul></div>',page_compose_email:'<li role="presentation" class="last"> <a role="presentation" data-action="rte-well" target="plain-text" tabindex="-1" href="#" draggable="false"> <b role="presentation" class="plaintext">{{str_rte_plaintext}}</b> </a> </li> '};},"1.0.0");YUI.add("_shared_module_rte_well_tabs_conversation",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_tabs_conversation={base:'<div class="rte"> <ul> <li> <a data-action="rte-well" target="attachments" href="#" draggable="false"> <b class="attachments">{{str_comp_attachments}}</b> </a> <form method="post" enctype="multipart/form-data" class="attachment-button-form" target="" action=""> <input type="file" title="{{str_conv_file_transfer_attr}}" id="attachment-button-input" name="uploadfile" class="attachment-button-file" /> </form> </li> <li> <a data-action="rte-well" target="emoticons" href="#" title="{{str_conv_emoticon_attr}}" draggable="false"> <b class="emoticons">{{str_comp_emoticons}}</b> </a> </li> <li class="end-grp"> <a data-action="rte-well" target="format" href="#" title="{{str_conv_format_attr}}" draggable="false"> <b class="rich-text">{{str_comp_format}}</b> </a> </li> </ul></div>'};},"1.0.0");YUI.add("_shared_module_rte_well_tabs_sms",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_tabs_sms={base:'<div class="rte"> <div class="counter">{{str_max_sms_chars}}</div> <ul> <li> <a data-action="rte-well" target="emoticons" href="#"> <b class="emoticons">{{str_comp_emoticons}}</b> </a> </li> </ul></div>'};},"1.0.0");YUI.add("_shared_module_rte_well_content_emoticons",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_emoticons={base:'<div role="tabpanel" class="rte-pane emoticons-pane gwell shaded hidden" > <span role="presentation" class="icon close" data-action="rte-well" title="{{str_comp_close_emoticons_attr}}">{{str_comp_close_emoticons}}</span> <ul role="toolbar"> <li role="button" class="emoticon_1" title="{{str_emoticon_happy}}" tabindex="0"></li> <li role="button" class="emoticon_2" title="{{str_emoticon_sad}}"></li> <li role="button" class="emoticon_3" title="{{str_emoticon_winking}}"></li> <li role="button" class="emoticon_4" title="{{str_emoticon_confused}}"></li> <li role="button" class="emoticon_5" title="{{str_emoticon_lovestruck}}"></li> <li role="button" class="emoticon_6" title="{{str_emoticon_blushing}}"></li> <li role="button" class="emoticon_7" title="{{str_emoticon_tongue}}"></li> <li role="button" class="emoticon_8" title="{{str_emoticon_kiss}}"></li> <li role="button" class="emoticon_9" title="{{str_emoticon_broken_heart}}"></li> <li role="button" class="emoticon_10" title="{{str_emoticon_sigh}}"></li> <li role="button" class="emoticon_11" title="{{str_emoticon_wits_end}}"></li> <li role="button" class="emoticon_12" title="{{str_emoticon_surprise}}"></li> <li role="button" class="emoticon_13" title="{{str_emoticon_angry}}"></li> <li role="button" class="emoticon_14" title="{{str_emoticon_cool}}"></li> <li role="button" class="emoticon_15" title="{{str_emoticon_devil}}"></li> <li role="button" class="emoticon_16" title="{{str_emoticon_crying}}"></li> <li role="button" class="emoticon_17" title="{{str_emoticon_straight_face}}"></li> <li role="button" class="emoticon_18" title="{{str_emoticon_raised_eyebrows}}"></li> <li role="button" class="emoticon_19" title="{{str_emoticon_angel}}"></li> <li role="button" class="emoticon_20" title="{{str_emoticon_nerd}}"></li> <li role="button" class="emoticon_21" title="{{str_emoticon_phbbbbt}}"></li> <li role="button" class="emoticon_22" title="{{str_emoticon_wave}}"></li> <li role="button" class="emoticon_23" title="{{str_emoticon_rolling_eyes}}"></li> <li role="button" class="emoticon_24" title="{{str_emoticon_sick}}"></li> <li role="button" class="emoticon_25" title="{{str_emoticon_shh}}"></li> <li role="button" class="emoticon_26" title="{{str_emoticon_party}}"></li> <li role="button" class="emoticon_27" title="{{str_emoticon_yawn}}"></li> <li role="button" class="emoticon_28" title="{{str_emoticon_thinking}}"></li> <li role="button" class="emoticon_29" title="{{str_emoticon_laughing}}"></li> <li role="button" class="emoticon_30" title="{{str_emoticon_rofl}}"></li> <li role="button" class="emoticon_31" title="{{str_emoticon_big_grin}}"></li> <li role="button" class="emoticon_32" title="{{str_emoticon_cowboy}}"></li> <li role="button" class="emoticon_33" title="{{str_emoticon_wasnt_me}}"></li> <li role="button" class="emoticon_34" title="{{str_emoticon_batting_eyelashes}}"></li> <li role="button" class="emoticon_35" title="{{str_emoticon_big_hug}}"></li> <li role="button" class="emoticon_36" title="{{str_emoticon_smug}}"></li> <li role="button" class="emoticon_37" title="{{str_emoticon_worried}}"></li> <li role="button" class="emoticon_38" title="{{str_emoticon_whew}}"></li> <li role="button" class="emoticon_39" title="{{str_emoticon_talk_to_the_hand}}"></li> <li role="button" class="emoticon_40" title="{{str_emoticon_sleepy}}"></li> <li role="button" class="emoticon_41" title="{{str_emoticon_loser}}"></li> <li role="button" class="emoticon_42" title="{{str_emoticon_not_talking}}"></li> <li role="button" class="emoticon_43" title="{{str_emoticon_on_the_phone}}"></li> <li role="button" class="emoticon_44" title="{{str_emoticon_daydreaming}}"></li> <li role="button" class="emoticon_45" title="{{str_emoticon_clown}}"></li> <li role="button" class="emoticon_46" title="{{str_emoticon_silly}}"></li> <li role="button" class="emoticon_47" title="{{str_emoticon_drooling}}"></li> <li role="button" class="emoticon_48" title="{{str_emoticon_doh}}"></li> <li role="button" class="emoticon_49" title="{{str_emoticon_applause}}"></li> <li role="button" class="emoticon_50" title="{{str_emoticon_nail_biting}}"></li> <li role="button" class="emoticon_51" title="{{str_emoticon_hypnotized}}"></li> <li role="button" class="emoticon_52" title="{{str_emoticon_liar}}"></li> <li role="button" class="emoticon_53" title="{{str_emoticon_waiting}}"></li> <li role="button" class="emoticon_54" title="{{str_emoticon_call_me}}"></li> <li role="button" class="emoticon_56" title="{{str_emoticon_raised_eyebrows}}"></li> <li role="button" class="emoticon_57" title="{{str_emoticon_cheer}}"></li> <li role="button" class="emoticon_58" title="{{str_emoticon_dizzy}}"></li> <li role="button" class="emoticon_59" title="{{str_emoticon_cook}}"></li> <li role="button" class="emoticon_60" title="{{str_emoticon_eat}}"></li> <li role="button" class="emoticon_61" title="{{str_emoticon_give_up}}"></li> <li role="button" class="emoticon_62" title="{{str_emoticon_cold}}"></li> <li role="button" class="emoticon_63" title="{{str_emoticon_hot}}"></li> <li role="button" class="emoticon_64" title="{{str_emoticon_music}}"></li> <li role="button" class="emoticon_65" title="{{str_emoticon_puke}}"></li> <li role="button" class="emoticon_66" title="{{str_emoticon_sing}}"></li> <li role="button" class="emoticon_67" title="{{str_emoticon_catch}}"></li> <li role="button" class="emoticon_68" title="{{str_emoticon_exercise}}"></li> <li role="button" class="emoticon_69" title="{{str_emoticon_high_five}}"></li> <li role="button" class="emoticon_70" title="{{str_emoticon_play_game}}"></li> <li role="button" class="emoticon_71" title="{{str_emoticon_search_me}}"></li> <li role="button" class="emoticon_72" title="{{str_emoticon_spooky}}"></li> <li role="button" class="emoticon_73" title="{{str_emoticon_studying}}"></li> <li role="button" class="emoticon_74" title="{{str_emoticon_tv}}"></li> <li role="button" class="emoticon_75" title="{{str_emoticon_gift}}"></li> <li role="button" class="emoticon_76" title="{{str_emoticon_unlucky}}"></li> <li role="button" class="emoticon_77" title="{{str_emoticon_down_on_luck}}"></li> <li role="button" class="emoticon_78" title="{{str_emoticon_fight}}"></li> </ul> </div> '};
},"1.0.0");YUI.add("_shared_module_rte_well_content_format",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_format={base:'<div role="tabpanel" class="rte-pane format-pane gwell shaded {{options_signature_rich_else}}"> <span role="presentation" class="icon close" data-action="rte-well" title={{str_comp_close_format_attr}}> {{str_comp_close_format}}</span> <div role="toolbar" class="format-inner"> <span class="icon close" data-action="rte-well" title="{{str_comp_close_format_attr}}"> {{str_comp_close_format}}</span> <span class="showFontStyle" data-action="setfontstyle" title="{{str_comp_font_menu_attr}}"> <select aria-label="{{str_comp_font_menu_attr}}" tabindex="0"> {{intl_fonts}} <option value="{{str_rte_font_arial_attr}}" selected>{{str_rte_font_arial}}</option> <option value="{{str_rte_font_tahoma_attr}}">{{str_rte_font_tahoma}}</option> <option value="{{str_rte_font_verdana_attr}}">{{str_rte_font_verdana}}</option> <option value="{{str_rte_font_times_attr}}">{{str_rte_font_times}}</option> <option value="{{str_rte_font_bookman_attr}}">{{str_rte_font_bookman}}</option> <option value="{{str_rte_font_courier_attr}}">{{str_rte_font_courier}}</option> <option value="{{str_rte_font_garamond_attr}}">{{str_rte_font_garamond}}</option> <option value="{{str_rte_font_lucida_attr}}">{{str_rte_font_lucida}}</option> </select> </span> <span class="showFontSize" data-action="setfontsize" title="{{str_comp_font_size_attr}}"> <select aria-label="{{str_comp_font_size_attr}}" tabindex="0"> <option value="1">{{str_rte_font_size_8}}</option> <option value="2" selected>{{str_rte_font_size_10}}</option> <option value="3">{{str_rte_font_size_12}}</option> <option value="4">{{str_rte_font_size_14}}</option> <option value="5">{{str_rte_font_size_18}}</option> <option value="6">{{str_rte_font_size_24}}</option> <option value="7">{{str_rte_font_size_36}}</option> </select> </span> <span class="btn left" data-action="bold"><a role="button" tabindex="0" href="#" class="icon bold" title="{{str_rte_bold_attr}}" draggable="false"><i>{{str_rte_bold}}</i></a></span><span class="btn" data-action="italic"><a role="button" tabindex="-1" href="#" class="icon italic" title="{{str_rte_italic_attr}}" draggable="false"><i>{{str_rte_italic}}</i></a></span><span class="btn right" data-action="underline"><a role="button" tabindex="-1" href="#" class="icon underline" title="{{str_rte_underline_attr}}" draggable="false"><i>{{str_rte_underline}}</i></a></span> {{page_conversation_well}} {{page_compose_email}} {{options_only}} {{page_inoutdent_menu}} </div> </div> ',options_signature_rich_else:"hidden",intl_fonts:'<option value="{{font_value}}" {{font_selected}}>{{font_name}}</option> ',page_conversation_well:'<span id="btn-forecolor" class="btn left right menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon color-select" title="{{str_rte_color_attr}}" draggable="false"><i style="background-color:{{text_color}};">{{str_rte_color}}</i><b></b></a></span> ',is_rtl:'<span id="right_to_left" value="rtl" class="btn left" data-action="bidi"><a role="button" tabindex="-1" href="#" class="icon change_rtl" title="{{str_rte_right_to_left}}" draggable="false"><i>{{str_rte_right_to_left}}</i><b></b></a></span><span id="left-to-right" value="ltr" class="btn right" data-action="bidi"><a role="button" tabindex="-1" href="#" class="icon change_ltr" title="{{str_rte_left_to_right}}" draggable="false"><i>{{str_rte_left_to_right}}</i><b></b></a></span> ',is_rtl_else:'<span id="left-to-right" value="ltr" class="btn left" data-action="bidi"><a role="button" tabindex="-1" href="#" class="icon change_ltr" title="{{str_rte_left_to_right}}" draggable="false"><i>{{str_rte_left_to_right}}</i><b></b></a></span><span id="right_to_left" value="rtl" class="btn right" data-action="bidi"><a role="button" tabindex="-1" href="#" class="icon change_rtl" title="{{str_rte_right_to_left}}" draggable="false"><i>{{str_rte_right_to_left}}</i><b></b></a></span> ',bidi:"{{is_rtl}} {{is_rtl_else}} ",spellCheckEnabled:'<span id="spellCheck" class="btn left{{HiddenClassName}}" data-action="spellcheck"><a role="button" tabindex="-1" href="#" class="icon spell" title="{{str_rte_check_spelling_attr}}" draggable="false"><i>{{str_rte_check_spelling}}</i></a></span><span class="btn right menu{{HiddenClassName}}" id="btn-spell-langs" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" title="{{str_toolbar_spelling_menu_toggle_attr}}" draggable="false"><b>{{str_toolbar_spelling_menu_toggle}}</b></a></span> ',page_compose_email:'<span id="btn-forecolor" class="btn left lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon color-select" title="{{str_rte_color_attr}}" draggable="false"><i style="background-color:{{text_color}};">{{str_rte_color}}</i><b></b></a></span><span id="btn-backcolor" class="btn right lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon highlight" title="{{str_rte_hilite_color_attr}}" draggable="false"><i>{{str_rte_hilite_color}}</i><b></b></a></span> <span id="btn-text-align" class="btn left lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon align-l down" title="{{str_rte_text_alignment_attr}}" draggable="false"><i>{{str_rte_text_alignment}}</i><b></b></a></span><span id="btn-indent" class="btn lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon indent" title="{{str_rte_indentation_attr}}" draggable="false"><i>{{str_rte_indent}}</i><b></b></a></span><span id="btn-list" class="btn right lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon bulletlist" title="{{str_rte_list_attr}}" draggable="false"><i>{{str_rte_list}}</i><b></b></a></span> {{bidi}} <span id="links" class="btn left right" data-action="insertlink"><a role="button" tabindex="-1" href="#" class="icon link" title="{{str_rte_link_attr}}" draggable="false"><i>{{str_rte_link}}</i></a></span> {{spellCheckEnabled}} <span class="om-buttons"></span> ',options_only:'<span id="btn-forecolor" class="btn left lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon color-select" title="{{str_rte_color_attr}}" draggable="false"><i style="background-color:{{text_color}};">{{str_rte_color}}</i><b></b></a></span><span id="btn-backcolor" class="btn right lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon highlight" title="{{str_rte_hilite_color_attr}}" draggable="false"><i>{{str_rte_hilite_color}}</i><b></b></a></span> <span id="btn-text-align" class="btn left lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon align-l down" title="{{str_rte_text_alignment_attr}}" draggable="false"><i>{{str_rte_text_alignment}}</i><b></b></a></span><span id="btn-indent" class="btn lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon indent" title="{{str_rte_indentation_attr}}" draggable="false"><i>{{str_rte_indent}}</i><b></b></a></span><span id="btn-list" class="btn right lg menu" data-action="menu"><a role="button" aria-haspopup="true" tabindex="-1" href="#" class="icon bulletlist" title="{{str_rte_list_attr}}" draggable="false"><i>{{str_rte_list}}</i><b></b></a></span> <span id="links" class="btn left right" data-action="insertlink"><a role="button" tabindex="-1" href="#" class="icon link" title="{{str_rte_link_attr}}" draggable="false"><i>{{str_rte_link}}</i></a></span> ',page_inoutdent_menu:'<div id="menu-indent" class="optionMenu"><ul><li data-action="indent"><a tabindex="-1" href="#" draggable="false"><span>{{str_menu_indent}}</span></a></li><li data-action="outdent"><a tabindex="-1" href="#" draggable="false"><span>{{str_menu_outdent}}</span></a></li></ul></div> '};
},"1.0.0");YUI.add("_shared_module_rte_well_content_rich_text_switch",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_rich_text_switch={base:'<div role="tabpanel" class="rte-pane rich-text-switch-pane shaded hidden"> <span role="presentation" class="icon close" data-action="rte-well" title="{{str_close_attr}}">{{str_close}}</span> <span class="btn left right attachment-button-removeall" data-action="rich-text"> <a role="button" href="#" tabindex="0">{{str_comp_switch_rich_text}}</a> </span></div>'};},"1.0.0");YUI.add("_shared_module_rte_well_content_attach_item",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_attach_item={base:"{{browser_plus_attach}}{{browser_plus_attach_else}}",transfer_error:"transfer-error",waiting:"in-queue ",image:'<div style="background-image:url({{thumbnailurl}});"></div> ',in_progress:'<div class="prog-indicator"> <div class="progress" style="width:{{progress}}%"></div> </div> ',browser_plus_attach:'<li role="presentation" class="attachmentVisible {{transfer_error}} {{waiting}} {{type}}"> <div class="file-container"> {{image}} <b/></b> </div> <span class="fname">{{filename}}</span> {{in_progress}}</li>',waiting1:"in-queue ",in_progress1:"downloading ",transfer_error1:"lozengeerror",transfer_warn:"lozengewarn",retry:'<span role="presentation" class="btn lozenge lozengeretry small hidden"><a role="presentation" tabindex="-1" title="{{str_btn_retry_file_attr}}">&nbsp;<b></b></a></span>',transfer_error2:"lozengeerror-remove",browser_plus_attach_else:'<li role="presentation" class="attachmentVisible {{waiting1}} {{in_progress1}} {{type}}"><div tabindex="-1" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="lozengeProgress"></div> <span role="presentation" class="btn lozenge {{transfer_error1}} left small"><a role="option" title="{{filesize}}" tabindex="-1" class="{{transfer_warn}}">{{filename}}</a></span>{{retry}}<span role="presentation" class="btn lozenge lozengeremove {{transfer_error2}} right small"><a role="presentation" tabindex="-1" title="{{str_btn_remove_file_attr}}">&nbsp;<b></b></a></span></li>'};},"1.0.0");YUI.add("_shared_module_message_norton_logo",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_norton_logo={base:'<img src="//s.yimg.com/ok/u/assets/img/norton-horizlogo.png" data-action="av_sponsor" class="avLogo" title="{{str_comp_av_norton_attr}}" alt="{{str_comp_av_norton_attr}}"/>'};},"1.0.0");YUI.add("_shared_module_rte_well_content_file_count",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_file_count={base:'<div class="file-count"> <span class="attachments-count hidden">{{str_rte_attachments_num_files}}</span> <span class="attachments-size hidden">{{str_rte_attachments_sizes}}</span> {{display_av_logo}}</div>',display_av_logo:"{{_shared_module_message_norton_logo}}"};},"1.0.0",{requires:["_shared_module_message_norton_logo"]});YUI.add("_shared_module_rte_well_content_attachments",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_attachments={base:'<div role="tabpanel" class="attachments-pane gwell rte-pane shaded {{page_compose_email_else}}" > <div role="toolbar"> <span role="presentation" class="icon close" data-action="rte-well" title="{{str_comp_close_attachments_attr}}"> {{str_comp_close_attachments}}</span> <form method="post" enctype="multipart/form-data" class="attachment-button-form" target="" action=""> <span class="btn left right menu attachment-button-attach"> <a role="button" href="#" tabindex="-1" >{{str_comp_attach}}</a> <input type="file" id="attachment-button-input" name="uploadfile" class="attachment-button-file" tabindex="0" title="{{str_comp_attach_attr}}"/> </span><span id="attach-btn-menu" class="btn right menu hidden attach-btn-menu" data-action="menu"><a href="#" title="{{str_comp_attach_menu_title}}"><b>{{str_comp_attach_menu_btn}}</b></a></span> </form> <span class="btn left right menu attachment-button-disabled hidden"> <a role="button" href="#" tabindex="-1" >{{str_comp_attach}}</a> </span> <span class="btn left right attachment-button-removeall hidden"> <a role="button" href="#" title="{{str_comp_attach_removeall}}">{{str_comp_attach_removeall}}</a> </span> <span role="alert" class="error transfer-error hidden"> <span class="attachmenterror"> {{attachments_error}} </span> <span class="btn left right"><a role="button" href="#">{{str_rte_attachments_try_again}}</a></span> </span> <span role="alert" class="switch-to-basic-link hidden"> {{str_rte_attachments_basic_message}} <a role="button" href="#">{{str_rte_attachments_basic_link_text}}</a>. </span> <span class="om-buttons"></span> {{browser_plus_attach}} {{_shared_module_rte_well_content_file_count}} </div> </div> <div class="attachments-well {{page_compose_email_else}} {{browser_plus_attach_else}}"> <div class="attachments-welcome"> {{browser_plus_attach1}} </div> <ul role="listbox" aria-live="polite" class="file-attach hidden"> {{file_attach_files}} </ul> </div> ',page_compose_email_else:"hidden",multiple_files_failed:"{{str_rte_attachments_error_mult}}",multiple_files_failed_else:"{{str_rte_attachments_error_single}}",attachments_error:"{{multiple_files_failed}} {{multiple_files_failed_else}} ",browser_plus_attach:'<div class="prog-indicator hidden"> <div class="progress" style="width:{{file_attach_progress_percent}}%"></div> <b>{{str_rte_attachments_progress}}</b> </div> ',attached_files_else:"hidden",browser_plus_attach_else:"simple-upload {{attached_files_else}} ",browser_plus_attach1:"<h2>{{str_rte_attachments_attach_files}}</h2> <h3>{{str_rte_attachments_drag_files}}</h3> ",file_attach_files:"{{_shared_module_rte_well_content_attach_item}} "};},"1.0.0",{requires:["_shared_module_rte_well_content_attach_item","_shared_module_rte_well_content_file_count"]});YUI.add("_shared_module_rte_well",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well={base:'<div class="rte-well-container">{{page_well_email}}{{page_well_conversation}}{{page_well_sms}}{{page_well_emoticons}}{{_shared_module_rte_well_content_format}}{{_shared_module_rte_well_content_rich_text_switch}}{{_shared_module_rte_well_content_attachments}}</div>',page_well_email:"{{_shared_module_rte_well_tabs_compose}}",page_well_conversation:"{{_shared_module_rte_well_tabs_conversation}}",page_well_sms:"{{_shared_module_rte_well_tabs_sms}}",page_well_emoticons:"{{_shared_module_rte_well_content_emoticons}}"};},"1.0.0",{requires:["_shared_module_rte_well_tabs_compose","_shared_module_rte_well_tabs_conversation","_shared_module_rte_well_tabs_sms","_shared_module_rte_well_content_emoticons","_shared_module_rte_well_content_format","_shared_module_rte_well_content_rich_text_switch","_shared_module_rte_well_content_attachments"]});YUI.add("_shared_module_message_loading_error",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_loading_error={base:'<div id="loadingpane" class="cm-loadingpane"> {{loading_error}} {{diff_folder_error}} {{loading_error_else}}</div>',is_perm:"{{str_comp_loading_error_perm}}",multi_retry:"{{str_comp_multi_retry}} ",multi_retry_else:"{{str_comp_loading_error}} ",is_perm_else:"{{multi_retry}} {{multi_retry_else}} ",can_retry:'<span class="btn left right small"><a role="button" href="#" title="{{str_comp_loading_retry_attr}}" data-action="retry-msg-load">{{str_retry}}</a> </span>',loading_error:"<h2>{{is_perm}} {{is_perm_else}} {{can_retry}} </h2> ",diff_folder_error:"<h2>{{str_error_msg_diff_folder_switch}}</h2> ",loading_slow_msg:"{{str_comp_loading_msg}}",loading_slow_conv:"{{str_comp_loading_conv}}",loading_slow_else:"<h2>{{loading_slow_msg}}{{loading_slow_conv}}</h2> ",loading_slow:'<h2>{{str_comp_slow_loading}} <span class="btn left right small"><a role="button" href="#" title="{{str_comp_loading_retry_attr}}" data-action="retry-msg-load">{{str_retry}}</a> </span> </h2> ',loading_error_else:"{{loading_slow_else}} {{loading_slow}} "};},"1.0.0");YUI.add("_shared_module_compose_message_body",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_message_body={base:'<div class="inner" style="height:100%"> <label for="msg" class="offscreen">{{str_comp_messagebody}}</label> <div id="plaintext" class="cm-plaintext"> {{conversation_body_else}} </div> {{_shared_module_message_loading_error}} <div id="rtetext" class="cm-rtetext" style="visibility:hidden; height:100%"> {{conversation_body}} </div> </div>',conversation_body_else:'<textarea id="msg"></textarea>',conversation_body:'<div class="msg"> {{conversation_body}} </div> '};},"1.0.0",{requires:["_shared_module_message_loading_error"]});YUI.add("_shared_module_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose={base:'<div class="compose content"> <table role="presentation" border="0" style="margin:0;width:100%;height:100%;border-spacing:0; border-collapse:collapse;"> <tbody role="presentation"> <tr role="presentation"> <td role="presentation" height="10"> {{global_spearmint_view_else}} {{_shared_module_compose_message_header}} </td> </tr> <tr role="presentation"> <td role="presentation" height="10">{{_shared_module_rte_well}}</td> </tr> <tr role="presentation" style="height:100%"> <td role="presentation"> <div style="height:100%" class="compose-message {{page_well_is_open}}">{{_shared_module_compose_message_body}}</div> </td> </tr> </tbody> </table> </div> ',global_spearmint_view_else:" ",page_well_is_open:"rich-text "};},"1.0.0",{requires:["_shared_module_compose_message_header","_shared_module_rte_well","_shared_module_compose_message_body"]});YUI.add("_shared_module_toolbar_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_toolbar_compose={base:'<div id="pagetoolbar" class="{{msgliststate}}" > <span class="btn left" data-action="send"><a href="{{global_url_base}}/minty/page/send-confirm" title="{{str_comp_send_attr}}" draggable="false">{{str_comp_send}}</a></span><span class="btn"><a href="#" data-action="cancelcompose" class="btn-cancel-compose" title="{{str_comp_cancel_attr}}" draggable="false">{{str_comp_cancel}}</a></span><span class="btn right" data-action="savedraft"><a href="#" title="{{str_comp_savedraft_attr}}" draggable="false">{{str_comp_savedraft}}</a></span> {{global_spearmint_view_else}} <span class="lastsave">{{lastsaved}}</span></div>',global_spearmint_view_else:" ",lastsaved:"{{str_comp_autosave}}"};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose={base:'<div id="ac-to-results" class="ac-results"></div><div id="ac-cc-results" class="ac-results"></div><div id="ac-bcc-results" class="ac-results"></div>'};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_color_picker",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_color_picker={base:'<div class="optionMenu color-picker" id="menu-color-picker"> <span class="white"><a href="#" data-action="color-select">White</a></span> <span class="gray-01"><a href="#" data-action="color-select">Gray 01</a></span> <span class="gray-02"><a href="#" data-action="color-select">Gray 02</a></span> <span class="gray-03"><a href="#" data-action="color-select">Gray 03</a></span> <span class="gray-04"><a href="#" data-action="color-select">Gray 04</a></span> <span class="gray-05"><a href="#" data-action="color-select">Gray 05</a></span> <span class="black"><a href="#" data-action="color-select">Black</a></span> <span class="burgundy"><a href="#" data-action="color-select">Burgundy</a></span> <span class="brick-red"><a href="#" data-action="color-select">Brick Red</a></span> <span class="red"><a href="#" data-action="color-select">Red</a></span> <span class="orange"><a href="#" data-action="color-select">Orange</a></span> <span class="peach"><a href="#" data-action="color-select">Peach</a></span> <span class="yellow"><a href="#" data-action="color-select">Yellow</a></span> <span class="tan"><a href="#" data-action="color-select">Tan</a></span> <span class="ochre"><a href="#" data-action="color-select">Ochre</a></span> <span class="olive-green"><a href="#" data-action="color-select">Ospanve Green</a></span> <span class="dark-green"><a href="#" data-action="color-select">Dark Green</a></span> <span class="grass-green"><a href="#" data-action="color-select">Grass Green</a></span> <span class="green"><a href="#" data-action="color-select">Green</a></span> <span class="cyan"><a href="#" data-action="color-select">Cyan</a></span> <span class="teal"><a href="#" data-action="color-select">Teal</a></span> <span class="dark-blue"><a href="#" data-action="color-select">Dark Blue</a></span> <span class="blue"><a href="#" data-action="color-select">Blue</a></span> <span class="lavander"><a href="#" data-action="color-select">Lavander</a></span> <span class="magenta"><a href="#" data-action="color-select">Magenta</a></span> <span class="violet"><a href="#" data-action="color-select">Violet</a></span> <span class="pink"><a href="#" data-action="color-select">Pink</a></span> <span class="light-pink"><a href="#" data-action="color-select">light-pink</a></span></div>'};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_spellcheck",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_spellcheck={base:'<div id="menu-spellcheck" class="optionMenu"> <ul> {{word_suggestions}} </ul> <ul> <li><a href="#" data-action="spellcheck-ignore" title="{{str_comp_ignore_attr}}"><span>{{str_comp_ignore}}</span></a></li> <li><a href="#" data-action="spellcheck-ignore-all" title="{{str_comp_ignore_all_attr}}"><span>{{str_comp_ignore_all}}</span></a></li> </ul></div>',word_suggestions:'<li><a href="#" data-action="spellcheck-replace"><span>{{word_suggestion}}</span></a></li> '};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_modal_cancel_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_modal_cancel_compose={base:'<div id="modal-cancel-compose" class="modal lg"> <h2 class="modal-hd"> {{str_comp_close}} {{_shared_module_offscreen_bin_modal_close_icon}} </h2> <div class="modal-bd"> <span>{{str_comp_close_confirm}}</span> </div> <div class="modal-ft"> {{url}} </div></div>',url:'<span class="btn left right default"><a href="{{url_minty_drafts}}">{{str_comp_savetodrafts}}</a></span><span class="btn left right"><a href="{{url_minty_inbox}}">{{str_comp_abandon}}</a></span><span class="btn left right"><a href="modal-cancel-compose.mu#">{{str_comp_keepwriting}}</a></span> '};},"1.0.0",{requires:["_shared_module_offscreen_bin_modal_close_icon"]});YUI.add("_shared_module_offscreen_bin_compose_menu_spell_langs",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_spell_langs={base:'<div id="menu-spell-langs" class="optionMenu"> <ul> <li data-action="asl" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_auto_select}}</span></a></li> <li data-action="en_US" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_english_us}}</span></a></li> <li data-action="en_GB" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_english_uk}}</span></a></li> <li data-action="en_CA" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_english_ca}}</span></a></li> <li data-action="ar" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_arabic}}</span></a></li> <li data-action="bn" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_bengali}}</span></a></li> <li data-action="bg" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_bulgarian}}</span></a></li> <li data-action="hr" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_croatian}}</span></a></li> <li data-action="cs" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_czech}}</span></a></li> <li data-action="da" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_danish}}</span></a></li> <li data-action="nl" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_dutch}}</span></a></li> <li data-action="et" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_estonian}}</span></a></li> <li data-action="tl" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_filipino}}</span></a></li> <li data-action="fi" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_finnish}}</span></a></li> <li data-action="fr_CA" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_french_canada}}</span></a></li> <li data-action="fr_FR" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_french_france}}</span></a></li> <li data-action="fr_CH" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_french_switzerland}}</span></a></li> <li data-action="de_AT" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_german_austria}}</span></a></li> <li data-action="de_CH" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_german_switzerland}}</span></a></li> <li data-action="de_DE" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_german_germany}}</span></a></li> <li data-action="el" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_greek}}</span></a></li> <li data-action="gu" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_gujarati}}</span></a></li> <li data-action="he" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_hebrew}}</span></a></li> <li data-action="hi" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_hindi}}</span></a></li> <li data-action="hu" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_hungarian}}</span></a></li> <li data-action="id" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_indonesian}}</span></a></li> <li data-action="it" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_italian}}</span></a></li> <li data-action="kn" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_kannada}}</span></a></li> <li data-action="lv" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_latvian}}</span></a></li> <li data-action="lt" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_lithuanian}}</span></a></li> <li data-action="ms" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_malay}}</span></a></li> <li data-action="ml" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_malayalam}}</span></a></li> <li data-action="mr" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_marathi}}</span></a></li> <li data-action="nb" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_norwegian_bokmal}}</span></a></li> <li data-action="nn" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_norwegian_nynorsk}}</span></a></li> <li data-action="pl" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_polish}}</span></a></li> <li data-action="pt_BR" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_portuguese_brazil}}</span></a></li> <li data-action="pt_PT" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_portuguese_portugal}}</span></a></li> <li data-action="ro" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_romanian}}</span></a></li> <li data-action="ru" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_russian}}</span></a></li> <li data-action="sr-cyrl" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_serbian}}</span></a></li> <li data-action="sk" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_slovak}}</span></a></li> <li data-action="sl" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_slovenian}}</span></a></li> <li data-action="es" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_spanish}}</span></a></li> <li data-action="sv" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_swedish}}</span></a></li> <li data-action="ta" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_tamil}}</span></a></li> <li data-action="te" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_telugu}}</span></a></li> <li data-action="tr" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_turkish}}</span></a></li> <li data-action="uk" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_ukrainian}}</span></a></li> <li data-action="vi" role="menuitemradio" aria-checked="false"><a href="#"><span>{{str_rte_spell_lang_vietnamese}}</span></a></li> </ul></div>'};
},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_modal_check_spelling",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_modal_check_spelling={base:'<div id="modal-chkspelling" class="modal"> <h2 class="modal-hd"> {{str_modal_check_spelling}} {{_shared_module_offscreen_bin_modal_close_icon}} </h2> <div class="modal-bd"> <p>{{str_modal_mispelled_words}}</p> </div> <div class="modal-ft"> <div><input type="checkbox"> {{str_modal_dont_show_again}}</div> {{_shared_module_offscreen_bin_modal_btn_ok}} </div></div>'};},"1.0.0",{requires:["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_ok"]});YUI.add("_shared_module_compose_reply",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_reply={base:"{{reply_rich}} {{reply_plain}} {{cchdr}} {{fwdhdr}} {{qthdr}} {{qtftr}} {{subject}} {{origHeader}} {{rulerHeader}} {{reply_rich_short}} {{reply_plain_short}} ",reply_rich:'<br> {{quotetext_header}} <div style="font-family: {{fontfamily}}; font-size: {{fontsize}};"> <div style="font-family: {{deffontfamily}}; font-size: {{deffontsize}};"> <div {{headerDir}}> <font size="2" face="Arial"> {{reply_rich_header}} <b><span style="font-weight:bold;">{{str_comp_reply_from}}</span></b> {{from_data}}<br> <b><span style="font-weight: bold;">{{str_comp_reply_to}}</span></b> {{to_data}} {{cchdr}}<br> <b><span style="font-weight: bold;">{{str_comp_reply_date}}</span></b> {{date_data}}<br> <b><span style="font-weight: bold;">{{str_comp_reply_subject}}</span></b> {{subject_data}}<br> </font> </div> <br>{{reply_rich_body}}<br><br> </div> </div> {{quotetext_footer}} ',reply_plain:"<div> <br> <div>{{reply_plain_header}}<br> {{quoteprefix}}{{str_comp_reply_from}} {{from_data}}<br> {{quoteprefix}}{{str_comp_reply_to}} {{to_data}}<br> {{quoteprefix}}{{str_comp_reply_cc}} {{cc_data}}<br> {{quoteprefix}}{{str_comp_reply_date}} {{date_data}}<br> {{quoteprefix}}{{str_comp_reply_subject}} {{subject_data}}<br> {{quoteprefix}}<br>{{reply_plain_body}} </div> </div> ",cchdr:'<br><b><span style="font-weight: bold;">{{str_comp_reply_cc}}</span></b> {{cc_data}} ',fwdhdr:"{{str_comp_reply_fwdHeader}}<br> ",qthdr:'<blockquote style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; margin-top: 5px; padding-left: 5px;"> ',qtftr:"</blockquote> ",subject:"{{subject_prefix}} {{subject_data}} ",origHeader:"{{str_comp_reply_origHeader}}<br> ",rulerHeader:'<hr size="1"> ',reply_rich_short:'<br> <div style="font-family: {{fontfamily}}; font-size: {{fontsize}};"> <div style="font-family: {{deffontfamily}}; font-size: {{deffontsize}};"> <div {{headerDir}}> <font size="2" face="Arial"> {{str_comp_reply_short}}<br> </font> </div> {{quotetext_header}} {{reply_rich_body}}<br><br> {{quotetext_footer}} </div> </div> {{quotetext_footer}} ',reply_plain_short:"<div> <br> <div> {{quoteprefix}}{{str_comp_reply_short}}<br> {{quoteprefix}}{{reply_plain_body}} </div> </div> "};},"1.0.0");YUI.add("mail-model-compose",function(D){var B=function(){B.superclass.constructor.apply(this,arguments);};var C={oComposeData:null,initializer:function(){this.oComposeData={header:{subject:null,from:null,replyto:null,to:null,cc:null,bcc:null},origin:{action:null,fid:null,oMsg:null,ctxReq:null,forwardAsAttachment:false,errInfo:null},content:null,textcontent:null,attachments:[],spellcheck:{corrections:null,correctionHash:[]},isRich:null};},destructor:function(){},updateData:function(G){var E,F={uiUpdate:true};for(E in G){if(E){this.set(E,G[E],F);}}},neas:function(E){return E&&E.length;},_getReplyHeader:function(){var E={from:this.oComposeData.header.from,to:this.oComposeData.header.to,cc:this.oComposeData.header.cc,subject:this.oComposeData.header.subject};return E;},_setReplyHeader:function(E){if(E.from){this.oComposeData.header.from=E.from;}if(E.to){this.oComposeData.header.to=E.to;}if(E.cc){this.oComposeData.header.cc=E.cc;}if(E.bcc){this.oComposeData.header.bcc=E.bcc;}if(E.subject){this.oComposeData.header.subject=E.subject;}},_getHeader:function(){return this.oComposeData.header;},_setHeader:function(E){this.oComposeData.header=E;},_getContent:function(){return this.oComposeData.content;},_setContent:function(E){this.oComposeData.content=E;},_getTextContent:function(){return this.oComposeData.textcontent;},_setTextContent:function(E){this.oComposeData.textcontent=E;},_getReplyContent:function(){return this._getContent();},_setReplyContent:function(E){this._setContent(E);},_getTextMode:function(){if(this.oComposeData.isRich!=null){return this.oComposeData.isRich;}else{var F=D.common.persist.UserData.get("userUIPref.useRichText"),E=((F))&&(F!="plain");this.oComposeData.isRich=E;return E;}},_setTextMode:function(E){this.oComposeData.isRich=E;D.common.persist.UserData.set("userUIPref.useRichText",E?"dynamic":"plain");setTimeout(function(){D.common.persist.UserData.saveOne("userUIPref.useRichText");},10);},_getOrigin:function(){return this.oComposeData.origin;},_setOrigin:function(E){this.oComposeData.origin=E;},_getOriginError:function(){return this.oComposeData.origin.errInfo;},_setOriginError:function(E){this.oComposeData.origin.errInfo=E;},_addAttachment:function(G){var F=this.oComposeData.attachments.length,E=G&&G.state&&G.state.uploaded||0;G.cdoIndex=F;this.oComposeData.attachments.push(G);this.fire("CDO_ATTACHMENT_ADDED",F,E);},_isAttachmentOversized:function(E){return E.state.failCause==="size";},_addAttachments:function(E){if(E){for(var F=0;F<E.length;F++){this._addAttachment(E[F]);}}},_removeAttachment:function(E){var F=this.oComposeData.attachments[E]||{};F.state=F.state||{};F.state.cancelled=true;this.fire("CDO_ATTACHMENT_DELETED",E);},_removeAllAttachments:function(F){var E=this.oComposeData.attachments;for(var G=0;G<E.length;G++){if(!F||F(E[G])){this._removeAttachment(G);}}this.fire("CDO_ALL_ATTACHMENTS_DELETED");},_updateAttachment:function(E,G){var F=this.oComposeData.attachments[E];for(var H in G){F[H]=G[H];}this.fire("CDO_ATTACHMENT_PROCESSED",E);},_getAttachmentsSize:function(){var I=this.oComposeData.attachments;var E=0;for(var F=0;F<I.length;F++){var H=I[F];var G=H.state||{};var J=H.size||{sampled:0,original:0};if(isNaN(J.original)){J.original=0;}if(isNaN(J.resampled)){J.resampled=0;}if(!G.cancelled){if(G.resampled){E+=J.sampled;}else{E+=J.original;}}}return E;},_getAttachmentsCount:function(E){var J=this.oComposeData.attachments;var F=0;for(var G=0;G<J.length;G++){var I=J[G];var H=I.state||{};if(E&&!E(I)){continue;}else{if(!E&&H.cancelled){continue;}}F++;}return F;},_getIsEmpty:function(){var G=this.oComposeData,F=this.oComposeData.header,E=this.neas(F.subject)||this.neas(F.to)||this.neas(F.cc)||this.neas(F.bcc)||(F.replyto!=null)||(G.origin.action!=null)||this.neas(G.attachments);return(!E);},_getAttachments:function(){return this.oComposeData.attachments;},_setSpellCheckCorrections:function(E){this.oComposeData.spellcheck.corrections=E;},_getSpellCheckCorrections:function(){return this.oComposeData.spellcheck.corrections;},_setSpellCheckCorrectionHash:function(E){this.oComposeData.spellcheck.correctionHash=E;},_getSpellCheckCorrectionHash:function(){return this.oComposeData.spellcheck.correctionHash;}};D.extend(B,D.Base,C,{NAME:"composeModel",ATTRS:{header:{setter:C._setHeader,getter:C._getHeader},replyheader:{setter:C._setReplyHeader,getter:C._getReplyHeader},content:{setter:C._setContent,getter:C._getContent},textcontent:{setter:C._setTextContent,getter:C._getTextContent},replycontent:{setter:C._setReplyContent,getter:C._getReplyContent},isRichText:{setter:C._setTextMode,getter:C._getTextMode},origin:{setter:C._setOrigin,getter:C._getOrigin},originerror:{setter:C._setOriginError,getter:C._getOriginError},attachments:{getter:C._getAttachments},attachmentsSize:{getter:C._getAttachmentsSize},attachmentsCount:{getter:C._getAttachmentsCount},spellcheckcorrections:{setter:C._setSpellCheckCorrections,getter:C._getSpellCheckCorrections},spellcheckcorrectionhash:{setter:C._setSpellCheckCorrectionHash,getter:C._getSpellCheckCorrectionHash},antivirus:{value:0},prePopulated:{value:false},saveaction:{}}});var A=new function(){var F=this;function E(H){var G=new B();G.isDirty=false;G.isDraft=H;return G;}D.mix(F,{createModel:E});};D.namespace("mail.model");D.mail.model.ComposeModel=B;D.mail.model.ComposeModelFactory=A;},"1.0.0",{requires:["base","common-persist-user-data"]});YUI.add("mail-controller-compose",function(o){var g=o.mail,z=o.mail.model.ComposeModelFactory,AN=g.Controller,W=AN.extend("Compose"),K=o.mail.Controller.Messages,a=o.common,q=a.Utils,AB=q.escapeHtml,D=q.unescapeHtml,N=q.substitute,AO=o.ui.Templates,AC=AO._shared_module_compose_reply,AK=a.persist.UserData,E=o.mail.persist.MetaData,u=">",J="general.prefixreplyquotetype",AQ=null,AS=new RegExp(/<a[^>]*href="([^\s]*?)"[^>]*>[\s]*<span[^>]*id="?lw_\d*?_\d*?"?[^>]*>http(([\s]|[^\s])*?)<\/span>[\s]*<\/a>/ig),M=new RegExp(/<span[^>]*id="?lw_\d*?_\d*?"?[^>]*>(([\s]|[^\s])*?)<\/span>/ig),AD=new RegExp(/<script[^>]*[^>]*>(([\s]|[^\s])*?)<\/script>/ig),R={subject_prefix:function(Y){return strings[(Y.action=="forward")?"str_comp_reply_spFWD":"str_comp_reply_spRE"];},subject_data:function(Y){if(!AQ){AQ=i();}return Y.oMsg.header.subject.replace(AQ,"");}},AE={quotetext_header:function(AX,Y){return AP()?AC.qthdr:"";},quotetext_footer:function(AX,Y){return AP()?AC.qtftr:"";},fontfamily:function(){return U().fontFamily;},fontsize:function(){return U().fontSize;},deffontfamily:function(){return AU(false);},deffontsize:function(){return AT(false);},from_data:function(Y){return(AB(D(r(X(Y.oMsg,true)))));},to_data:function(Y){return(AB(D(I(Y.oMsg.header.to,true))));},cchdr:function(Y){return Y.oMsg.header.cc.length>0?N(AC.cchdr,Y,AE,null,strings):"";},cc_data:function(Y){return(AB(D(I(Y.oMsg.header.cc,true))));},date_data:function(Y){return(AB(q.dateFormatter(new Date(Y.oMsg.header.receivedDate*1000),strings["str_tog_dateformat_header_l10n"])));},subject_data:function(Y){return AB(D(Y.oMsg.header.subject));},reply_rich_body:function(Y){return s(Y.oMsg.body.display);},reply_rich_header:function(Y){var AX=(Y.action==="forward")?AC.fwdhdr:(NeoConfig.intl==="jp")?AC.origHeader:AC.rulerHeader;return N(AX,null,null,null,strings);},reply_plain_body:function(AY){var AX=s(AY.oMsg.body.display);if(AP()){try{AX=B(AX);}catch(Y){}AX=T(AX);}return AX;},reply_plain_header:function(Y){return(strings[(Y.action=="forward")?"str_comp_reply_fwdHeader":"str_comp_reply_origHeader"]);},quoteprefix:function(){return(AP()?u+" ":"");},headerDir:function(){return(NeoConfig.isRTL)?' dir="rtl" ':' dir="ltr" ';}};function O(){return z.createModel();}function AH(){}function c(){}function H(Y){var AY,AX=t(AK.get("userSendPref.defaultID"));if(AX){AY=o.mail.Controller.Compose.injectSignature(Y.get("content"),Y.get("isRichText"),AX);if(AY){Y.set("content",AY);}}}function e(Y){o.use("mail-controller-sendconfirm",function(AZ){var AX=(Y.saveBeforeSend?Y.saveBeforeSend:false),AY={};AY.sdo=j(Y.cdo),AY.auto=Y.auto||null,AY.mid=Y.mid;if(Y.cdo&&Y.cdo.appid){AY.appid=Y.cdo.appid;}if(Y.auto){q.rocketstats.stat("savemessage","auto");}else{q.rocketstats.stat("savemessage","userInitiated");}AZ.mail.Controller.SendConfirm.saveMessage(AY,function(Ab,Aa){Y.cdo.set("saveaction",{mid:Ab,auto:AY.auto,failure:Aa,sendAfterSave:AX});});});}function f(Y,AY){var AX={textConvert:true};Y.set("isRichText",false);Y.set("content",AY,AX);}function Q(Y){Y.set("isRichText",true);}function AI(AX,Y){o.common.persist.UserData.set(AX,Y);setTimeout(function(){o.common.persist.UserData.saveOne(AX);},10);}function j(Am,AZ,AX,Ai){var Ad=Am.get("header"),Ab=Am.get("origin"),Ah=Am.get("content"),Al=Am.get("textcontent"),Ag=Am.get("isRichText"),AY=Am.get("attachments"),Ak,Aj=[],Aa=0,Af=0,Y,Ac,Ae;for(Af=AY.length;Aa<Af;++Aa){Ak=AY[Aa].original;Y=AY[Aa].state||{};if(!Y.uploaded||Y.cancelled){continue;}if(Ak){if(AY[Aa].disposition!=="inline"||!AY[Aa].isDisplayable){Aj.push({attachment:AW(Ak.fid,Ak.mid,Ak.partId,Ak.tnef),disposition:"attachment"});}}else{if(Y.failed){continue;}Aj.push({attachment:"upload://"+AY[Aa].serverID,disposition:"attachment"});}}Ac={subject:Ad.subj||Ad.subject,from:Ad.from,to:Ad.to,cc:Ad.cc,bcc:Ad.bcc,replyto:{name:Ad.from.name,email:AM(Ad.from.email)}};h(Ab,Ac);if(AZ){AZ.reset();}else{AZ=o.mail.model.SendModelFactory.createModel();}AZ.set("header",Ac);AZ.set("contenttext",Al);AZ.set("attachments",Aj);if(Ag){AZ.set("contenthtml",Ah);}if(Ai&&!!Ab&&Ab.action&&Ab.action!="edit"){AZ.set("origin",Ab);}if(AX){if(AX.draftMID){AZ.set("draftMID",AX.draftMID);}if(AX.keepDraft){AZ.set("keepDraft",AX.keepDraft);}if(AX.cid){AZ.set("cid",AX.cid);}}return AZ;}function P(AX,Aa,AY,Y){var Ad=AX.get("origin");if(Ad.action&&Ad.fid&&Ad.oMsg){if(Ad.ctxReq&&o.mail.Controller.Messages){K.abort(Ad.ctxReq);}var Ac,Ab={truncateAt:null},AZ={success:function(){p.apply(this,arguments);Y&&Y();},failure:function(){m.apply(this,arguments);},args:{cdo:AX,isDraft:Aa,stopwatch:AY}};Ac={fid:Ad.fid,msg:Ad.oMsg,ovparams:Ab};if(AY&&!AY.CMGStart){AY.CMGStart=new Date();}o.use("mail-controller-messages",function(){Ad.ctxReq=o.mail.Controller.Messages.get(Ac,AZ);AX.set("origin",Ad);});}}function p(Aa,AY){var Y=AY.args.cdo,AZ=Y.get("origin"),AX=AY.args.stopwatch;if(Aa.mid){if(AX){if(!AX.CMGEnd){AX.CMGEnd=new Date();AY.respProps&&(AX.wasCached=AY.respProps.wasCached);}AX.CMGSize=Aa.body.display.length;}AZ.oMsg=Aa;AZ.ctxReq=null;AZ.errInfo="ok";V(Y,AY.args.isDraft);}else{m({msg:this.message},AY);}}function m(AY,AX){var Y=AX.args.cdo;Y.set("originerror",AY);}function V(Ae,AY,AX){var AZ=d(Ae,AY);b(Ae);Ae._addAttachments(AZ.attachments);if(!AY){var Ad=Ae.get("origin"),Ac=AV(Ad),Aa=t(Ac.email),Ab,Y=true;if(AX&&AX.noSig){Y=false;}if(Aa&&Y){Ab=o.mail.Controller.Compose.injectSignature(null,Ae.get("isRichText"),Aa);AZ.prolog=strings.str_cfg_tog_insert_signature_bottom?AZ.prolog+Ab:Ab+AZ.prolog;}}Ae.set("replyheader",AZ.header);Ae.set("replycontent",AZ.prolog);}function t(Aa){var Ab=AK.get("userSendPref"),AX,Y,AZ;if(strings.str_cfg_tog_use_accountbased_signature&&Aa&&Aa!==Ab.defaultFromAddress){Y=AK.get("aliases.alias");for(var AY=0;AY<Y.length;++AY){AZ=Y[AY];if(Aa===AZ.address){AX={text:AZ.signature,isRich:AZ.signatureType==="d",isActive:AZ.addSignature};break;}}}else{AX={text:Ab.signatureText,isRich:Ab.richTextSignature=="plainhtml"||Ab.richTextSignature=="dhtml",isActive:Ab.signatureActive};}return AX&&AX.isActive&&AX.text?AX:null;
}function b(Y){o.use("mail-controller-messages-ops",function(){var AY=Y.get("origin"),AZ={},AX=new Array(AY.oMsg);AZ["read"]=1;o.mail.Controller.Messages.flag({fid:AY.fid,mid:AX,setFlags:AZ},{failure:function(){}});});}function d(Y,AX){var AZ,AY=Y.get("origin");AZ={prolog:null,header:null,attachments:null};if(AX){AZ.header=AY.oMsg.header;AZ.prolog=s(AY.oMsg.body.display);}else{AZ.header=w(AY);if(AY.forwardAsAttachment){AZ.attachments=x(AY);AZ.prolog="";}else{AZ.prolog=AR(Y,AY);}}if(AX||(AY.action=="forward"&&!AY.forwardAsAttachment)){AZ.attachments=F(AY);}return AZ;}function AR(Y,Aa){var AY=AJ(Y),AZ=Z(Aa),AX;AX=N(AY||AZ?AC.reply_rich:AC.reply_plain,Aa,AE,Y,strings);if(!AY&&AZ){Y.set("isRichText",true);}return AX;}function w(Ac){var Ab,Aa=(Ac.action=="reply_sender"||Ac.action=="reply_all"),AX={from:null,to:null,cc:null,subject:null},AZ=[],Y=[],AY=(Ac.fid=="Sent"||(Ac.fid=="%40S%40Search"&&Ac.oMsg.sourceFolderInfo.fid=="Sent"));AX.from=(Aa)?AV(Ac):L();if(Aa){Ab=X(Ac.oMsg);if(!AY&&Ac.action=="reply_sender"){Y.push(Ab);AX.to=Y;}else{if(!AY){Y.push(Ab);}AZ.push(Ab);AZ.push(AX.from);AX.to=Y.concat(k(Ac.oMsg.header.to,AZ));AX.cc=k(Ac.oMsg.header.cc,AZ);if(AY&&AX.to.length==0&&AX.cc.length==0){AX.to=Ac.oMsg.header.to;if(AX.to.length==0){AX.cc=Ac.oMsg.header.cc;}}}}AX.subject=D(AF(Ac));if(!AY){o.Array.each(Ac.oMsg.header.replyto||[],function(Ae){var Ad=AX.to;if(Ad&&(o.Array.indexOf(Ad,Ae)<0)&&(o.Array.indexOf(Y,Ae)<0)){AX.to.push(Ae);}});}return AX;}function AF(AX){var Y=AX.action=="reply_sender"||AX.action=="reply_all"||AX.action=="forward";if(Y){if(AX.oMsg.header.subject==strings["str_msg-view_no_subject"]){AX.oMsg.header.subject="";}return N(AC.subject.replace(/\s+$/,""),AX,R,null,strings);}else{return AX.oMsg.header.subject;}}function F(AZ){var Y=AZ.oMsg.attachments,AX=[];if(Y){for(var AY=0;AY<Y.length;AY++){AX.push(S(Y[AY],AZ));}}return AX;}function x(AZ){var AX=[],AY=AZ.oMsg.header.subject.length>0?AZ.oMsg.header.subject.substring(0,240):strings.str_comp_nosubject,Y={filename:AY+".eml",state:{uploaded:true},size:{original:AZ.oMsg.header.size},original:{partId:"",mid:AZ.oMsg.mid,fid:AZ.fid,tnef:""}};AX.push(Y);return AX;}function S(Y,AY){var AX={filename:Y.filename,mimetype:Y.type+"/"+Y.subtype,size:{original:Y.size},state:{uploaded:true},disposition:Y.disposition,isDisplayable:Y.isDisplayable,original:{partId:Y.partId||"",mid:AY.oMsg.mid,fid:AY.fid,tnef:Y.tnefId}};return AX;}function AL(Y,Ac,Aa){var AZ=/[\x01-\x08\x0B-\x0C\x0E-\x1F\x7F-\x84\x86-\x9F]/ig,AX,Ab,AY;AY=Y.one("body");AX=Aa;Ab=this.convertToPlain(AY,false);AX=AX.replace("<!-- ORIGINAL -->","");AX=AX.replace(AZ,"");Ab=Ab.replace(AZ,"");AX=AX.replace(/<br\b([^>]*?)\bclass="yui-cursor"(.*?)>/ig,"");AX=AX.replace(/<p\b([^>]*)>/ig,"<div$1>");AX=AX.replace(/<\/p\b[^>]*>/ig,"</div>");AX=["<html><body>",'<div style="color:',Ac.foreColor,"; background-color:",Ac.backColor,"; font-family:",Ac.fontFamily,";font-size:",Ac.fontSize,'">',AX,"</div></body></html>"].join("");return({html:AX,text:Ab});}function AJ(Y){return !NeoConfig.low_bandwidth&&Y.get("isRichText");}function AP(){return strings.str_cfg_tog_compose_autoattach_prefix||C(J)==="yes";}function C(Y){return E.get("cg.pref."+Y);}function T(AX){var Y=u+AX.replace(/\r?\n|(.{0,80})\r?\n|(.{1,80})$|(.{1,80} +)/mg,"$1$2$3<br />"+u);Y=Y.replace(/(^[\>|(?:&gt;)]+|\<br \/\>(?:\>|\&gt\;)*)/mgi,"$1 ");return Y.substring(0,Y.length-u.length);}function B(AX,Y){var AZ,AY=document.createElement("div");AY.innerHTML=AX;AZ=o.mail.Controller.Compose.convertGuts(AY);if(!Y){AZ=AB(AZ);}AY.innerHTML="";AY=null;return AZ;}function Z(AY){var AX=AY.oMsg.part;if(AX){for(var Y=0;Y<AX.length;Y++){if(AX[Y].subtype=="html"){return true;}}}return false;}function s(Y){if(Y){Y=Y.replace(AS,"$1");Y=Y.replace(M,"$1");Y=Y.replace(AD,"");}return Y;}function AW(AZ,AX,Y,AY){if(typeof AY!="undefined"&&AY!==""&&AY!="null"){return["message:/",encodeURIComponent(AZ),encodeURIComponent(AX),Y,AY].join("/");}else{return["message:/",encodeURIComponent(AZ),encodeURIComponent(AX),Y].join("/");}}function G(AY){var AX,Y;if(AY){return{fontFamily:AX=AU(true),fontSize:Y=AT(true)};}else{return U();}}function U(){var Y,AX;AX=AK.get("userUIPref.composeFontFamily");if(!AX){AX=AU(false);}Y=AK.get("userUIPref.composeFontSize");if(Y){Y+="pt";}else{Y=AT(false);}return{fontFamily:AX,fontSize:Y};}function AU(Y){if(Y){return n()[0];}return strings["str_rte_default_font"];}function AT(Y){if(Y){var AX=n();return""+parseInt(AX[1])+AX[2];}return parseInt(strings["str_rte_default_font_size"])+"pt";}function n(){return o.mail.ui.common.Fonts.getPlainTextOption()||[strings["str_comp_plaintext_default_font"],strings["str_comp_plaintext_default_font_size"],"px"];}function L(){var AY,Ab,Ad,AZ=AK.get("userSendPref.defaultFromAddress"),Ac=AK.get("userSendPref.defaultFromName"),Y=AK.get("externalAccounts")||{},AX=Y.extAccountsTotal||0,Aa=Y.extAccount||[];if(AX>0){for(AY=0;AY<AX;AY++){Ab=Aa[AY];Ad=Ab.address;if(Ab.address&&Ab.address.length>0&&Ab.isDefault){AZ=Ab.address;Ac=Ab.fromName;if(Ac==""){Ac=AK.get("userSendPref.defaultFromName");}}}}return({name:Ac,email:AZ});}function AV(AY){var AX,Y={email:AK.get("userSendPref.defaultFromAddress"),name:AK.get("userSendPref.defaultFromName")};if(AY.fid=="Sent"){return X(AY.oMsg);}AX=A(AY.oMsg.header.to,Y);if(!AX){AX=A(AY.oMsg.header.cc,Y);}if(!AX){AX=A(AY.oMsg.header.bcc,Y);}if(!AX){AX=L();}return AX;}function A(Ab,Ad){var Aa,Ac=null,AZ={},Ae=(AK.get("externalAccounts")||{}).extAccount||[],AY=(AK.get("aliases")||{}).alias||[],AX=(AK.get("disposableAddresses")||{}).deaName||[],Y=function(Af){if(Af&&Af.address&&(Af.address==AZ.email)){Ac={email:Af.address,name:Af.fromName};return true;}};for(Aa=0;!Ac&&(Aa<Ab.length);Aa++){AZ=Ab[Aa];if(AZ.email==Ad.email){return Ad;}o.Array.some([].concat(Ae,AY,AX),Y);}return Ac;}function AG(Y,Aa){var AZ=0,AY=Aa.length,AX=new Array(AY);while(AY--){AX[AZ]=Y(Aa[AZ++]);}return AX;}function AA(Y){return(Y.name)?Y.name:Y.email;}function v(Y){return Y.email;}function r(AX){var Y="";if(AX.name){Y=y(AX.name)?'"'+AX.name+'"':AX.name;
}if(AX.email){Y+=(Y.length)?" <"+AX.email+">":AX.email;}return Y;}function y(Y){return(Y.match(/[;,"<>@]/)!=null);}function X(AX,Y){if(!Y&&AX.header.replyto&&AX.header.replyto.length>0){return AX.header.replyto[0];}else{return AX.header.from;}}function I(AY,Y,AX){AY=k(AY,AX);return AG(Y?r:AA,AY).join("; ");}function k(AX,Y){return l(AX,Y);}function l(Aa,Ac){var AZ,AX,AY,Ab=new Array(),Y;for(AZ=0;AZ<Aa.length;AZ++){Y=false;if(!Aa[AZ].email){continue;}AY=Aa[AZ].email.toLowerCase();if(Ac){for(AX=0;AX<Ac.length;AX++){if(AY==Ac[AX].email.toLowerCase()){Y=true;break;}}}if(!Y){Ab.push({name:Aa[AZ].name,email:Aa[AZ].email});if(Ac){Ac.push(Aa[AZ]);}}}return Ab;}function AM(AZ){var AY=AZ,Y=AK.get("userSendPref.defaultFromAddress"),AX=function(Aa){if(Aa&&Aa.address&&(Aa.address==AZ)){AY=(Aa.replyTo||Aa.address);}};if(Y==AZ){return AK.get("userSendPref.defaultReplyToAddress")||Y;}o.Array.each([].concat((AK.get("externalAccounts")||{}).extAccount||[],(AK.get("aliases")||{}).alias||[],(AK.get("disposableAddresses")||{}).deaName||[]),AX);return AY;}function h(AX,AY){if(AX.oMsg&&AX.oMsg.header){var Y=AX.oMsg.header;AY.inreplyto=Y.messageId;AY.references="";if(Y.references){AY.references=Y.references+" ";}else{if(Y.inReplyTo){AY.references=Y.inReplyTo+" ";}}AY.references+=Y.messageId;}}function i(){return new RegExp("(^"+"re:"+"\\s?)|"+"(^"+"fw:"+"\\s?)|"+"(^"+strings["str_comp_reply_spRE"]+"\\s?)|"+"(^"+strings["str_comp_reply_spFWD"]+"\\s?)","i");}o.mix(W,{createCDO:O,insertSignature:H,applyStationery:AH,addAttachment:c,assembleSendBody:AL,transformSend:j,save:e,savePref:AI,toPlainText:f,toRichText:Q,fetchOrigin:P,getDefaultFontInfo:G,getStyleFontFamily:AU,getStyleFontSize:AT,getDefaultFromAddress:L,seedSubject:AF,htmlToText:B,getSignature:t,getBody:AR,getHeaderContent:w,transformOrigin:d,updateFromOrigin:V},true);},"3.0.0",{requires:["mail-controller-base","mail-model-compose","common-persist-user-data","mail-persist-meta-data","mail-ui-common-fonts","_shared_module_compose_reply"]});YUI.add('search_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_srch_undo_folder_attr":"Showing messages only from {{folder}}","str_srch_undo_flag_attr":"Showing only {{refineflag}} messages","str_srch_undo_sender_attr":"Showing messages sent only from {{recipient}}","str_srch_undo_date_attr":"Showing messages only from {{refinedate}}","str_srch_undo_attachtype_attr":"Showing emails with {{refineattachcat}} attachments","str_srch_sender_attr":"Only show messages sent from {{recipient}}","str_srch_folder_attr":"Only show messages from {{folder}}","str_srch_attachtype_attr":"Only show emails with {{refineattachcat}} attachments","str_srch_flag_attr":"Only show {{refineflag}} messages","str_srch_date_attr":"Only show messages from {{refinedate}}","str_srch_unflagged":"Unflagged","str_srch_flagged":"Flagged","str_srch_unread":"Unread","str_srch_read":"Read","str_srch_excel":"Excel","str_srch_html":"HTML","str_srch_music":"Music","str_srch_powerpoint":"PowerPoint","str_srch_video":"Video","str_srch_word":"Word","str_srch_zip":"ZIP","str_srch_pdf":"PDF","str_srch_plain":"Plain","str_mail_dateformat_AM_l10n":"AM","str_mail_dateformat_PM_l10n":"PM","str_mail_day":"Day","str_mail_month":"Month","str_mail_month_abbr_april":"Apr","str_mail_month_abbr_august":"Aug","str_mail_month_abbr_december":"Dec","str_mail_month_abbr_february":"Feb","str_mail_month_abbr_january":"Jan","str_mail_month_abbr_july":"Jul","str_mail_month_abbr_june":"Jun","str_mail_month_abbr_march":"Mar","str_mail_month_abbr_may":"May","str_mail_month_abbr_november":"Nov","str_mail_month_abbr_october":"Oct","str_mail_month_abbr_september":"Sep","str_mail_month_april":"April","str_mail_month_august":"August","str_mail_month_december":"December","str_mail_month_february":"February","str_mail_month_january":"January","str_mail_month_july":"July","str_mail_month_june":"June","str_mail_month_march":"March","str_mail_month_may":"May","str_mail_month_november":"November","str_mail_month_october":"October","str_mail_month_september":"September","str_mail_today":"Today","str_mail_weekday_abbr_friday":"Fri","str_mail_weekday_abbr_monday":"Mon","str_mail_weekday_abbr_saturday":"Sat","str_mail_weekday_abbr_sunday":"Sun","str_mail_weekday_abbr_thursday":"Thu","str_mail_weekday_abbr_tuesday":"Tue","str_mail_weekday_abbr_wednesday":"Wed","str_mail_weekday_friday":"Friday","str_mail_weekday_monday":"Monday","str_mail_weekday_saturday":"Saturday","str_mail_weekday_sunday":"Sunday","str_mail_weekday_thursday":"Thursday","str_mail_weekday_tuesday":"Tuesday","str_mail_weekday_wednesday":"Wednesday","str_mail_year":"Year","str_mail_yesterday":"Yesterday","str_srch_add_filters":"Add More Filters","str_srch_also_try":"Also try:","str_srch_bmp":"BMP","str_srch_date_last_month":"Last Month","str_srch_date_last_week":"Last Week","str_srch_date_today":"Today","str_srch_doc":"DOC","str_srch_docx":"DOCX","str_srch_dot":"DOT","str_srch_dotx":"DOTX","str_srch_enter_search_terms":"Please enter one or more search terms","str_srch_enter_search_terms_title":"No search terms entered","str_srch_find_by_date":"Find messages you received recently:","str_srch_find_by_file":"Find messages with attachments such as photos, videos, Word docs, and more.","str_srch_find_by_person":"Find messages from a specific person. Type in a name, Yahoo! ID, or email address.","str_srch_folder":"Folder: {{folder}}","str_srch_forwarded":"Forwarded","str_srch_from":"From:","str_srch_htm":"HTM","str_srch_jpeg":"JPEG","str_srch_jpg":"JPG","str_srch_more_from":"More from {{sender}}","str_srch_more_from_attr":"Find all messages from {{sender}}","str_srch_mp3":"MP3","str_srch_mpeg":"MPEG","str_srch_mpg":"MPG","str_srch_msword":"Word","str_srch_no_chats":"This operation can't be performed. Open the Conversation and take the preferred action.","str_srch_no_results":"No messages found","str_srch_notrefined":"To show results faster, we did not create filters for this search.","str_srch_other":"Other","str_srch_pagination_footer":"Page {{current}} of {{total}}","str_srch_person_btn":"Search","str_srch_person_btn_attr":"Search","str_srch_photo":"Photo","str_srch_png":"PNG","str_srch_pot":"POT","str_srch_potx":"POTX","str_srch_ppt":"PPT","str_srch_pptx":"PPTX","str_srch_punc_body":"Sorry, {{str_branding_mail}} currently does not support searching on punctuation characters only.","str_srch_punc_header":"Invalid search criteria","str_srch_refineby_attachment":"Attachments","str_srch_refineby_date":"Date","str_srch_refineby_event":"Events \/ To Dos","str_srch_refineby_folder":"Folder","str_srch_refineby_sender":"Sender","str_srch_refineby_sender_details":"Sender Details","str_srch_refineby_status":"Status","str_srch_refineby_type":"Message Type","str_srch_refined_by":"Results Narrowed By:","str_srch_refinements":"Narrow Results By:","str_srch_related_res":"Related Web Searches","str_srch_replied":"Replied","str_srch_rtf":"RTF","str_srch_searching":"Searching...","str_srch_select_this_msg":"Select this message","str_srch_showrefinements":"Show Filters","str_srch_sponsored_res":"Sponsored Results","str_srch_status":"{{search_results_count}} messages were found matching your search.","str_srch_status_single":"{{search_results_count}} message was found matching your search.","str_srch_tif":"TIF","str_srch_tiff":"TIFF","str_srch_title_remove_refinement_attr":"Remove Filter","str_srch_type_name":"Type name or email address","str_srch_view_all":"View All","str_srch_view_all_attachment_attr":"View All Attachments","str_srch_view_all_date_attr":"View All Dates","str_srch_view_all_folder_attr":"View All Folders","str_srch_view_all_sender_attr":"View All Senders","str_srch_view_all_type_attr":"View All Types","str_srch_view_less":"View Less","str_srch_view_less_attachment_attr":"View Less Attachments","str_srch_view_less_sender_attr":"View Less Senders","str_srch_with":"With {{recipient}}","str_srch_with_attr":"Only show messages sent by {{recipient}}","str_srch_with_me":"With Me,","str_srch_with_me_attr":"Only show messages sent by Me","str_srch_xls":"XLS","str_srch_xlsb":"XSLB","str_srch_xlsm":"XSLM","str_srch_xlsx":"XLSX","str_srch_xlt":"XLT","str_srch_xltx":"XLTX","str_tog_dateformat_messagelist_noyear_l10n":"{MMM} {d}","str_tog_dateformat_messagelist_dayandtime_l10n":"{EEE}, {h}:{mm} {A}","str_tog_dateformat_messagelist_l10n":"{MMM} {d}, {yyyy}","str_tog_snippet_hellip":true,"str_modal_zero_selected":"You must select at least one email to perform this action.","str_modal_select_single_message":"This operation can't be performed on more than one email. Select a single email and try again.","str_modal_multi_from_refinement":"This operation can't be performed as results are already refined by recipient","str_modal_multi_folder_refinement":"This operation can't be performed as results are already refined by folder","str_modal_message_delete_all_title":"Delete All Messages","str_modal_message_delete_all_question":"Are you sure you want to delete all of the selected messages?","str_msg-view_btn_toggle_search_view_attr":"Show or hide Snippet View","str_msg-view_btn_hidesearchsnippet":"Hide Snippet","str_msg-view_btn_showsearchsnippet":"Show Snippet","str_toolbar_forward_menu_toggle_attr":"","str_toolbar_forward_menu_toggle":"","str_file_all_types":"All attachment types","str_file_pdf":"PDF","str_file_ppt":"PowerPoint","str_file_xls":"Excel","str_file_doc":"Word","str_file_img":"Image","str_file_video":"Video","str_file_audio":"Music","str_dm_title":"Mail Search Tips","str_dm_description":"Start you search with \"subject:\" to search within subject lines","str_dm_pretty_url":"More Tips","str_dm_note":"Advertisement"});
}, '1.0.0');YUI.add("comms-utils",function(E){E.namespace("comms");var B={},D=E.Object,C=E.Lang,A=C.trim,F=/{{([^{}]*)}}/g;E.mix(B,{substitute:function(M,L,I,H,G,K,J){if(typeof M!=="string"){return;}if(J){M=J.str||M;L=J.obj||L;I=J.formatters||I;H=J.args||H;G=J.strings||G;K=J.templates||K;}return M.replace(F,function(O,N){var Q,P,R=B.substitute;if(I&&(Q=(J&&J.formatters)?J.formatters[N]:I[N])){return(Q(L,H,J))||"";}else{if(L&&N in L){P=L[N];return typeof P==="string"&&P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(G&&N in G){P=G[N];return P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(K&&N in K){return R(K[N].base||K[N],L,I,H,G,K,J);}else{return"";}}}}});},escapeHtml:function(G){if(G===null){return null;}G=""+G;G=G.replace(/&(?!(amp|lt|gt|quot|#39|#92);)/g,"&amp;");G=G.replace(/</g,"&lt;");G=G.replace(/>/g,"&gt;");G=G.replace(/\"/g,"&quot;");G=G.replace(/\'/g,"&#39;");G=G.replace(/\\/g,"&#92;");return G;},unescapeHtml:function(G){if(G===null){return null;}G=""+G;G=G.replace(/&amp;/g,"&");G=G.replace(/&lt;/g,"<");G=G.replace(/&gt;/g,">");G=G.replace(/&quot;/g,'"');G=G.replace(/&#39;/g,"'");G=G.replace(/&#92;/g,"\\");return G;},createAddress:function(M){var G=false,I=null,H=null,K=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/,L,J=M.replace(/\".*\"/g,"");if(!A(J)||J.indexOf("@")<0){return{fail:true,email:M,name:B.escapeHtml(M)};}if(K.test(M)){L=M.match(K);H=L[0];I=A(M.replace(H,""));H=H.substring(1,H.length-1);}else{H=I=A(M);}if(!B.isValidEmail(H)){G=true;}return{fail:G,email:H,name:B.escapeHtml(I)};},isValidEmail:function(R){if(!R){return false;}var N=0,H=R,J=R.lastIndexOf("@"),S=R.substr(0,J),M=S.replace(/\\\\/g,""),I=S.length,L=R.substr(J+1),G=L.length,O=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,K=/^"(\\"|[^"])+"$/,Q=/(^\..*)|(.*\.$)/,P=/^[A-Za-z0-9\-]+$/,T=/\.\./;if(I<1||I>64||G<1||G>255){H=false;}if(!O.test(M)&&!K.test(M)){H=false;}L=L.split(".");G=L.length;if(G<2){H=false;}while(N<G){if(!P.test(L[N++])){H=false;}}return H;},splitName:function(M){var Q={},N,J,L=A(M),R,H,K=[],I=((strings.str_name_format).replace(/\{|\}/g,"")).split(" "),P=/^(?:\w[^\s@]*@[^\s@]+\.[^\s@]{2,})?$/,O=false,G=true;if(I[0]=="family_name"){O=true;}if(I.length<3){G=false;}while(L){R=L.match(/([^\u3000\s]*)[\u3000\s]+/);if(!R||R.length!==2||!R[0]){K.push(L);break;}K.push(R[1]);L=L.substring(R[0].length);}N=K.length;for(J=0;J<N;J+=1){H=K[J];switch(J){case 0:if(H){Q[(O?"familyName":"givenName")]=(N==1&&P.test(H))?"":H;}break;case 1:if(G&&2<N){Q.middleName=H;}else{Q[(O?"givenName":"familyName")]=H;}break;case 2:if(G){Q[(O?"givenName":"familyName")]=H;}else{Q[(O?"givenName":"familyName")]+=" "+H;}break;default:Q[(O?"givenName":"familyName")]+=" "+H;}}return Q;}});E.comms.Utils=B;},"1.0.0",{requires:[]});YUI.add("comms-ui-lozenge",function(E){var P=E.common.Utils.substitute,N=E.common.Utils.escapeHtml,B=E.comms.Utils,Q=E.Lang.trim,A={base:'<li class="hLozenge"><span role="button" class="lozenge-static {{errorClass}}" title="{{hover}}">{{label}}</span>{{editable}}</li>',edit:'<input class="lozenge-edit mask" type="text" value="{{fullDisplayData}}">'},H,M=[".cm-to",".cm-cc",".cm-bcc"];E.on("click",function(U){if(!U.altKey&&!U.shiftKey&&!U.ctrlKey&&!U.metaKey){var V=E.all(".hLozenge");V.each(function(W){if(W!==U.target&&W!==U.target.get("parentNode")&&W.hasClass("focus")){W.removeClass("focus");}});}});H=function(U){var Z=this,Y,V,X,W;Z.label=U["label"]||"";Z.hover=U["hover"]||"";Z.valFn=U["valFn"]||null;Z.error=U["error"]||false;Z.menu=U["menu"]||null;Z.edit=U["edit"]||false;Z.copy=U["copy"]||false;Z.bidi=U["bidi"]||false;if(NeoConfig){Z.bidi=!!(NeoConfig.bidi);}Z.data=U["data"]||{name:"",email:"",cid:null};Z.validate();Y=E.Node.create(P(A.base,null,null,null,{label:N(this.label),editable:Z.edit?A.edit:"",errorClass:Z.error?"lozenge-error":""}));V=Z.staticL=Y.one(".lozenge-static");V.setAttribute("title",Z.hover);Y.setData("lozenge",Z);Y.setData("user",Z.data);if(Z.bidi){W=E.Intl.detectDirection(Z.label.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,">").replace(/&amp;/g,"&"));Y.setAttribute("dir",W);Y.addClass(W);}E.on("contextmenu",Z.popupMenu,V,Z);if(Z.edit){X=Z.editL=Y.one(".lozenge-edit");X.setAttribute("value",Z.getFullDisplayData());E.on("click",Z.highlight,V,Z);E.on("dblclick",Z.startEdit,V,Z);E.on("keydown",Z.typeEdit,X,Z);E.on("blur",Z.finishEdit,X,Z);}Z.rootNode=Y;};function I(U){var V=this;E.use("contacts-ui-contact-popup",function(Z){var a=V.getNode(),W=a.ancestor("ul"),X=V.data;X.copyable=V.copy;X.editable=V.edit;X.isContext=true;X.stateChangeCB=function(Y){if(Z.Node.getDOMNode(a)){if(Y.state=="show"){a.addClass("lozenge-open-menu");}else{a.removeClass("lozenge-open-menu");}}};if(W){W.all("li").removeClass("focus");}Z.mail.ContactPopup.showContactMenu(Z.mail.ContactPopup.TYPE_INTERMEDIATE,V.rootNode,X);if(a.menu&&a.menu.isVisible()){U.stopPropagation();}});U.preventDefault();}function G(f){var b=function(e){e.addClass("focus");E.fire("lozenge:highlight");};var j=(E.UA.os=="macintosh")?f.metaKey:f.ctrlKey;var a=-2,h=-1,g=-1,c,X=-1,V,Y,U=true;var W,Z;if(j||f.shiftKey){W=this.rootNode.ancestor(".ac-input");if(W){this.rootNode.ancestor(".compose-header").all(".ac-input").each(function(e){if(e!=W){e.all(".hLozenge").removeClass("focus");}});}if(j){if(this.rootNode.hasClass("focus")){this.rootNode.removeClass("focus");}else{b(this.rootNode);}}else{if(W){var d=W.all(".hLozenge");d.each(function(e){if(e.hasClass("focus")){c=d.indexOf(e);(X==c-1&&U)?U=true:((X>=0)?U=false:U=true);if(h<c){h=c;}if(a<0){a=c;}X=c;}});g=d.indexOf(this.rootNode);if(a==h||g<a||g>h){if(g<a){if(!U){V=g;Y=a;}else{V=g;Y=h;}}else{if(g>h){if(!U){V=h;Y=g;}else{V=a;Y=g;}}}}else{V=a;Y=g;}d.removeClass("focus");if(V<0||Y<0){b(this.rootNode);}else{for(c=V;c<=Y;c++){b(d.item(c));}}}}}else{Z=this.rootNode.ancestor(".compose-header");if(Z){Z=Z.all(".hLozenge");Z.removeClass("focus");}b(this.rootNode);}}function S(){var V=this,U=V.getFullDisplayData();V.staticL.setContent(N(U));V.editL.removeClass("mask");V.staticL.addClass("mask");V.editL.focus();V.editL.setAttribute("value",U);}function C(Y){var a=this,X,Z,U,W,V=Y.keyCode;if(V==13){X=a.rootNode.ancestor("div");if(X){Z=X.get("scrollTop");U=X.all("li");W=U.item(U.size()-1).one("input");W.focus();E.later(50,a,function(){X.set("scrollTop",Z);W.addClass("whiteout");});}}else{a.staticL.setContent(N(a.editL.get("value")));a.staticL.setAttribute("title",a.getFullDisplayData());}}function K(){var V=this;var U=Q(V.editL.get("value"));if(!U){V.remove();return;}V.data=V.createUserDataFromString(U);V.validate();V.setState();V.setLabel();V.staticL.setAttribute("title",V.getFullDisplayData());V.staticL.removeClass("mask");V.editL.addClass("mask");}function F(){return this.rootNode;}function L(){var U=this;if(U.valFn){if(!U.valFn.call(U,U.data)){U.data.fail=true;U.error=true;return false;}}else{if(!B.isValidEmail(U.data.email)){U.data.fail=true;U.error=true;return false;}}U.data.fail=false;U.error=false;return true;}function R(){var U=this.data,V;V=U.name||U.email;this.staticL.setContent(N(V));}function O(){if(this.error){this.staticL.addClass("lozenge-error");}else{this.staticL.removeClass("lozenge-error");}}function J(a){var U=false,W=null,V=null,Y=/(<[^<>]+[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/,Z,X;a=Q(a);X=a.replace(/\".*\"/g,"");if(!Q(X)||X.indexOf("@")<0){U=true;V=W=a;}else{if(Y.test(a)){Z=a.match(Y);V=Z[0];W=Q(a.replace(V,""));V=V.substring(1,V.length-1);}else{V=W=a;}if(B.isValidEmail(V)){this.error=false;U=false;}else{this.error=true;U=true;}}return{fail:U,email:V,name:W};}function D(){var V=this.data,W=V.name||"",U=V.email;if(this.error){return U;}W=(W==U)?"":W+" ";return W+"<"+U+">";}function T(){var U=this;U.rootNode.remove().destroy(true);}H.prototype={popupMenu:I,highlight:G,startEdit:S,typeEdit:C,finishEdit:K,getNode:F,validate:L,setLabel:R,setState:O,getFullDisplayData:D,createUserDataFromString:J,remove:T};E.namespace("comms.ui");E.comms.ui.Lozenge=H;E.comms.ui.LozengeUtils={makeContact:function(g,U){var Z,W=[],X=[],e,Y,V,d,c,f,b,a=g.all("span.lozenge");for(Z in U){Y=U[Z]["fields"];for(i=0,l=Y.length;i<l;i++){e=Y[i];if(e["type"]=="email"){W=W.concat(e["value"]);}else{if(e["type"]=="name"){V=e["value"];d=E.common.Utils.substitute(strings["str_name_format"],{given_name:V.givenName,family_name:V.familyName});X=X.concat(d);}}}}a.each(function(h){if(h.hasClass("lozengeadd")){f=h.getAttribute("data-address");for(c=0;c<W.length;c++){if(W[c]==f){h.remove();if(b){b.addClass("right");d=X[c];if(d){b.one("a").setContent(d);}b=null;}}}}else{b=h;}});}};},"0.0.1",{requires:["comms-ui-lozenge_css","common-utils","comms-utils","node"]});YUI.add("event-valuechange",function(D){var B=D.Array,C="value",A={POLL_INTERVAL:50,TIMEOUT:10000,_history:{},_intervals:{},_notifiers:{},_timeouts:{},_poll:function(I,F,J){var H=I._node,E=H&&H.value,K=A._history[F],G;if(!H){A._stopPolling(I,F);return;}if(E!==K){A._history[F]=E;G={_event:J,newVal:E,prevVal:K};B.each(A._notifiers[F],function(L){L.fire(G);});A._refreshTimeout(I,F);}},_refreshTimeout:function(F,E){A._stopTimeout(F,E);A._timeouts[E]=setTimeout(function(){A._stopPolling(F,E);},A.TIMEOUT);},_startPolling:function(F,E,H,G){if(!E){E=D.stamp(F);}if(!G&&A._intervals[E]){return;}A._stopPolling(F,E);A._intervals[E]=setInterval(function(){A._poll(F,E,H);},A.POLL_INTERVAL);A._refreshTimeout(F,E,H);},_stopPolling:function(F,E){if(!E){E=D.stamp(F);}A._intervals[E]=clearInterval(A._intervals[E]);A._stopTimeout(F,E);},_stopTimeout:function(F,E){if(!E){E=D.stamp(F);}A._timeouts[E]=clearTimeout(A._timeouts[E]);},_onBlur:function(E){A._stopPolling(E.currentTarget);},_onFocus:function(F){var E=F.currentTarget;A._history[D.stamp(E)]=E.get(C);A._startPolling(E,null,F);},_onKeyDown:function(E){A._startPolling(E.currentTarget,null,E);},_onKeyUp:function(E){if(E.charCode===229||E.charCode===197){A._startPolling(E.currentTarget,null,E,true);}},_onMouseDown:function(E){A._startPolling(E.currentTarget,null,E);},_onSubscribe:function(I,H,G){var F=D.stamp(I),E=A._notifiers[F];A._history[F]=I.get(C);G._handles=I.on({blur:A._onBlur,focus:A._onFocus,keydown:A._onKeyDown,keyup:A._onKeyUp,mousedown:A._onMouseDown});if(!E){E=A._notifiers[F]=[];}E.push(G);},_onUnsubscribe:function(J,I,H){var G=D.stamp(J),E=A._notifiers[G],F=B.indexOf(E,H);H._handles.detach();if(F!==-1){E.splice(F,1);if(!E.length){A._stopPolling(J,G);delete A._notifiers[G];delete A._history[G];}}}};D.Event.define("valueChange",{detach:A._onUnsubscribe,on:A._onSubscribe,publishConfig:{emitFacade:true}});D.ValueChange=A;},"@VERSION@",{requires:["event-focus","event-synthetic"]});YUI.add("comms-ui-autocomplete-plugin",function(C){var B="autocomplete",F=C.Lang,G=C.Array.each,L=C.Plugin,E=L.Base,I="ac",D=13;function J(O,Q){var R=this,N="down",P=C.stamp(this)+"|";if(C.UA.gecko>0){N="press";C.on(P+"key",O.raiseFlag,Q,"down",O);}C.on(P+"valueChange",H,Q,O);C.on(P+"key",O.next,Q,N+":40",O);C.on(P+"key",O.previous,Q,N+":38",O);C.on(P+"key",O.close,Q,"down:27",O);Q.on("keyup",function(S){if(S.keyCode===D){S.type="select";this.select.call(O,S);}},O,"select");}function H(O){var N=O.newVal;if(!N){this._cachedValue=false;return this.close();}if(N===this._cachedValue||N.length<this.get("minQueryLength")){return false;}this._cachedValue=N;this.fire("ac:query",{value:O.newVal});return true;}function A(N){return function(){if(N){N.setAttribute(B,"on");}N=null;};}function K(N){var P=C.Node.getDOMNode(N),Q=P.getAttribute(B);if((Q&&Q!=="off")||Q===null||Q===undefined){var O=A(P);C.on("beforeunload",O,window);C.on("unload",O,window);}P.setAttribute(B,"off");}function M(){M.superclass.constructor.apply(this,arguments);}C.extend(M,E,{_defaultEventFn:null,initializer:function(){var N=this,O=N.get("host"),P=(!F.isNull(N._defaultEventFn)?N._defaultEventFn:{});J(N,O);G(["query","load","show","hide","next","previous","select"],function(Q){N.publish("ac:"+Q,{broadcast:1,bubbles:1,context:N,preventable:true,prefix:I,defaultFn:P[Q]||null});},N);K(O);},destructor:function(){var N=this;C.detach(C.stamp(N)+"|");N.detachAll();},open:function(){this.fire("ac:show");},next:function(N){if(this.conflictingKeyFlag&&C.UA.gecko){return;}N.preventDefault();this.fire("ac:next");},previous:function(N){if(this.conflictingKeyFlag&&C.UA.gecko){return;}N.preventDefault();this.fire("ac:previous");},raiseFlag:function(O,N){if((O.keyCode===55)||(O.keyCode==57)){N.conflictingKeyFlag=true;}else{N.conflictingKeyFlag=false;}},select:function(N){this.fire("ac:select",N);},hide:function(){},close:function(){this.fire("ac:hide");},reload:function(N){if(N){if(N.length<1){this.set("badResult",this.get("queryValue"));}this.fire("ac:load",{results:N,query:this.get("queryValue")});}}},{NAME:"ACPlugin",NS:I,ATTRS:{queryValue:{getter:function(){return this.get("host").get("value");},setter:function(N){this.get("host").set("value",N);return(this._cachedValue=N);}},dataSource:{value:[]},minQueryLength:{value:0,validator:F.isNumber},queryTemplate:{value:encodeURIComponent,setter:function(N){return(F.isFunction(N)?N:function(O){return N.replace(/(^|[^\\])((\\{2})*)\{query\}/,"$1$2"+encodeURIComponent(O)).replace(/(^|[^\\])((\\{2})*)\\(\{query\})/,"$1$2$4");});}},alignNode:null,conflictingKeyFlag:false,badResult:{value:false,setter:function(N){return(C.Lang.isString(N))?N:false;}}}});C.namespace("comms.ui");C.comms.ui.AutoCompleteEventsPlugin=M;},"1.0.0",{requires:["node","plugin","event-valuechange","event-key"]});YUI.add("comms-ui-autocomplete",function(C){var H=C.Array.each,F=C.Lang,B=C.Overlay,G="selectedIndex",A="queryValue",J="ac",D="_BOUND",I="_"+G,K="_originalValue";function E(){E.superclass.constructor.apply(this,arguments);this.delegated=false;}C.extend(E,B,{initializer:function(){var L=this;L.after({queryChanged:L.drawMarkUp,dataChanged:L.drawMarkUp});L.hide();L.publish(J+":complete",{broadcast:1,bubbles:1,context:L,preventable:true,prefix:J});},renderUI:function(){var M=this.get("ac"),L={"display":"none","overflow":"auto","maxHeight":"300px"};if(!M){return false;}this.get("contentBox").setStyles(L);this.get("contentBox").set("role","listbox");this.setSize();this.set("align",{node:this.get("ac").get("alignNode"),points:[C.WidgetPositionAlign.TL,C.WidgetPositionAlign.BL]});this.get("contentBox").setStyle("display","block");return true;},bindUI:function(P){var Q=this,L=Q.get("contentBox"),O=Q.get("ac"),N=C.stamp(Q)+"|";if(P&&O!==P&&Q[D]){C.detach(N);Q[D]=0;}P=P||O;if(P&&!Q[D]){var M=[];Q[D]=1;if(!Q.delegated){Q.delegated=true;M.push(L.delegate("click",Q.click,"li",Q));M.push(L.delegate("mousemove",function(R){R.halt();R.currentTarget.addClass("over");},"li",Q));M.push(L.delegate("mouseleave",function(R){R.halt();R.currentTarget.removeClass("over");},"li",Q));M.push(C.on("click",function(R){if(!Q.isVisible()){return;}Q.hide();Q.get("ac").get("host").simulate("keydown",{keyCode:13});},document,this));}M.push(P.on(N+J+":load",function(R){Q.setAttrs({query:R.query,data:R.results}).drawMarkUp().show().setAlign();}));M.push(P.on(N+J+":query",function(R){Q.set("query",R.value).drawMarkUp();}));M.push(P.on(N+J+":next",Q.next,Q));M.push(P.on(N+J+":previous",Q.previous,Q));M.push(P.on(N+J+":hide",Q.hide,Q));P.select=function(R){Q.selected.call(Q,R,"enter");};Q.listeners=M;}return Q;},setSize:function(){if(!this.get("expandWidthToContents")){this.set("width",this.get("ac").get("alignNode").getStyle("width"));}},setAlign:function(){var O=this,M=O.get("ac").get("alignNode"),L=M.get("region"),N=[L.left,L.bottom];if(O.get("xy")[0]!=N[0]||O.get("xy")[1]!=N[1]){O.set("xy",N);}return O;},drawMarkUp:function(){var L=this,N=L.get("data"),M=L.get("query");if(!N){return L;}L[I]=-1;L[K]="";L.get("contentBox").set("innerHTML",L.getListMarkup(N));if(N.length>0){this.set(G,0);L.get("contentBox").setStyle("display","block");}else{L.get("contentBox").setStyle("display","none");}return L;},getListMarkup:function(O){var N=this,L=N.get("listTpl"),M=[];H(O,function(P){M.push(N.getItemMarkup(P));});return L.replace(/\{list\}/g,M.join(""));},getItemMarkup:function(M){var L=this;if(!F.isString(M)){return false;}return L.get("itemTpl").replace(/\{hilite\}/g,M);},_fixView:function(O){var R=this,N=R.get(G),L=R.get("contentBox"),Q,M,M,P;if(N===-1){L.set("scrollTop",0);return true;}M=R.item(N);Q=L.get("scrollTop");M=R.item(N);P=M.get("offsetTop");if(O){if((P>Q)&&!(R.itemsCount()==(N+1))){return true;}L.set("scrollTop",P);document.body.scrollIntoView();return false;}else{if((P+M.get("clientHeight"))>(Q+L.get("clientHeight"))){L.set("scrollTop",L.get("scrollTop")+M.get("clientHeight"));if(C.UA.ie<=0){M.scrollIntoView();}document.body.scrollIntoView(false);}return true;}},next:function(){var L=this;if(L.itemsCount()==1){return false;}return(L.get("visible")?L.selectNext():L);},selectNext:function(){var L=this;L.set(G,this.get(G)+1);L._fixView(false);return L.get(G);},selectPrevious:function(){var L=this;L.set(G,this.get(G)-1);L._fixView(true);return L.get(G);},previous:function(){var L=this;if(L.itemsCount()==1){return false;}return L.get("visible")?L.selectPrevious():L;},isVisible:function(){return this.get("visible");},item:function(L){return this.get("contentBox").all(this.get("itemSelector")).item(L);},itemsCount:function(){return this.get("contentBox").all(this.get("allItemsSelector")).size();},click:function(L){this.selected(L,"click");},autoManageSelect:function(L){var M=this,N=M.get("ac");if(!L){L=false;}if(L){N.on(J+":select",M.handleEnter,M);}else{N.detachAll(J+":select");}},handleEnter:function(P,M){if(!M){M=this;}var O=M.get("ac"),L=M[I],N,Q;P.halt();M.fire(J+":complete",M);if(L!=-1){N=M.item(L);if(N){Q=N.get("text");O.set(A,Q);}M[I]=-1;O.get("host").focus();M.hide();}},selected:function(P,N){if(!N){N="click";}var L=null,M=this,O=M.get("ac");if(N=="click"){L=P.currentTarget;}if(N=="enter"){L=M.item(this.get(G));}if(!L){return false;}P.selectedItem=L;P.type=N;P.container=M.get("contentBox");O.fire("ac:select",P);M[I]=-1;return true;},setHostValue:function(M){var L=this;L.get("ac").set(A,M);L.get("ac").get("host").focus();L.hide();},reload:function(L){return this.get("ac").reload(L);},close:function(){var L=this;L.get("ac").close();L.hide();},destroy:function(){var M=this.listeners;if(M){var N=M.length,L;for(L=0;L<N;L++){if(M[L]){M[L].detach();M[L]=null;}}this.listeners=null;}E.superclass.destroy.apply(this,arguments);}},{NAME:"AutoCompleteWidget",ATTRS:{ac:{setter:function(L){if(!this[D]){return;}this.bindUI(L);},validator:function(L){return true;}},data:{},query:{value:""},listTpl:{value:'<ul role="presentation">{list}</ul>'},itemTpl:{value:'<li role="option">{hilite}</li>'},itemSelector:{value:"ul li"},allItemsSelector:{value:"ul li"},expandWidthToContents:{value:false}}});E.ATTRS[G]={value:-1,validator:function(L){var M=this.get("data");return M&&C.Lang.isNumber(L);},getter:function(){return this[I];},setter:function(N){var S=this,P=S.get(G),Q=S.get("data"),L=Q&&Q.length,R=S.get("ac"),M=this.getClassName("selected");if(isNaN(P)){P=-1;}if(!Q||!L){return false;}while(N<-1){N+=L+1;}N=(N+1)%(L+1)-1;P=(P+1)%(L+1)-1;S[I]=N;if(P===-1){S[K]=R.get(A);}if(P===N){return false;}var T=S.get("contentBox").one("."+M);if(T){T.removeClass(M);}if(N===-1){}else{var O=S.item(N);if(O){O.addClass(M);}}return N;}};C.namespace("comms.ui");C.comms.ui.AutoComplete=E;},"1.0.0",{requires:["overlay","comms-ui-autocomplete-plugin","node-event-simulate"]});YUI.add("filter-contacts",function(C){var T=C.contacts,E=T.api,R=T.utils,K={},H=function(Y,d){if(Y.emailField&&Y.emailField.id){return Y.emailField.id;}return Y.id;},O=function(Y,e){for(var d=0;d<e.length;d++){Y.push(e[d]);}return Y;},S=function(){var d=new Date().getTime(),n=R.getSortedFlatContacts(),f=function(r,s){var t=[];r.user&&t.push(r.user.charAt(s).toLowerCase());r.firstname&&t.push(r.firstname.charAt(s).toLowerCase());r.lastname&&t.push(r.lastname.charAt(s).toLowerCase());r.nickname&&t.push(r.nickname.charAt(s).toLowerCase());r.mobileno&&O(t,r.mobileno.toLowerCase());r.homeno&&O(t,r.homeno.toLowerCase());r.workno&&O(t,r.workno.toLowerCase());r.isCategory||(r.email&&t.push(r.email.charAt(s).toLowerCase()));return t;};var j,m,k,o=R.getCategories();for(m in o){var l=o[m],q=0,e=0;for(j in l.contacts){var h=R.getContactById(l.contacts[j]),p=R.getFieldsByType(h,"email");if(p){q+=1;e+=p.sc_score?p.sc_score:0;}}n.push({firstname:l.name,email:[q,"<span style='display:none'>___AC_CAT_ID:",l.id,"</span>"].join(""),id:l.id,sc_score:Math.floor((e/q)*(2/3)),isCategory:true});}k={};K=[];for(j in n){var h=n[j];if((!h.email)||(!h.email.length)){continue;}var Y,i=f(h,0);for(Y in i){var g=i[Y];if(!K[g]){K[g]={};}K[g][H(h)]=h;}}},A=function(l){var f={},d={},k={},h,m;h=l.filterItems;for(var e=0;e<h.length;e++){var n=h[e];var g=n.value.charAt(0).toLowerCase();var Y=K[g];for(m in Y){d[m]=Y[m];}}for(m in d){var j=d[m];if(l.filterContact(j)&&!k[j.email]){k[j.email]=true;f[H(j)]=j;}}var o=[];for(m in f){o.push(f[m]);}R.sortFlatContacts(o);return o;};C.on("contacts:api:contactChanged",S);C.on("contacts:api:loaded",S);if(R.areContactsLoaded()){S();}else{E.load();}function F(){this.filterItems=[];this.matchType=1;this.init_temp_data=true;this.del_temp_data=true;this.match_limit=50;}var D=["mobileno","homeno","workno","firstname","lastname","user","email","nickname"];var a=new RegExp("[\\+\\*\\?\\^\\[\\]\\{\\}\\$\\\\/%#~:<>()]","g");var U=new RegExp("[^0-9]","g");var G=new RegExp("[ _\\.\\-@]","g");var Z=new RegExp("[ _\\.\\-@][^ _\\.\\-@]","g");F.prototype.fastMatch=function(){return A(this).slice(0,this.match_limit);};var P=/___AC_CAT_ID\:([0-9]+)/;F.prototype.decodeCategory=function(j){var f=P.exec(j);if(f&&f.length>1){var h=R.getCategoryById(f[1]),e=[];for(var d in h.contacts){var i=R.getBasicFlatContacts(R.getContactById(h.contacts[d]));for(var g in i){var Y=i[g];if(Y.isPrimary){e[H(Y)]=Y;break;}}}return e;}else{return false;}};function I(e){var Y,d,g;var f=e.value;if(e.numeric){d=f.length;if(d>1){g=f.charAt(0);Y=1;while(Y<d){g+="[ _\\.\\-()]*";g+=f.charAt(Y);Y+=1;}}else{g=f;}}else{g=f;}e.regExp=new RegExp(g,"gi");}function c(e,d){var Y={};Y.value=e;if(!U.test(e)){Y.numeric=true;}Y.group_id=d;Y.match_siIndex=-1;I(Y);return Y;}function N(j){var d,Y,k,g,e;var l,f=[];Y=j.length;if(Y===0){return f;}var h=new RegExp("[ ]","g");for(d=0;d<Y;d++){k=j[d];g=0;while(h.test(k)){e=h.lastIndex-1;if(g<e){l=c(k.substring(g,e),d);f.push(l);}g=h.lastIndex;}if(g<k.length){l=c(k.substring(g),d);f.push(l);}}return f;}function X(g){var Y=[];var e,f,d;if(g.length>0){d=new RegExp("[,;]","g");e=0;while(d.test(g)){f=d.lastIndex-1;if(f>e){Y.push(g.substring(e,f));}e=d.lastIndex;}if(e<g.length){Y.push(g.substring(e));}}return Y;}F.prototype.updateFilterItems=function(f){if(f.length>2048){f=f.substring(0,2048);}f=f.replace(a," ");var Y=X(f);var e,d=C.common.Utils;for(e in Y){if(Y.hasOwnProperty(e)){Y[e]=d.regexpEscape(d.escapeHtml(Y[e]));}}this.filterItems=N(Y);};F.fuzzyMatch=function(f,d,p,Y){var i=f.length;var w=d.length;var r=[];var s=[];var o=[];var e,t,g,l,j,n,k,q;var x,u,m,h;for(e=0;e<=i;e++){s[e]=e;}l=w-p;if(l>i+Y){l=i+Y;}g=0;n="";for(t=0;t<l;t++){q=n;n=d.charAt(t+p).toLowerCase();if(g<=0){x=t+1;o[0]=x;m=x;g=0;j="";}else{x=Y+1;o[g]=x;m=x;j=f.charAt(e-1).toLowerCase();}for(e=g,g=-1;e<i;e++){k=j;j=f.charAt(e).toLowerCase();if(j===n){x=s[e];}else{x=s[e]+1;u=o[e]+1;if(x>u){x=u;}u=s[e+1]+1;if(x>u){x=u;}if(j===q&&k===n){u=r[e-1]+1;if(x>u){x=u;}}}o[e+1]=x;if(m>x){m=x;}if(g===-1&&x<=Y){if(e===0&&o[0]<=Y){g=0;}else{g=e+1;}}if(x>o[e]&&x>Y){break;}}if(e===i){if(x===0){s=o;t+=1;break;}u=s[i];if(u!==undefined&&u<x){break;}}if(m>Y){return null;}r=s;s=o;o=[];}x=s[i];if(x===undefined||x>Y){return null;}else{h={};h.start=p;h.end=t+p;h.diff=x;return h;}};function V(Y,d,j,p){var o;var m,k,h,g,n;var f,e,l;f=p.fuzzy_match_idx+1;n=p.fuzzy_matches;if(f<n.length){g=n[f];p.fuzzy_match_idx=f;return g;}else{if(!p.fuzzy_complete){o=Z;m=-1;while(true){if(m===-1&&p.fuzzy_match_idx===-1){m=0;}else{if(m<=0){o.lastIndex=(p.fuzzy_match_idx===-1)?0:n[p.fuzzy_match_idx].start+1;}if(o.test(Y)){m=o.lastIndex-1;}else{break;}}h=p.matches;for(f=0,e=h.length;f<e;f++){k=h[f];if(m>k.start){break;}else{if(m===k.start){g={};g.start=k.start;g.end=k.end;g.diff=0;n.push(g);p.fuzzy_match_idx+=1;j.match_idx=g.end;return g;}}}e=j.value.length;if(e<=2){l=0;if(p.complete){continue;}}else{if(e<=5){l=1;}else{l=2;}}if((g=F.fuzzyMatch(j.value,Y,m,l))!==null){n.push(g);p.fuzzy_match_idx+=1;j.match_idx=g.end;return g;}}p.fuzzy_complete=true;}p.fuzzy_match_idx=-1;return null;}}function J(Y,e,j,l){var k;var f,d,m,h,g;f=l.match_idx+1;g=l.matches;if(f<g.length){h=g[f];l.match_idx=f;return h;}else{if(!l.complete){k=j.regExp;k.lastIndex=(l.match_idx===-1)?0:g[l.match_idx].start+1;d=k.lastIndex;while(k.exec(Y)){if(e){m=Y.substring(d,k.lastIndex);d+=m.search(k);h={};h.end=k.lastIndex;h.start=d;g.push(h);l.match_idx+=1;j.match_idx=h.end;return h;}else{d=k.lastIndex-j.value.replace(/\\/g,"").length;if(d===0||Y.charAt(d-1).search(G)===0){h={};h.end=k.lastIndex;h.start=d;g.push(h);l.match_idx+=1;j.match_idx=h.end;return h;}}}l.complete=true;}l.match_idx=-1;return null;}}function Q(e,Y,d,f,h,i,k){var g;var j=(d||e.matchType!==2)?J:V;while((g=j(Y,d,f,h))!==null){if(k){if(g.start>=f.start_idx){f.start_idx=g.start;return true;}}else{if(f.start_siIndex===i&&f.start_idx===g.start){continue;}else{return true;}}}return false;}function W(m,l){var j=l.matches;var Y,k;var g,e,d,f,h;if(m.match_idx!==-1){Y=m.match_idx;
k=m.matches;}else{if(m.fuzzy_match_idx!==-1){Y=m.fuzzy_match_idx;k=m.fuzzy_matches;}else{return false;}}d=k[Y].start;f=k[Y].end;for(g=0,e=j.length;g<e;g++){h=j[g];if(!(h.end<=d||f<=h.start)){return false;}}for(g=0,e=l.length;g<e;g++){if((l[g].match_idx!==-1||l[g].fuzzy_match_idx!==-1)&&l[g].group_id!==m.group_id){return false;}}h={};h.start=d;h.end=f;l.matches.push(h);return true;}function M(g,m,q,d,n,p,r){if(n.phoneno&&!m.numeric){return false;}var j,f,o;var e,h,l,k;for(j=0,f=n.length;j<f;j++){if(n[j].index===q){o=n[j];break;}}if(!o){o={};o.index=q;o.group_id=m.group_id;o.match_idx=-1;o.matches=[];o.fuzzy_match_idx=-1;o.fuzzy_matches=[];n.push(o);}var Y=o.match_idx;while(Q(g,d,n.phoneno,m,o,p,r)){if(W(o,n)){return true;}}if(Y!==-1){k=n.matches;e=o.matches[Y].start;h=o.matches[Y].end;for(j=0,f=k.length;j<f;j++){l=k[j];if(l.start===e&&l.end===h){k.splice(j,1);}}}m.match_idx=-1;return false;}function B(f,i,g,m){var l,h,j,d,k,e,Y,n;h=D.length;n=false;if(g.match_siIndex===-1){n=true;g.start_siIndex=-1;g.start_idx=-1;if(m>0){Y=f.filterItems[m-1];if(Y.group_id===g.group_id){g.start_siIndex=Y.match_siIndex;g.start_idx=Y.match_idx;}}}if(n&&g.start_siIndex!==-1){l=g.start_siIndex;e=(l<3);if(e&&!g.numeric){}else{j=D[l];d=i[j];if(d&&d.length>0){k=i._matches[j];if(!k){k=[];k.matches=[];if(e){k.phoneno=true;}i._matches[j]=k;}if(M(f,g,m,d,k,l,true)){g.match_siIndex=l;g.special_match=true;return true;}}}}if(g.match_siIndex===-1){l=0;}else{if(g.special_match){g.special_match=false;l=0;}else{l=g.match_siIndex;}}while(l<h){e=(l<3);if(e&&!g.numeric){l+=1;continue;}j=D[l];d=i[j];if(d&&d.length>0){k=i._matches[j];if(!k){k=[];k.matches=[];if(e){k.phoneno=true;}i._matches[j]=k;}if(M(f,g,m,d,k,l,false)){g.match_siIndex=l;return true;}}l+=1;}g.match_siIndex=-1;return false;}F.prototype.filterContact=function(k){delete k.matches;if(this.filterItems.length===0){return false;}if(this.init_temp_data){k._matches={};}var e,d;d=this.filterItems.length;e=0;while(e<d){if(!B(this,k,this.filterItems[e],e)){if(e>0){e-=1;continue;}else{if(this.del_temp_data){delete k._matches;}return false;}}e+=1;}k.matches={};var o,j,l,m;var n,g,Y,f,h;j=D.length;o=0;while(o<j){l=D[o];m=k._matches[l];if(m&&m.length>0){for(e=0,d=m.length;e<d;e++){n=m[e];if((Y=n.match_idx)!==-1){g=this.filterItems[n.index];h=n.matches[Y];f={};f.term=g.value;f.startIndex=h.start;f.endIndex=h.end;if(!k.matches[l]){k.matches[l]=[];}k.matches[l].push(f);n.match_idx=-1;}else{if((Y=n.fuzzy_match_idx)!==-1){g=this.filterItems[n.index];h=n.fuzzy_matches[Y];f={};f.term=g.value;f.startIndex=h.start;f.endIndex=h.end;f.diff=h.diff;if(!k.matches[l]){k.matches[l]=[];}k.matches[l].push(f);n.fuzzy_match_idx=-1;}}}if(!this.del_temp_data){m.matches=[];}}o+=1;}if(this.del_temp_data){delete k._matches;}for(e=0,d=this.filterItems.length;e<d;e++){this.filterItems[e].match_siIndex=-1;}return true;};F.prototype.setConfigValues=function(e,Y,d){this.matchType=e;this.init_temp_data=C.Lang.isBoolean(Y)?Y:true;this.del_temp_data=C.Lang.isBoolean(d)?d:true;};F.prototype.filterContacts=function(h){var f,g,Y,e=true,j=[];if(this.filterItems.length===0){}else{this.setConfigValues(1,true,!e);for(var d in h){if(typeof h[d].email!="undefined"){if(this.filterContact(h[d])){j.push(h[d]);}}}}return j;};F.prototype.buildContactsIndex=function(){S();};function b(e,Y){var d,f;for(d=0,f=e.filterItems.length;d<f;d++){if(e.filterItems[d].match_siIndex!==-1){return false;}}return true;}function L(h){var f,e,d,g;var k,Y,l,m;if(!h._matches){return true;}for(f=0,g=D.length;f<g;f++){k=D[f];Y=h[k];if(Y&&Y.length>0){l=h._matches[k];if(l){if(l.matches.length>0){return false;}for(e=0,d=l.length;e<d;e++){m=l[e];if(m.match_idx!==-1){return false;}if(m.fuzzy_match_idx!==-1){return false;}}}}}return true;}F._test={validateFilterItems:b,validateTempMatchData:L};C.namespace("comms").FilterContacts=F;},"1.0.0",{requires:["contacts-api-utils","contacts-api"]});